<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>S&P Global | Spark Socia v1.0</title>
    <style>
      html,
      body {
        font-family: Akkurat LL;
        margin: 0;
        padding: 0;
        height: 100%;
      }

      #svg-container {
        display: none;
      }

      button {
        display: inline-block;
        padding: 11px 8px;
        background-color: #4390df;
        border: none;
        border-radius: 4px;
        text-align: center;
        font-size: 11px;
        font-weight: normal;
        color: white;
        cursor: pointer;
        outline: none;
        box-sizing: border-box;
        position: relative;
        margin-bottom: 4px;
      }

      button:hover {
        background-color: #4280bf;
      }

      .secondary {
        background: none;
        box-sizing: border-box;
        border: 2px solid #777;
        transition: 0.3s;
        color: #777;
      }

      .secondary:hover {
        background-color: #e7f0f5;
        border: 2px solid #2c92e5;
        color: #2c92e5;
      }

      .toggle-switch-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        cursor: pointer;
        font-size: 11px;
        font-weight: normal;
        color: #707070;
        height: 38px;
        /* No text highlight */
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10 and IE 11 */
        user-select: none; /* Standard syntax */
      }

      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 26px;
        height: 14px;
        background-color: #c4c4c4;
        border-radius: 8px;
      }

      .toggle-switch .switch-circle {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 10px;
        height: 10px;
        background-color: #f7f7f7;
        border-radius: 50%;
        transition: left 0.3s;
        border: 2px solid #4b4b4b;
      }

      .toggle-switch.on {
        background-color: #4b4b4b;
      }

      .toggle-switch.on .switch-circle {
        left: 12px;
      }

      .left-panel,
      .right-panel {
        position: fixed;
        height: 100%;
      }

      .left-panel {
        width: 48px;
        background-color: #f7f7f7;
        border-right: 2px solid #e4e4e4;
        overflow-y: auto;
        overflow-x: none;
        /* transition: width 0.3s; */
      }

      .left-panel.expanded {
        width: 300px;
        overflow-y: auto;
        overflow-x: none;
      }

      .right-panel {
        left: 50px;
        right: 0;
        background-color: #e4e4e4;
        display: flex;
        align-items: center;
        justify-content: center;
        /* transition: left 0.3s; */
      }

      .right-panel.left-expanded {
        left: 302px;
      }

      .toolbox_button {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: none;
        border: none;
        cursor: pointer;
      }

      .toolbox_button + .toolbox_button {
        margin-top: 4px;
      }

      .toolbox_button:hover {
        background: none;
        outline: 2px solid #666666;
        outline-offset: -2px;
      }

      .toolbox_button svg path {
        fill: #666666;
      }

      .toolbox_button.active svg path {
        fill: #2c92e5;
      }

      .toolbox_dropdown {
        width: 100%;
        padding: 8px;
        color: #666666;
        font-size: 11px;
      }

      .active {
        color: #2c92e5 !important;
        font-weight: bold !important;
      }

      .tools {
        display: none;
        position: absolute;
        right: 0;
        top: 0;
        width: 252px;
        height: 100%;
        border-left: 2px solid #e4e4e4;
        padding: 12px;
        padding-right: 24px;
        box-sizing: border-box;
        overflow-y: auto;
        overflow-x: none;
      }

      .left-panel.expanded .tools {
        display: block;
      }

      .inside_tools_container {
        width: 100%;
        height: 100%;
      }

      .toolbox_expanded_button {
        display: block;
        padding: 11px 8px;
        width: 100%;
        background-color: #ffffff;
        border: none;
        border-radius: 4px;
        text-align: left;
        font-size: 11px;
        font-weight: normal;
        color: #707070;
        cursor: pointer;
        outline: none;
        box-sizing: border-box;
        position: relative;
        margin-bottom: 4px;
      }

      .toolbox_expanded_button .active {
        border: 1px solid #666666;
      }

      .toolbox_expanded_button:hover {
        background-color: #ffffff;
      }

      .toolbox_expanded_button:hover::before {
        content: "";
        display: block;
        position: absolute;
        top: 1px;
        left: 1px;
        right: 1px;
        bottom: 1px;
        border: 1px solid #e1e1e1;
        border-radius: 2px;
        pointer-events: none;
      }

      .toolbox_expanded_label {
        padding: 11px 0;
        width: 100%;
        text-align: left;
        font-size: 11px;
        font-weight: normal;
        color: #707070;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      .toolbox_expanded_inputbox {
        font-family: Akkurat LL;
        padding: 11px 8px;
        width: 100%;
        text-align: left;
        font-size: 11px;
        font-weight: normal;
        color: #707070;
        border: 1px solid #cccccc;
        border-radius: 0px;
        outline: none;
        box-sizing: border-box;
        resize: none; /* Prevent manual resizing */
        overflow: hidden; /* Hide scrollbars */
        overflow-y: auto;
        white-space: wrap; /* Prevent text from wrapping to the next line */
        position: relative;
      }

      svg {
        width: 20px;
        height: 20px;
        fill: #666666;
      }

      #sp_logo {
        width: 24px;
        height: 24px;
      }

      .text_balance {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 40px;
        width: 100%;
        background-color: lightgray;
        background: none;
        font-size: 11px;
        color: #707070;
      }

      .number-input {
        width: 36px;
        height: 24px;
        font-size: 12px;
      }

      .toolbox_icon_button_container {
        display: flex;
        flex-wrap: wrap;
        justify-content: start;
      }

      .toolbox_icon_button {
        width: 44px;
        height: 44px;
        background-color: #ffffff;
        border: none;
        border-radius: 4px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        padding: 0;
      }

      .toolbox_icon_button:hover {
        background-color: #e7f0f5;
      }

      .toolbox_icon_button.active_icon_button svg {
        fill: #2c92e5;
      }

      .toolbox_icon_button.active_icon_button svg path {
        fill: #2c92e5;
      }

      svg.icon {
        width: 20px;
        height: 20px;
        fill: #666666;
      }

      .drag-drop-area {
        width: 100%;
        height: 64px;
        background-color: transparent;
        border-radius: 4px;
        color: #666666;
        border: 2px dashed #666666;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }

      .drag-drop-area:hover {
        color: #4280bf;
        border: 2px dashed #4280bf;
        background-color: #e8f0f5;
      }

      /* Updated CSS */
      .color-indicator {
        width: 22px;
        height: 22px;
        border: 1px solid #666666;
        position: absolute;
        right: 16px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        justify-content: center;
        align-items: center; /* Center vertically */
        pointer-events: none;
      }

      .color-indicator span {
        font-size: 11px;
      }

      .text-container {
        color: #757575;
        font-size: 14px;
        line-height: 1.3;
        font-style: italic;
        margin-bottom: 8px;
      }

      .text-container br {
        content: "\00a0"; /* Add space between lines */
        display: block;
        margin: 0.5rem 0; /* Adjust the value as needed */
      }

      .focal_point_canvas {
        border-radius: 4px;
        border: 2px solid #cccccc;
        width: 214px;
        height: 141px;
        box-sizing: border-box;
      }

      .focal_point_highlight {
        border: 2px solid #4280bf;
        box-sizing: border-box;
      }

      #canvas {
        background-color: #ffffff;
        border: 1px solid #a0a0a0;
        margin: 96px;
        display: block;
        max-width: calc(100% - 48px * 2);
        max-height: calc(100% - 48px * 2);
      }

      .container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 200px;
      }

      .container > * {
        width: 100%;
        text-align: left;
      }

      .container input {
        padding: 8px;
        width: calc(100% - 14px);
      }

      .input_fixed_height {
        height: 37px;
        overflow: hidden !important;
      }

      .container button {
        margin-top: 12px;
        text-align: center;
        font-size: 14px;
        font-weight: bold;
      }

      label {
        margin-right: 8px;
      }

      .slider {
        position: relative;
        width: 100%;
        height: 16px;
      }

      .slider-line {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 2px;
        background-color: #999;
      }

      .slider-handle {
        position: absolute;
        top: 50%;
        width: 16px;
        height: 16px;
        margin-top: -8px;
        margin-left: -8px;
        border-radius: 50%;
        background-color: #4390df;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        cursor: pointer;
      }

      .range-slider {
        width: 100%;
        display: flex;
        justify-content: center;
        margin: 8px 0px 8px 0px;
      }

      .range-slider input[type="range"] {
        width: 100%;
      }

      /* Tooltip text */
      .toolbox_button .tooltiptext {
        opacity: 0; /* Start with opacity 0 */
        width: 72px;
        background-color: #4390df;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 5px 0;
        position: absolute;
        z-index: 1;
        top: 12px;
        left: 110%;
        font-weight: 400;
        font-size: 16px;
        transition: opacity 0.3s ease-in-out; /* Add a transition effect */
      }

      .toolbox_button .tooltiptext::after {
        content: "";
        position: absolute;
        top: 50%;
        right: 100%;
        margin-top: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: transparent #4390df transparent transparent;
        pointer-events: none; /* Disable pointer events to ignore hover on tooltip text */
      }

      /* Show the tooltip text with opacity when you mouse over the tooltip container */
      .toolbox_button:hover .tooltiptext {
        opacity: 1;
        visibility: visible;
      }

      /* Hide the tooltip when you are not hovering over the tooltip container */
      .toolbox_button:not(:hover) .tooltiptext {
        opacity: 0;
        visibility: hidden;
      }

      /* Character limit */
      .exceeded_character_limit {
        /* position: absolute; 
        z-index: 100;
        margin-left: 8px;
        margin-top: -24px;
        */
        margin-bottom: 8px;
        color: #4390df;
        font-size: 11px;
        font-style: italic;
        text-align: right;
      }
    </style>
  </head>
  <body>
    <div class="left-panel">
      <!-- File -->
      <button
        class="toolbox_button"
        name="file_button"
        onclick="pressed_toolbox_button(this.name)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
        >
          <path
            id="Path_11093"
            data-name="Path 11093"
            d="M18.125.625H6.875v-3.75H5V2.5H20v-15l-5-5H5v10H6.875v-8.125H13.75v4.375h4.375ZM11.6-9.1l-.664-.664L9.613-8.437l.664.664L11.8-6.25H0v1.875H11.8L10.277-2.852l-.664.664L10.938-.863l.664-.664,3.125-3.125.664-.664-.664-.664L11.6-9.105Z"
            transform="translate(0 17.5)"
            fill="#666"
          />
        </svg>
        <span class="tooltiptext">File</span>
      </button>
      <!-- Color -->
      <button
        class="toolbox_button"
        name="color_button"
        onclick="pressed_toolbox_button(this.name)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
        >
          <path
            id="Path_2"
            data-name="Path 2"
            d="M6.25,10.465a1.25,1.25,0,0,1-2.5,0,1.25,1.25,0,0,1,2.5,0ZM5,6.715a1.25,1.25,0,0,1,2.5,0,1.25,1.25,0,0,1-2.5,0Zm6.25-1.25a1.25,1.25,0,0,1-2.5,0,1.25,1.25,0,0,1,2.5,0Zm1.25,1.25a1.25,1.25,0,0,1,2.5,0,1.25,1.25,0,0,1-2.5,0Zm4.762,6.25H13.438a1.906,1.906,0,0,0-1.875,1.91,2.094,2.094,0,0,0,.039.387,6.965,6.965,0,0,0,.426,1.168A4.217,4.217,0,0,1,12.5,18.07a2.3,2.3,0,0,1-2.086,2.422c-.137,0-.277.008-.414.008a10,10,0,1,1,10-10c0,.035-.035.07-.035.105A2.525,2.525,0,0,1,17.262,13Zm.828-2.379c0-.031.035-.059.035-.121A8.125,8.125,0,1,0,10,18.625c.113,0,.227,0,.336-.008a.174.174,0,0,0,.063-.012.341.341,0,0,0,.078-.07.744.744,0,0,0,.148-.465,2.015,2.015,0,0,0-.219-.668c-.023-.047-.047-.1-.074-.164a8.1,8.1,0,0,1-.562-1.59,3.609,3.609,0,0,1-.082-.773,3.736,3.736,0,0,1,3.75-3.785h3.824a1.184,1.184,0,0,0,.7-.191A.346.346,0,0,0,18.09,10.586Z"
            transform="translate(0 -0.5)"
            fill="#666"
          />
        </svg>
        <span class="tooltiptext">Color</span>
      </button>
      <!-- Typography -->
      <button
        class="toolbox_button"
        name="text_button"
        onclick="pressed_toolbox_button(this.name)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="25"
          height="17.5"
          viewBox="0 0 25 17.5"
        >
          <path
            id="Path_8"
            data-name="Path 8"
            d="M.938,1.75H0V6.438H1.875V3.625H6.563v13.75H3.75V19.25h7.5V17.375H8.438V3.625h4.688V6.438H15V1.75H.938Zm12.188,7.5h-.937V13h1.875V11.125h3.75v6.25H15.625V19.25h6.25V17.375H19.688v-6.25h3.438V13H25V9.25H13.125Z"
            transform="translate(0 -1.75)"
            fill="#666"
          />
        </svg>
        <span class="tooltiptext">Text</span>
      </button>
      <!-- Images -->
      <button
        class="toolbox_button"
        name="image_button"
        onclick="pressed_toolbox_button(this.name)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="17.5"
          viewBox="0 0 20 17.5"
        >
          <path
            id="Path_6"
            data-name="Path 6"
            d="M18.125,3.625V17.188l-.492-.676-5-6.875-.766-1.051-.754,1.055L7.59,14.574l-1.3-1.3-.7-.7-.66.734L2.117,16.434l-.242.27V3.625ZM1.875,1.75H0v17.5H20V1.75H1.875ZM7.5,7.375A1.875,1.875,0,1,0,6.562,9,1.875,1.875,0,0,0,7.5,7.375Z"
            transform="translate(0 -1.75)"
            fill="#666"
          />
        </svg>
        <span class="tooltiptext">Images</span>
      </button>
      <!-- Layout -->
      <button
        class="toolbox_button"
        name="layout_button"
        onclick="pressed_toolbox_button(this.name)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="17.5"
          viewBox="0 0 20 17.5"
        >
          <path
            id="Path_4"
            data-name="Path 4"
            d="M18.125,3.625V6.75H1.875V3.625ZM1.875,17.375V8.625h3.75v8.75Zm5.625,0V8.625H18.125v8.75ZM1.875,1.75H0v17.5H20V1.75H1.875Z"
            transform="translate(0 -1.75)"
            fill="#666"
          />
        </svg>
        <span class="tooltiptext">Layout</span>
      </button>
      <!-- Logo -->
      <button
        class="toolbox_button"
        name="logo_button"
        onclick="pressed_toolbox_button(this.name)"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="23.06"
          height="12.287"
          viewBox="0 0 23.06 12.287"
          id="sp_logo"
        >
          <defs>
            <clipPath id="clip-path">
              <rect
                id="Rectangle_2144"
                data-name="Rectangle 2144"
                width="23.06"
                height="12.287"
                transform="translate(0 0)"
                fill="none"
              />
            </clipPath>
          </defs>
          <g
            id="Group_21354"
            data-name="Group 21354"
            transform="translate(0 0)"
            clip-path="url(#clip-path)"
          >
            <path
              id="Path_11097"
              data-name="Path 11097"
              d="M4.392,7.153,2.8,6.9c-.612-.1-1.032-.432-1.032-.948,0-.8.8-1.2,1.668-1.2A1.48,1.48,0,0,1,5.1,6.073H6.692C6.668,4.5,5.228,3.433,3.464,3.433c-1.68,0-3.24,1.092-3.24,2.628,0,1.38.912,2.124,2.316,2.352l1.632.264c.588.1,1.092.384,1.092,1,0,.864-.756,1.272-1.812,1.272A1.643,1.643,0,0,1,1.6,9.421H0c0,1.752,1.5,2.856,3.428,2.856,1.872,0,3.4-1,3.4-2.688,0-1.428-1.044-2.22-2.436-2.436"
              fill="#666"
            />
            <path
              id="Path_11098"
              data-name="Path 11098"
              d="M20.084,3.605l-3.36,0v8.508H18.26V8.821h1.824c1.956,0,2.976-1.1,2.976-2.616s-1.02-2.6-2.976-2.6M20,7.465H18.26V4.957H20c1.032,0,1.5.48,1.5,1.26S21.032,7.465,20,7.465"
              fill="#666"
            />
            <path
              id="Path_11099"
              data-name="Path 11099"
              d="M14.432,8.509H15.4V7.321H13.22v.42a3.3,3.3,0,0,1-.3,1.6L11.492,7.789l.144-.084a2.442,2.442,0,0,0,1.476-2.172,2.177,2.177,0,0,0-2.352-2.1,2.161,2.161,0,0,0-2.316,2.1,2.38,2.38,0,0,0,.7,1.632l.216.252-.12.072a2.542,2.542,0,0,0,1.412,4.788,3.166,3.166,0,0,0,2.328-.96l.684.792h1.812l-1.644-1.8a3.656,3.656,0,0,0,.6-1.8M10.109,4.887a.944.944,0,0,1,1.611.67c0,.588-.408.924-.972,1.224l-.132.072-.24-.252a1.662,1.662,0,0,1-.552-1.068.9.9,0,0,1,.285-.646m.627,6.106A1.3,1.3,0,0,1,9.272,9.709a1.435,1.435,0,0,1,.816-1.284l.132-.072,1.88,2.04a1.725,1.725,0,0,1-1.364.6"
              fill="#666"
            />
            <path
              id="svg_sp_global_bar"
              d="M0.25,0 L22.75,0 L22.75,1.5 L0.25,1.5 Z"
              fill="#666"
            />
          </g>
        </svg>
        <span class="tooltiptext">Logo</span>
      </button>

      <!-- END BUTTON PANEL -->

      <div class="tools">
        <div class="inside_tools_container">
          <!-- Add your content here -->
        </div>
      </div>
    </div>
    <div class="right-panel">
      <div class="container">
        <!-- Change to a login -->
        <label class="toolbox_expanded_label" for="passwordInput"
          >Password</label
        >
        <input
          type="password"
          id="passwordInput"
          value=""
          onkeydown="handleKeyPress(event)"
          autocomplete="current-password"
        />
        <button onclick="login()">Login</button>
      </div>
    </div>

    <!-- ---------------------- SCRIPTS ---------------------- -->
    <script>
      var canvas, ctx;

      create_footer_text();

      // enums
      var spglobal_colors = {
        black: "#000000",
        white: "#ffffff",
        red: "#d6002a",
        yellow: "#EDF86F",
        blue: "#C7DAE0",
      };

      var password = "";
      // Image loading animation
      let image_stop_loading_animation;

      // Minimum font size
      const minimum_font_size = 22;

      // User defined settings
      let canvas_content = {};
      let userDefinedAspectRatio;
      let userDefinedWidth;
      let userDefinedHeight;
      let resetFocalPoint = [false, false];

      // Canvas size
      canvas_content.canvas_width = 1200;
      canvas_content.canvas_height = 628;

      // Set to default
      canvas_content.logo = { name: "spg_corporate", corner: "bottom" };
      // Text
      canvas_content.text_bottom_aligned = false;
      canvas_content.ignore_line_breaks = { headline: false };
      canvas_content.text_container_minimum_character_width = "";
      canvas_content.font_size = {
        headline: 96,
        body: 48,
        cta: 32,
        small: false,
      };

      // Errors
      canvas_content.error = {
        text_outside_bounds: 0,
        headline_outside_bounds: false,
        headline_widow: false,
        headline_special_characters: 0,
        body_outside_bounds: false,
        body_widow: false,
        body_special_characters: 0,
        button_outside_bounds: false,
      };

      // Buton
      canvas_content.button_style = "solid";

      // Canvas name
      canvas_content.project_name = "Spark-Social";

      // Text
      canvas_content.logo_offset_text = false;
      canvas_content.vertically_centered_text = false;
      canvas_content.headline_visibility = true;
      canvas_content.description_visibility = true;
      canvas_content.cta_visibility = false;

      // Downscaled images
      temp_portal_downscaled_image = [null, null];
      temp_portal_image = [];

      // Portal content
      canvas_content.portal_color_overlay = false;
      canvas_content.portal_image_flip = [false, false];
      canvas_content.portal_size_percent = 50;
      canvas_content.portal_size_values = [0, 30, 50, 70, 100];
      canvas_content.portal_size_slider = 2;
      canvas_content.portal_upload_image_number = 0;
      canvas_content.portal_override_margins = false;
      canvas_content.portal_primary_image_side = true;
      canvas_content.portal_image_scale = [0, 0];
      canvas_content.portal_image_src = [];
      canvas_content.portal_focal_point = [];
      // Set focal point defaults
      for (var i = 0; i < 2; i++) {
        canvas_content.portal_focal_point[i] = {
          x: 0,
          y: 0,
          size: 20,
          dragging: false,
          relative_x: 0.5,
          relative_y: 0.5,
        };
      }

      // Typography scale
      const typescale = {
        80: { body: 48, cta: 32 },
        64: { body: 32, cta: 22 },
        48: { body: 24, cta: 18 },
        32: { body: 22, cta: 16 },
        24: { body: 22, cta: 16 },
        22: { body: 22, cta: 16 },
      };

      // Button height
      function calculate_button_padding(height) {
        if (height > 600) {
          return 16;
        } else if (height > 100) {
          return 8;
        }
        return 4;
      }

      const typescale_map = [80, 64, 48, 32, 24, 22, 18, 16];

      // Downscale the font size
      function reduce_font_size(inputValue) {
        const sortedMap = typescale_map.sort((a, b) => a - b);
        const index = sortedMap.indexOf(inputValue);

        if (index === -1 || index === 0) {
          // Input value not found or already the lowest value
          return null;
        }

        return sortedMap[index - 1];
      }

      // Round down the correct scale
      function round_to_nearest_typescale(value) {
        // Downscale
        for (let i = 0; i < typescale_map.length; i++) {
          if (value >= typescale_map[i]) {
            return typescale_map[i];
          }
        }
        // return smallest scale if value is less than the smallest scale
        return typescale_map[typescale_map.length - 1];
      }

      // Gets the default largest scale
      // If that doesn't fit it would still need to downscale
      // This bases the scale on total canvas width not the potential for images, maybe that is okay?
      // The available space inside the canvas might further downscale the text but how?
      function estimate_typescale(width, height) {
        let area = width * height;
        if (area > 1000000) {
          return 80;
        } else if (area <= 1000000 && area > 600000) {
          return 64;
        } else if (area <= 600000 && area > 250000) {
          return 48;
        } else if (area <= 250000 && area > 120000) {
          return 32;
        } else if (area <= 120000 && area > 74000) {
          return 24;
        }
        return 20;
      }

      // Calculate the canvas margin
      function calculate_canvas_margin(width, height) {
        let smallestDimension = Math.min(width, height);
        let largestDimension = Math.max(width, height);
        let area = width * height;

        if (smallestDimension >= 1080) {
          return 64;
        } else if (smallestDimension > 600) {
          return 40;
        } else if (smallestDimension >= 300) {
          // If its smaller than 1080x300 then switch to 16px margins
          if (area < 324000) {
            return 16;
          }
          return 32;
        } else if (smallestDimension > 160) {
          return 16;
        } else if (smallestDimension > 120) {
          return 14;
        }
        return 12;
      }

      // Font size labelling in tool panel
      function update_font_size_label() {
        // Update headline
        let headline_label = document.getElementById("headline_label");
        if (headline_label) {
          headline_label.innerText =
            "Headline: " + canvas_content.font_size.headline + "px";
        }
        // Update body
        let body_label = document.getElementById("body_label");
        if (body_label) {
          body_label.innerText =
            "Body: " + canvas_content.font_size.body + "px";
        }
        // Update button
        let cta_label = document.getElementById("cta_label");
        if (cta_label) {
          cta_label.innerText =
            "Button: " + canvas_content.font_size.cta + "px";
        }
      }

      // Random initial headline
      let random_headlines = [
        "Powering the Markets of the Future.",
        "Data, technology, people. That's the path to progress.",
        "Decisive action depends on Essential Intelligence.",
        "Life behind the data.",
        "Powerful impact.",
        "Essential Intelligence places risk and performance in context",
        "Embracing resilience and growth.",
        "Navigating energy in transition.",
        "Innovating energy for growth.",
        "Transforming energy for tomorrow.",
        "Creating clarity amid complexity.",
        "Clarifying uncertainty with insight.",
        "Empowering markets for growth.",
        "Creating benchmarks for progress.",
      ];

      let random_description = [
        "With S&P Global, confidently navigate complex energy transitions and markets, making an impact on tomorrow.",
        "As energy transitions and markets become more complex, solutions from S&P Global help you stay informed and uncover new levels of understanding.",
        "With increasing complexities in energy transitions and markets, solutions from S&P Global enhance comprehension, empowering you to shape the future.",
        "Push past your expectations and uncover new levels of understanding with solutions from S&P Global.",
        "Uncover new levels of understanding with solutions from S&P Global.",
        "Complex markets meet unexpected solutions from S&P Global.",
        "So you can make an impact on tomorrow.",
        "Make an impact on tomorrow.",
        "Impact tomorrow.",
      ];

      let random_cta = [
        "Learn more",
        "Explore our dataset",
        "Uncover insights now",
        "Start your journey",
        "Join us today",
        "See the difference",
        "Get started",
        "Discover more",
        "Try it now",
        "Dive deeper",
      ];

      function generate_random_copy() {
        canvas_content.headline =
          random_headlines[Math.floor(Math.random() * random_headlines.length)];
        canvas_content.body =
          random_description[
            Math.floor(Math.random() * random_description.length)
          ];
        canvas_content.cta =
          random_cta[Math.floor(Math.random() * random_cta.length)];
      }

      generate_random_copy();

      function zoom_label_generate(value) {
        return "Zoom " + (1 + parseInt(value) * 0.2) + "x";
      }

      // Set default color scheme
      update_color_scheme("white");

      // UI States
      let current_panel_open = "None";

      function get_random_value_excluding_current(array, currentString) {
        // check if the current string exists in the array
        const index = array.indexOf(currentString);
        if (index === -1) {
          // if the current string doesn't exist in the array, return an empty string
          return "";
        } else {
          // if the current string exists in the array, remove it and pick a random value from the remaining values
          const newArray = array.slice(0);
          newArray.splice(index, 1);
          const randomIndex = Math.floor(Math.random() * newArray.length);
          return newArray[randomIndex];
        }
      }

      // Caesar cipher function to encrypt and decrypt
      function check_login(input) {
        const key =
          "3Zg1zdsb06DSrwtmILiFBQuPykfEROjcYAnT294KCpXvWelhGUJ5HVM8aq7oxN";
        return input
          .split("")
          .map((array) => {
            const cypher = key.indexOf(array);
            if (cypher === -1) return array;
            const check = (cypher + input.length) % key.length;
            return key.charAt(check);
          })
          .join("");
      }

      function login() {
        password = document.getElementById("passwordInput").value;
        create_canvas();
      }

      // Function to handle the "Enter" key press
      function handleKeyPress(event) {
        if (event.key === "Enter") {
          login();
        }
      }

      // Functions
      function create_canvas() {
        // Check password
        if (check_login(password) != "pV56vv") {
          alert("Please check your password and try again");
          return;
        }
        let width, height;

        // If there is no width available go to the saved data
        width = canvas_content.canvas_width;
        height = canvas_content.canvas_height;

        // Add constraints
        var min_width_resolution = 144;
        var min_height_resolution = 88;

        var max_resolution = 1920;
        var exceeded_maximum =
          width > max_resolution || height > max_resolution;
        if (exceeded_maximum) {
          alert("Size cannot exceed " + max_resolution + "px");
        }
        width = Math.min(max_resolution, width);
        height = Math.min(max_resolution, height);

        width = Math.max(min_width_resolution, width);
        height = Math.max(min_height_resolution, height);

        // Store the user-defined width, height, and aspect ratio
        userDefinedWidth = width;
        userDefinedHeight = height;
        userDefinedAspectRatio = width / height;

        if (isNaN(width) || isNaN(height)) {
          alert("Please enter valid width and height values.");
          return;
        }

        // Delete initial load input box if exists
        const container = document.querySelector(".container");
        if (container) {
          container.remove();
        }

        // Remove canvas if it exists
        canvas = document.getElementById("canvas");
        if (canvas) {
          canvas.remove();
          document.getElementById("canvas_container").remove();
        }

        // Create a new canvas
        canvas = document.createElement("canvas");
        // Set size
        canvas.width = width;
        canvas.height = height;
        // Store data
        canvas_content.canvas_width = canvas.width;
        canvas_content.canvas_height = canvas.height;
        // Update
        canvas.id = "canvas";
        ctx = canvas.getContext("2d");
        // Add canvas to document
        document.querySelector(".right-panel").appendChild(canvas);

        // Clear downscaled images
        temp_portal_downscaled_image = [null, null];

        // Get canvas type (Vertical, Horizontal, Square)
        get_canvas_type();

        // Set default to right
        canvas_content.portal_side = "right";

        // Set if vertical set to top
        if (
          canvas_content.orientation == "vertical" ||
          canvas_content.orientation == "square"
        ) {
          canvas_content.portal_side = "top";
        }

        // Fit copy
        canvas_content.text_container_minimum_character_width =
          find_longest_words_by_width(canvas_content.headline, 1);

        // Update panel
        if (current_panel_open == "Layout") {
          update_toolbox_panel("layout_button");
        }

        // Update the grid
        calculate_grid(canvas_content.show_guides);

        // Update the canvas with the custom attributes
        update_canvas();

        let dimensions = document.createElement("div");
        dimensions.id = "canvas_dimensions";
        dimensions.style.color = "#777777";
        dimensions.style.fontSize = "12px";
        dimensions.style.textAlign = "center";
        dimensions.style.marginTop = "5px";
        dimensions.style.margin = "0 96px 96px 96px"; // Set the margin of the dimensions div
        dimensions.textContent = `${canvas.width} x ${canvas.height}`;

        let canvas_container = document.createElement("div");
        canvas_container.id = "canvas_container";
        canvas_container.style.display = "flex";
        canvas_container.style.flexDirection = "column";
        canvas_container.style.alignItems = "center";

        canvas.parentElement.insertBefore(canvas_container, canvas);
        canvas_container.appendChild(canvas);
        canvas_container.appendChild(dimensions);

        canvas.style.margin = "96px 96px 8px 96px"; // top right bottom left
        dimensions.style.margin = "0 96px 88px 96px"; // Set the margin of the dimensions div
      }

      function handle_window_resize() {
        if (!canvas) return;

        const panelWidth = document.querySelector(".left-panel").offsetWidth;

        var padding = 48;
        const maxWidth = Math.min(
          userDefinedWidth,
          window.innerWidth - panelWidth - padding * 2
        );
        const maxHeight = Math.min(
          userDefinedHeight,
          window.innerHeight - padding * 2
        );

        let newWidth = maxWidth;
        let newHeight = newWidth / userDefinedAspectRatio;

        if (newHeight > maxHeight) {
          newHeight = maxHeight;
          newWidth = newHeight * userDefinedAspectRatio;
        }

        canvas.style.width = `${newWidth}px`;
        canvas.style.height = `${newHeight}px`;
      }

      window.addEventListener("resize", handle_window_resize);

      // Download Canvas
      function download_canvas_as_png() {
        if (!canvas) {
          alert("Please create the canvas before downloading.");
          return;
        }

        const link = document.createElement("a");
        link.href = canvas.toDataURL("image/png");
        const today = new Date();
        const formattedDate = `${today.getDate()}-${
          today.getMonth() + 1
        }-${today.getFullYear()}`;
        link.download = canvas_content.project_name + `-${formattedDate}.png`;
        link.click();
      }

      // Expand the left side toolbox
      function clear_inside_tools_container() {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );
        insideToolsContainer.innerHTML = "";
        // Remove active state from main menu buttons
        const buttons = document.querySelectorAll(".toolbox_button");
        buttons.forEach((btn) => {
          btn.classList.remove("active");
        });
      }

      // Expanding the left panel
      function toggle_left_panel() {
        const leftPanel = document.querySelector(".left-panel");
        const rightPanel = document.querySelector(".right-panel");
        const isExpanded = leftPanel.classList.contains("expanded");

        leftPanel.classList.toggle("expanded");
        rightPanel.classList.toggle("left-expanded");
        handle_window_resize();

        if (isExpanded) {
          clear_inside_tools_container();
        }
      }

      function show_hide_panel() {
        let hide_panel_button = document.getElementById("toggle_button");
        if (hide_panel_button) {
          const leftPanel = document.querySelector(".left-panel");
          const isExpanded = leftPanel.classList.contains("expanded");
          hide_panel_button.style.display = "none";
          if (isExpanded) {
            hide_panel_button.style.display = "block";
          }
        }
      }

      // Return has no spaces
      function add_line_break_before_no_space(str) {
        // Use a regular expression to find all occurrences of a line break or carriage return
        // between two words that have no spaces before or after the line break
        const pattern = /(\w)(\n|\r)(\w)/g;
        return str.replace(pattern, "$1\n$3");
      }

      // Expanding the left panel
      function collapse_left_panel() {
        const leftPanel = document.querySelector(".left-panel");
        const rightPanel = document.querySelector(".right-panel");
        leftPanel.classList.remove("expanded");
        rightPanel.classList.remove("left-expanded");
        handle_window_resize();
        clear_inside_tools_container();
        show_hide_panel();
      }

      function expand_left_panel() {
        const leftPanel = document.querySelector(".left-panel");
        const rightPanel = document.querySelector(".right-panel");
        leftPanel.classList.add("expanded");
        rightPanel.classList.add("left-expanded");
        handle_window_resize();
        show_hide_panel();
      }

      // Clicked icon buttons
      function pressed_toolbox_icon_button(event) {
        const button = event.target.closest(".toolbox_icon_button");
        const buttonName = button.getAttribute("name");

        const buttons = document.querySelectorAll(".toolbox_icon_button");
        buttons.forEach((btn) => {
          btn.classList.remove("active_icon_button");
        });

        button.classList.add("active_icon_button");
      }

      // Color indicator
      function add_color_indicator(name, rgb, fontColor) {
        let button = add_button_to_inside_tools_container(name);
        const colorIndicator = document.createElement("div");
        colorIndicator.classList.add("color-indicator");
        colorIndicator.style.backgroundColor = rgb;

        // Create a span element for the letters "Aa"
        const letters = document.createElement("span");
        letters.textContent = "Aa";
        letters.style.fontSize = "11px";
        letters.style.color = fontColor;
        // Append the letters to the colorIndicator
        colorIndicator.appendChild(letters);

        button.style.position = "relative";
        button.appendChild(colorIndicator);
      }

      // File upload
      function add_user_image(file) {
        // Show loading bar
        const { loadingBar, progressBar } = showLoadingBar();

        // Upload image
        const reader = new FileReader();
        reader.onload = function (event) {
          // Hide loading bar
          loadingBar.remove();
          // Stop loading animation
          image_stop_loading_animation();

          const img = new Image();
          img.src = event.target.result;
          img.style.display = "none";

          let n = canvas_content.portal_upload_image_number;
          // Clear the downscaled image data
          temp_portal_downscaled_image[n] = null;

          // If there are no images add one
          if (temp_portal_image.length == 0) {
            temp_portal_image.push(img);
          }
          // If there is one child
          if (temp_portal_image.length == 1) {
            // Update the primary image or add an image
            if (n == 0) {
              temp_portal_image[0] = img;
            } else {
              temp_portal_image[1] = img;
            }
          }
          // If there are 2 children, replace with the user selected image src
          if (temp_portal_image.length == 2) {
            temp_portal_image[1] = img;
          }

          // New image has been uploaded
          resetFocalPoint[n] = true;

          // Update canvas once image has loaded

          update_canvas();
          // Upload panel
          if (current_panel_open == "Image") {
            // Update panel
            update_toolbox_panel("image_button");
          }
        };
        reader.readAsDataURL(file);
      }

      function add_file_upload_area() {
        const container = document.querySelector(".inside_tools_container");

        if (canvas_content.portal_count == 2) {
          return;
        }

        add_text_to_inside_tools_container("Upload up to 2 portal images");
        add_label_to_inside_tools_container("Add Image");

        const dragDropArea = document.createElement("div");
        dragDropArea.classList.add("drag-drop-area");
        dragDropArea.textContent = "Drag and drop files here";
        container.appendChild(dragDropArea);

        const fileInput = document.createElement("input");
        fileInput.type = "file";
        fileInput.accept = "image/png, image/jpeg";
        fileInput.style.display = "none";
        container.appendChild(fileInput);

        const browseButton = document.createElement("button");
        browseButton.style.marginTop = "8px";
        browseButton.textContent = "Upload";
        container.appendChild(browseButton);

        browseButton.addEventListener("click", function () {
          // Image to change
          canvas_content.portal_upload_image_number =
            canvas_content.portal_count;
          fileInput.click();
        });

        fileInput.addEventListener("change", function () {
          if (fileInput.files.length > 0) {
            add_user_image(fileInput.files[0]);
            fileInput.value = ""; // Reset the file input value to allow the same file to be selected again.
          }
        });

        ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
          dragDropArea.addEventListener(eventName, function (event) {
            event.preventDefault();
            event.stopPropagation();
          });
        });

        dragDropArea.addEventListener("drop", function (event) {
          // Image to change
          canvas_content.portal_upload_image_number =
            canvas_content.portal_count;

          if (event.dataTransfer.files.length > 0) {
            const file = event.dataTransfer.files[0];
            if (file.type === "image/png" || file.type === "image/jpeg") {
              add_user_image(file);
            }
          }
        });
      }

      // Delete photo
      function remove_image_button(image_id) {
        const container = document.querySelector(".inside_tools_container");

        let buttonText = ["primary image", "secondary image"];

        // Input text
        const fileInput = document.createElement("input");
        fileInput.type = "file";
        fileInput.accept = "image/png, image/jpeg";
        fileInput.style.display = "none";
        container.appendChild(fileInput);

        // Create the upload button
        const addButton = document.createElement("button");
        addButton.textContent = "Replace image";
        addButton.name = image_id;
        addButton.id = "add_" + image_id;
        container.appendChild(addButton);

        // Create the delete button
        const deleteButton = document.createElement("button");
        deleteButton.textContent = "Delete";
        deleteButton.name = image_id;
        deleteButton.id = "delete_" + image_id;
        deleteButton.classList.add("secondary");
        deleteButton.style.padding = "9px 8px";
        deleteButton.style.marginLeft = "12px";
        container.appendChild(deleteButton);

        addButton.addEventListener("click", function () {
          canvas_content.portal_upload_image_number = parseInt(
            event.target.name
          );
          fileInput.click();
        });

        fileInput.addEventListener("change", function () {
          if (fileInput.files.length > 0) {
            add_user_image(fileInput.files[0]);
            fileInput.value = ""; // Reset the file input value to allow the same file to be selected again.
          }
        });

        deleteButton.addEventListener("click", function () {
          let button_label = event.target.name;

          // Delete the uploaded image
          if (temp_portal_image.length > 0) {
            let n = parseInt(button_label);
            let img = temp_portal_image[n];
            // If you delete the primary image, move the secondary focal point to the primary
            if (n == 0) {
              // Transfer focal point information over
              canvas_content.portal_focal_point[0].x = parseFloat(
                canvas_content.portal_focal_point[1].x
              );
              canvas_content.portal_focal_point[0].y = parseFloat(
                canvas_content.portal_focal_point[1].y
              );
              canvas_content.portal_focal_point[0].relative_x = parseFloat(
                canvas_content.portal_focal_point[1].relative_x
              );
              canvas_content.portal_focal_point[0].relative_y = parseFloat(
                canvas_content.portal_focal_point[1].relative_y
              );
              // Transfer mirroring information over
              canvas_content.portal_image_flip[0] =
                canvas_content.portal_image_flip[1];
              // Transfer scale over
              canvas_content.portal_image_scale[0] =
                canvas_content.portal_image_scale[1];
              // Transfer secondary image to primary
              temp_portal_image[0] = temp_portal_image[1];
            }
            // Remove the image
            temp_portal_image.splice(n, 1);
            // Clear portal downscaled images
            temp_portal_downscaled_image = [null, null];
          }

          // Update Canvas
          update_canvas();

          // Update panel
          update_toolbox_panel("image_button");
        });
        return deleteButton;
      }

      function find_longest_words_by_width(inputString, consecutiveWords = 1) {
        // Split the input string into words
        const words = inputString.split(/\s+/);

        if (consecutiveWords > words.length) {
          return inputString;
        }

        // Initialize variables to store the longest substring and its width
        let longestSubstring = "";
        let maxWidth = 0;

        // Create a temporary canvas for measuring text width
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");

        // Set the font for the context; adjust the font size and family as needed
        ctx.font = "16px Akkurat LL";

        // Iterate through the words, checking the width of consecutive words
        for (let i = 0; i <= words.length - consecutiveWords; i++) {
          const substringWords = words.slice(i, i + consecutiveWords);
          const substring = substringWords.join(" ");
          const width = ctx.measureText(substring).width;

          // If the current substring has a larger width, update the longest substring and maxWidth
          if (width > maxWidth) {
            longestSubstring = substring;
            maxWidth = width;
          }
        }

        // Return the longest substring
        return longestSubstring;
      }

      function create_footer_text() {
        // create a new element for the footer text
        const footerText = document.createElement("div");

        // set the text and styles for the footer text
        footerText.innerHTML =
          '<span style="font-weight: bold;">S&P Global</span> | Spark Social'; // QuickPost —— Reach -- Spark Social -- Influence -- Vision
        footerText.style.position = "fixed";
        footerText.style.bottom = "16px";
        footerText.style.right = "16px";
        footerText.style.fontSize = "16px";
        footerText.style.color = "#777777";
        footerText.style.userSelect = "none"; // disable text selection

        // add the footer text to the document body
        document.body.appendChild(footerText);

        // handle window resize events to keep the footer text at the bottom right corner
        function handle_resize() {
          footerText.style.bottom = "16px";
          footerText.style.right = "16px";
        }
        window.addEventListener("resize", handle_resize);
      }

      function update_toolbox_panel(button_label) {
        let image_button = document.getElementsByName(button_label)[0];
        image_button.click();
      }

      // Add icon buttons
      function add_square_buttons_to_inside_tools_container(
        button_container_id,
        svg_id
      ) {
        const container = document.querySelector(".inside_tools_container");

        var buttonContainer = document.getElementById(button_container_id);
        if (buttonContainer == null) {
          // Add button container if it doesnt exist
          buttonContainer = document.createElement("div");
          buttonContainer.id = button_container_id;
          buttonContainer.classList.add("toolbox_icon_button_container");
          container.appendChild(buttonContainer);
        }

        const button = document.createElement("button");
        button.classList.add("toolbox_icon_button");
        var button_name = svg_id.replace("layout_", "");
        button.setAttribute("name", button_name);

        const svg = document.getElementById(svg_id).cloneNode(true);
        svg.id = `icon_button_${Math.random(0, 1000)}`; // Assign random name
        svg.classList.add("icon");
        //svg.setAttribute("viewBox", "0 0 20 20");

        button.appendChild(svg);
        button.addEventListener("click", pressed_toolbox_icon_button);
        buttonContainer.appendChild(button);
      }

      // Add buttons
      function add_button_to_inside_tools_container(label_string, name = "") {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );
        const button = document.createElement("button");
        button.className = "toolbox_expanded_button";
        button.textContent = label_string;
        button.name = name;
        button.addEventListener("click", panel_button_clicked);
        insideToolsContainer.appendChild(button);
        return button;
      }

      // Add labels
      function add_label_to_inside_tools_container(
        label_string,
        padding_bottom = 11
      ) {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );
        const label = document.createElement("div");
        label.className = "toolbox_expanded_label";
        label.textContent = label_string;
        label.style.paddingBottom = `${padding_bottom}px`;
        insideToolsContainer.appendChild(label);
        return label;
      }

      // Text label
      function add_text_to_inside_tools_container(text) {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );
        const textContainer = document.createElement("div");
        textContainer.classList.add("text-container");
        textContainer.innerHTML = text;
        insideToolsContainer.appendChild(textContainer);
        return textContainer;
      }

      // This looks for the longest line in the headline and tries to recognize that as the minimize size the container parent can be. The longest line can be multiple words in a line.
      // If this is off, then it resizes based on the longest word. There can only be one longest word.
      function calculate_headline_minimum_container_width() {
        let longestLine = find_longest_line(canvas_content.headline);
        // Ensure the longest line fits
        canvas_content.text_container_minimum_character_width =
          find_longest_words_by_width(canvas_content.headline, 1);
      }

      // Show character limits
      function update_character_limit_inputbox(input, maxLength) {
        let messageElement = document.getElementById(input.name + "_message");
        // Create the message element if it doesn't exist
        if (!messageElement) {
          messageElement = document.createElement("div");
          messageElement.id = input.name + "_message";
          messageElement.classList.add("exceeded_character_limit");
          input.parentNode.appendChild(messageElement);
        }

        if (input.value.length > maxLength) {
          input.value = input.value.substring(0, maxLength);
          input.style.border = "1px solid red";
          show_character_limit_exceeded_message(input, maxLength);
        } else {
          input.style.border = "";
          hide_character_limit_exceeded_message(input, maxLength);
        }
      }

      // Function to show character limit exceeded message
      function show_character_limit_exceeded_message(input, maxLength) {
        const messageElement = document.getElementById(input.name + "_message");
        if (messageElement) {
          const message = "Max " + maxLength;
          messageElement.style.color = "red";
        }
      }

      // Function to hide character limit exceeded message
      function hide_character_limit_exceeded_message(input, maxLength) {
        const messageElement = document.getElementById(input.name + "_message");
        if (messageElement) {
          messageElement.textContent =
            "Characters remaining " + (maxLength - input.value.length);
          messageElement.style.color = "#2c92e5";
        }
      }

      // Input box modified
      function inputbox_event_listener(event) {
        let button_label = event.target.name;

        if (button_label == "input_headline") {
          update_character_limit_inputbox(event.target, 65); // Max recommended headline length
          canvas_content.headline = event.target.value;
          calculate_headline_minimum_container_width();
        }

        if (button_label == "input_body") {
          update_character_limit_inputbox(event.target, 150); // Max recommended description length
          canvas_content.body = event.target.value;
        }

        if (button_label == "input_cta") {
          // Remove newline and return line special characters
          const cleanedValue = event.target.value.replace(/(\r\n|\n|\r)/g, "");
          event.target.value = cleanedValue;
          // Update box
          update_character_limit_inputbox(event.target, 20); // Max recommended CTA length
          canvas_content.cta = event.target.value;
        }

        if (button_label == "project_name") {
          canvas_content.project_name = event.target.value;
        }

        update_canvas();
      }

      // Button clicked
      function panel_button_clicked(event) {
        // Which button was pressed
        var button_label = event.target.textContent;

        if (current_panel_open == "File") {
          // Download image
          if (button_label.includes("Download")) {
            if (canvas_content.error.text_outside_bounds > 0) {
              alert("Resolve errors before downloading");
              return;
            }
            console.log("Download image");
            // Turn off guides
            canvas_content.show_guides = false;
            update_canvas();
            // Download canvas
            setTimeout(function () {
              download_canvas_as_png();
            }, 250); // Slight delay to ensure that the canvas is updated
          }

          // Upload Template
          if (button_label.includes("Import")) {
            console.log("Import template");
            // Create an input element of type "file"
            var input = document.createElement("input");
            input.type = "file";
            // Add a change event listener to the input element
            input.addEventListener("change", handleFileSelect);
            // Trigger the file input dialog
            input.click();
            // Remove the input element after the file selection
            input.remove();
          }

          // Save template
          if (button_label.includes("Save")) {
            console.log("Save template");
            // Download JSON file
            var filename = prompt("Enter the filename");
            if (filename) {
              downloadAsJson(filename);
            }
          }
        }

        // Color scheme
        if (current_panel_open == "Color") {
          update_color_scheme(button_label); // Set background color, font and logo colors
        }

        if (current_panel_open == "Text") {
          // Generate random headline
          if (event.target.name == "random_headline") {
            generate_random_copy();
            // Update headline box
            document.getElementsByName("input_headline")[0].value =
              canvas_content.headline;
            // Update headline box
            document.getElementsByName("input_body")[0].value =
              canvas_content.body;
            // Update headline box
            document.getElementsByName("input_cta")[0].value =
              canvas_content.cta;
          }
        }

        // Logo type
        if (current_panel_open == "Logo") {
          var logo_name = button_label.toLowerCase().replace(/ /g, "_");
          canvas_content.logo.name = "spg_" + logo_name;
        }

        // Layout
        if (current_panel_open == "Layout") {
          // Resize Canvas
          if (button_label.includes("Submit")) {
            create_canvas();
          }
        }

        // Image
        if (current_panel_open == "Image") {
          if (button_label.includes("Convert to primary")) {
            if (temp_portal_image.length == 2) {
              // Move primary image below secondary
              let primary_image = temp_portal_image[0]; // Current position
              let secondary_image = temp_portal_image[1];
              // Flip order
              temp_portal_image[0] = secondary_image; // New position
              temp_portal_image[1] = primary_image;

              // Transfer attributes
              let primary_focal_point = canvas_content.portal_focal_point[0];
              let secondary_focal_point = canvas_content.portal_focal_point[1];

              let primary_mirror = canvas_content.portal_image_flip[0];
              let secondary_mirror = canvas_content.portal_image_flip[1];

              canvas_content.portal_focal_point[0] = secondary_focal_point;
              canvas_content.portal_focal_point[1] = primary_focal_point;
              canvas_content.portal_image_flip[0] = secondary_mirror;
              canvas_content.portal_image_flip[1] = primary_mirror;

              // Update panel
              update_toolbox_panel("image_button");
            }
          }
        }
        // Update
        update_canvas();
      }

      // Toggle switch
      function add_toggle_switch_with_label(labelText, state) {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );

        const toggleSwitchContainer = document.createElement("div");
        toggleSwitchContainer.className = "toggle-switch-container";

        const label = document.createElement("span");
        label.innerText = labelText;
        toggleSwitchContainer.appendChild(label);

        const toggleSwitch = document.createElement("div");
        toggleSwitch.className = "toggle-switch";
        toggleSwitchContainer.appendChild(toggleSwitch);

        const switchCircle = document.createElement("div");
        switchCircle.className = "switch-circle";
        toggleSwitch.appendChild(switchCircle);

        // Toggle state on or off when created
        if (state) {
          toggleSwitch.classList.add("on");
        }

        toggleSwitchContainer.addEventListener("click", () => {
          toggleSwitch.classList.toggle("on");
          toggle_switch_value_changed(
            toggleSwitchContainer,
            toggleSwitch.classList.contains("on")
          );
        });

        insideToolsContainer.appendChild(toggleSwitchContainer);
        return toggleSwitchContainer;
      }

      function toggle_switch_value_changed(element, toggleValue) {
        let button_label = element.innerText;

        if (current_panel_open == "Text") {
          if (button_label.includes("Show headline")) {
            canvas_content.headline_visibility =
              !canvas_content.headline_visibility;
            update_toolbox_panel("text_button");
          }

          if (button_label.includes("Show description")) {
            canvas_content.description_visibility =
              !canvas_content.description_visibility;
            update_toolbox_panel("text_button");
          }

          if (button_label.includes("Show button")) {
            canvas_content.cta_visibility = !canvas_content.cta_visibility;
            update_toolbox_panel("text_button");
          }

          if (button_label.includes("Offset text")) {
            canvas_content.logo_offset_text = !canvas_content.logo_offset_text;
          }

          if (button_label.includes("Vertically centered text")) {
            canvas_content.vertically_centered_text =
              !canvas_content.vertically_centered_text;
          }

          if (button_label.includes("Small")) {
            canvas_content.font_size.small = !canvas_content.font_size.small;
          }
        }

        if (current_panel_open == "Layout") {
          if (button_label.includes("Full image color overlay")) {
            canvas_content.portal_color_overlay =
              !canvas_content.portal_color_overlay;
          }
          if (button_label.includes("Margins")) {
            canvas_content.portal_override_margins =
              !canvas_content.portal_override_margins;
            update_toolbox_panel("layout_button");
          }

          if (button_label.includes("Small")) {
            canvas_content.font_size.small = !canvas_content.font_size.small;
          }
        }

        if (current_panel_open == "Image") {
          if (button_label.includes("Mirror horizontally")) {
            // Flip image horizontally
            let n = parseInt(element.name);
            canvas_content.portal_image_flip[n] =
              !canvas_content.portal_image_flip[n];
          }

          if (button_label.includes("Primary image side")) {
            canvas_content.portal_primary_image_side =
              !canvas_content.portal_primary_image_side;
          }
        }

        // Update canvas
        update_canvas();
      }

      function add_input_box_to_inside_tools_container(
        input_box_name,
        default_string = ""
      ) {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );
        const div = document.createElement("div");
        div.style = "display: block";

        const inputBox = document.createElement("textarea");
        inputBox.className = "toolbox_expanded_inputbox";
        inputBox.placeholder = "Type...";
        inputBox.value = default_string;
        inputBox.name = "input_" + input_box_name;
        inputBox.id = "input_" + input_box_name;
        inputBox.addEventListener("input", inputbox_event_listener);
        inputBox.addEventListener("paste", inputbox_event_listener);
        inputBox.setAttribute("spellcheck", "true");

        div.appendChild(inputBox);
        insideToolsContainer.appendChild(div);
        return inputBox;
      }

      // Upload files
      function handleFileSelect(event) {
        var file = event.target.files[0];
        var reader = new FileReader();

        reader.onload = function (e) {
          var contents = e.target.result;
          var parsedData = JSON.parse(contents);
          // Store the parsed data in canvas_content
          canvas_content = parsedData;
          console.log("File data:");
          console.log(canvas_content);
          // Load images
          for (var i = 0; i < canvas_content.portal_image_src.length; i++) {
            const image = new Image();
            image.src = canvas_content.portal_image_src;
            temp_portal_image[i] = image;
          }
          // Update canvas
          create_canvas();
          // Resize
          handle_window_resize();
        };

        reader.readAsText(file);
      }

      // Save file
      function downloadAsJson(filename) {
        // Store the image data
        for (var i = 0; i < temp_portal_image.length; i++) {
          canvas_content.portal_image_src[i] = temp_portal_image[i].src;
        }
        // Convert to JSON
        var dataStr =
          "data:text/json;charset=utf-8," +
          encodeURIComponent(JSON.stringify(canvas_content));
        // Download the file
        var downloadAnchor = document.createElement("a");
        downloadAnchor.setAttribute("href", dataStr);
        downloadAnchor.setAttribute("download", filename + ".json");
        document.body.appendChild(downloadAnchor);
        downloadAnchor.click();
        document.body.removeChild(downloadAnchor);
      }

      // Side panel buttons default click behavior
      function pressed_toolbox_button(buttonName) {
        // Buttons do not work if there is no canvas
        if (canvas == undefined) {
          alert("Please login to start");
          return;
        }

        current_panel_open = "None";
        clear_inside_tools_container();

        // Remove the 'active' class from all buttons
        const buttons = document.querySelectorAll(".toolbox_button");
        buttons.forEach((btn) => {
          btn.classList.remove("active");
        });

        // Add the 'active' class to the clicked button
        const button = event.target.closest(".toolbox_button");
        button.classList.add("active");

        if (buttonName === "color_button") {
          expand_left_panel();
          current_panel_open = "Color";
          add_label_to_inside_tools_container("Color");
          add_color_indicator("White", spglobal_colors.white, "black");
          add_color_indicator("Black", spglobal_colors.black, "white");
          add_color_indicator("Red", spglobal_colors.red, "white");
          add_color_indicator("Yellow", spglobal_colors.yellow, "black");
          add_color_indicator("Blue", spglobal_colors.blue, "black");
        }

        if (buttonName === "file_button") {
          expand_left_panel();
          current_panel_open = "File";
          // Select logo
          add_label_to_inside_tools_container("FILENAME");
          // Project name setting
          let project_name_inputbox = add_input_box_to_inside_tools_container(
            "project_name",
            canvas_content.project_name
          );
          project_name_inputbox.style.height = "40px";
          add_label_to_inside_tools_container("FILE");
          // Create error label
          if (canvas_content.error.text_outside_bounds > 0) {
            let error_label = add_label_to_inside_tools_container("Error");
            error_label.style.color = "red";

            let error_string = "";
            if (canvas_content.error.text_outside_bounds) {
              error_string += "</br>Text exceeds safe area.";
            }
            if (canvas_content.error.button_overlapping_logo) {
              error_string += "</br>Button is too close to the logo.";
            }
            error_string +=
              "</br>Try altering the copy length, font size or layout to resolve";

            // Remove the first <br>
            error_string = error_string.replace("<br>", "");

            let error_message_container =
              add_text_to_inside_tools_container(error_string);
            error_message_container.style.color = "red";
          }

          let download_label =
            canvas_content.error.text_outside_bounds > 0
              ? "Fix errors before downloading"
              : "Download";
          let download_button = add_button_to_inside_tools_container(
            download_label,
            "download_template"
          );
          if (canvas_content.error.text_outside_bounds > 0) {
            download_button.style.color = "red";
            download_button.style.border = "1px solid red";
          }

          // Create recommendations list
          if (
            canvas_content.error.headline_widow ||
            canvas_content.error.body_widow ||
            canvas_content.error.body_special_characters ||
            canvas_content.error.headline_special_characters
          ) {
            add_label_to_inside_tools_container("Notes");

            let error_string = "";
            if (canvas_content.error.headline_widow) {
              error_string += "</br>Headline has a widow on canvas.";
            }
            if (canvas_content.error.body_widow) {
              error_string += "</br>Body has a widow on canvas.";
            }
            if (canvas_content.error.headline_special_characters) {
              error_string +=
                "</br>Headline copy includes (" +
                canvas_content.error.headline_special_characters +
                ") line break(s) that may effect layout.";
            }
            if (canvas_content.error.body_special_characters) {
              error_string +=
                "</br>Body copy includes (" +
                canvas_content.error.body_special_characters +
                ") line break(s) that may effect layout.";
            }
            // Remove the first <br>
            error_string = error_string.replace("<br>", "");

            let error_message =
              add_text_to_inside_tools_container(error_string);
          }

          add_label_to_inside_tools_container("Template");
          add_button_to_inside_tools_container(
            "Save template",
            "save_template"
          );
          add_button_to_inside_tools_container(
            "Import template",
            "import_template"
          );
        }

        if (buttonName === "logo_button") {
          expand_left_panel();
          current_panel_open = "Logo";

          // Select logo
          add_label_to_inside_tools_container("Logo");
          add_button_to_inside_tools_container("Corporate");
          add_button_to_inside_tools_container("Ratings");
          add_button_to_inside_tools_container("Dow Jones Indices");
          add_button_to_inside_tools_container("Commodity Insights");
          add_button_to_inside_tools_container("Market Intelligence");
          add_button_to_inside_tools_container("Mobility");
        }

        if (buttonName === "text_button") {
          expand_left_panel();
          current_panel_open = "Text";
          add_label_to_inside_tools_container("FONT SIZE");
          // Set font size
          let toggle_font_size = add_toggle_switch_with_label(
            "Small",
            canvas_content.font_size.small
          );

          add_label_to_inside_tools_container("COPYWRITING");

          // Headline
          add_toggle_switch_with_label(
            "Show headline",
            canvas_content.headline_visibility
          );

          if (canvas_content.headline_visibility) {
            let headline_label =
              add_label_to_inside_tools_container("Headline");
            headline_label.id = "headline_label";

            let headline_button = add_input_box_to_inside_tools_container(
              "headline",
              canvas_content.headline
            );
            headline_button.style.height = "72px";
          }

          // Body
          add_toggle_switch_with_label(
            "Show description",
            canvas_content.description_visibility
          );

          if (canvas_content.description_visibility) {
            let body_label = add_label_to_inside_tools_container("Body");
            body_label.id = "body_label";

            let description_button = add_input_box_to_inside_tools_container(
              "body",
              canvas_content.body
            );
            description_button.style.height = "128px";
          }
          // Button
          add_toggle_switch_with_label(
            "Show button",
            canvas_content.cta_visibility
          );

          if (canvas_content.cta_visibility) {
            let cta_label = add_label_to_inside_tools_container("Button");
            cta_label.id = "cta_label";
            add_input_box_to_inside_tools_container("cta", canvas_content.cta);

            add_label_to_inside_tools_container("Button Style");
            let select_position = create_dropdown_menu(
              ["solid", "outline", "none"],
              "button_style",
              canvas_content.button_style
            );
          }

          // Update labels
          update_font_size_label();
        }

        if (buttonName === "layout_button") {
          expand_left_panel();
          current_panel_open = "Layout";

          // Templates
          add_label_to_inside_tools_container("Template (Size)");
          let select_template = create_dropdown_menu(
            [
              "Select...",
              "1200x1200 Square",
              "1200x628 Landscape",
              "628x1200 Portrait",
              "1920x1080 [Desktop] Landscape",
              "1080x1920 [Desktop] Portrait",
              /*
              "1920x420",
              "1800x300",
              "1500x300",
              "1220x180",
              "990x120",
              "728x90",
              "616x205",
              "600x150 [Email]",
              "400x100 [Email]",
              "300x600",
              "300x250",
              "160x600",
              */
            ],
            "canvas_size",
            "Select..."
          );

          // Update logo position
          add_label_to_inside_tools_container("Logo Alignment");
          create_dropdown_menu(
            ["top", "bottom"], // "top right", "bottom right"
            "logo_position",
            canvas_content.logo.corner.toLowerCase().replace(/_/g, " ")
          );

          // Size and position
          if (temp_portal_image.length > 0) {
            // Position
            add_label_to_inside_tools_container("Portal Alignment");
            let portal_position_options = ["top", "right", "bottom", "left"];
            // Landscape mode
            if (canvas_content.shortestSide == "height") {
              portal_position_options = ["right", "left"];
            }
            // Portrait mode
            if (canvas_content.shortestSide == "width") {
              portal_position_options = ["top", "bottom"];
            }
            // Square mode
            if (canvas.width == canvas.height) {
              portal_position_options = ["top", "right", "bottom", "left"];
            }

            let select_position = create_dropdown_menu(
              portal_position_options,
              "portal_side",
              canvas_content.portal_side
            );

            let slider_range = canvas_content.portal_size_values.length - 1; // Cap at 70%
            let portal_slider_label_name = "Portal size: ";
            let portal_slider_label = add_label_to_inside_tools_container(
              portal_slider_label_name +
                canvas_content.portal_size_percent +
                "%",
              0
            );
            // Update range slider
            for (var i = 0; i < canvas_content.portal_size_values.length; i++) {
              if (
                canvas_content.portal_size_values[i] ==
                canvas_content.portal_size_percent
              ) {
                canvas_content.portal_size_slider = i;
              }
            }
            // Explain error
            if (
              canvas_content.portal_count == 2 &&
              canvas_content.portal_size_percent == 100
            ) {
              let error_message = add_text_to_inside_tools_container(
                "Two Portal Layout Max 70%"
              );
              error_message.style.marginTop = "8px";
            }
            //canvas_content.portal_size_slider
            create_range_slider(
              slider_range,
              canvas_content.portal_size_slider,
              "portal_size_slider"
            );
          }

          // Show margins label
          if (
            canvas_content.portal_count == 1 &&
            canvas_content.orientation == "horizontal"
          ) {
            if (canvas_content.portal_size_percent !== 100) {
              // Margins
              add_toggle_switch_with_label(
                "Margins",
                canvas_content.portal_override_margins
              );
            }
            // Overlay
            if (is_fullscreen_image()) {
              add_toggle_switch_with_label(
                "Full image color overlay",
                canvas_content.portal_color_overlay
              );
            }
          }
        }

        // IMAGES
        if (buttonName === "image_button") {
          expand_left_panel();
          current_panel_open = "Image";

          // Portal upload
          add_file_upload_area();

          if (canvas_content.portal_count == 2) {
            add_toggle_switch_with_label(
              "Primary image side",
              canvas_content.portal_primary_image_side
            );
          }

          // Add Focal Point controls
          if (canvas_content.portal_count > 0) {
            for (var i = 0; i < canvas_content.portal_count; i++) {
              let img = get_image(i);
              if (img) {
                let portal_label =
                  i == 0 ? "Image [PRIMARY]" : "Image [Secondary]";
                let label = add_label_to_inside_tools_container(portal_label);
                label.classList.add("portal_label");
                // Focal point setter
                create_image_preview_with_focal_point(img, i);
                // Add make primary button
                if (i == 1) {
                  let makePrimaryButton =
                    add_button_to_inside_tools_container("Convert to primary");
                }
                // Show scale
                let zoom_label = zoom_label_generate(
                  canvas_content.portal_image_scale[i]
                );
                let zoom_scale = add_label_to_inside_tools_container(
                  zoom_label,
                  0
                );
                zoom_scale.id = "zoom-scale-label";
                create_range_slider(
                  4,
                  canvas_content.portal_image_scale[i],
                  "image_scale_" + i
                );
                // Mirror horizontally
                let toggle_switch = add_toggle_switch_with_label(
                  "Mirror horizontally",
                  canvas_content.portal_image_flip[i]
                );
                toggle_switch.name = i;
                // Create the delete button
                let removeButton = remove_image_button(i);
                if (i == 1) {
                  removeButton.style.marginBottom = "16px";
                }
              }
            }
          }
        }
      }

      // Text wrap
      function add_text_wrap_button_and_input() {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );

        const textBalance = document.createElement("div");
        textBalance.classList.add("text_balance");

        const label1 = document.createElement("label");
        label1.textContent = "Wordwrap";

        const inputBox = document.createElement("input");
        inputBox.type = "number";
        inputBox.value = canvas_content.headline.split(/\r?\n/).length;
        inputBox.min = 1;
        inputBox.name = "inputNumber";
        inputBox.id = "inputNumber";
        inputBox.classList.add("number-input");

        const button = document.createElement("button");
        button.style.padding = "8px";
        button.style.marginBottom = "0px";
        button.textContent = "Ok";

        button.addEventListener("click", () => {
          const inputValue = inputBox.value ? parseInt(inputBox.value) : 1;
          inputBox.value = inputValue;

          const text = canvas_content.headline;
          const numberOfLines = inputBox.value;
          let removeBreakpoints = remove_new_lines_and_return_lines(text, true);

          // Remove all break points and find the longest word
          canvas_content.headline = removeBreakpoints;

          // If the copy has more than one line use the longest word
          let textWrap = balance_text_wrap(removeBreakpoints, numberOfLines);
          let longestLine = find_longest_line(textWrap);
          if (longestLine.oneLine == false) {
            canvas_content.headline = textWrap;
          }

          // Make sure the longest word fits in the canvas
          calculate_headline_minimum_container_width();

          update_toolbox_panel("text_button");
          update_canvas();
        });

        textBalance.appendChild(label1);
        textBalance.appendChild(inputBox);
        //textBalance.appendChild(label2);
        textBalance.appendChild(button);

        insideToolsContainer.appendChild(textBalance);
      }

      // Update button position
      function if_logo_top_aligned_set_text_bottom_aligned() {
        if (canvas_content.logo.corner.includes("top")) {
          canvas_content.text_bottom_aligned = true;
        }
      }

      // Dropdown menus
      function user_modified_selection_dropdown(event) {
        let selected_value = event.target.value;
        let button_label = event.target.name;

        if (current_panel_open == "Text") {
          if (button_label == "button_style") {
            canvas_content.button_style = selected_value;
          }
        }

        if (current_panel_open == "Layout") {
          if (button_label == "logo_position") {
            var position_name = selected_value.toLowerCase();
            canvas_content.logo.corner = position_name;
            canvas_content.text_bottom_aligned = false;
            // Default is to snap the text to the bottom of the canvas
            if_logo_top_aligned_set_text_bottom_aligned();
          }

          if (button_label == "canvas_size") {
            const inputString = selected_value;
            // Exit if not a number
            if (inputString == "Select...") {
              return;
            }

            // Get the width
            const regex = /(\d+)x(\d+)/;
            const match = inputString.match(regex);

            const width = parseInt(match[1]);
            const height = parseInt(match[2]);

            canvas_content.canvas_width = width;
            canvas_content.canvas_height = height;

            // Update canvas
            create_canvas();
          }

          if (button_label == "portal_side") {
            canvas_content.portal_side = selected_value;
            // Clear portal downscaled image
            temp_portal_downscaled_image = [null, null];
          }
          update_toolbox_panel("layout_button");
        }

        // Portals
        if (current_panel_open == "Image") {
          if (button_label == "portal_image") {
            canvas_content.portal_upload_image_number =
              parseInt(selected_value);
          }
        }

        // Update canvas
        update_canvas();
      }

      function convert_to_blue_button_style(button) {
        button.classList.remove("toolbox_expanded_button");
      }

      // Dropdown menu
      function create_dropdown_menu(options, name, selected_string) {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );

        const select = document.createElement("select");
        select.name = name;
        select.classList.add("toolbox_dropdown");
        select.addEventListener("change", user_modified_selection_dropdown);

        options.forEach((option) => {
          const opt = document.createElement("option");
          opt.value = option;
          if (option == selected_string) {
            opt.selected = true;
          }
          opt.textContent = option.toTitleCase();
          select.appendChild(opt);
        });

        insideToolsContainer.appendChild(select);
        return select;
      }

      function change_dropdown_menu_text(element, current, replacement) {
        for (let i = 0; i < element.children.length; i++) {
          let child = element.children[i];
          if (child.textContent == current) {
            child.textContent = replacement;
          }
        }
      }

      // Title case
      String.prototype.toTitleCase = function () {
        return this.replace(/\w\S*/g, function (txt) {
          return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
        });
      };

      function update_color_scheme(color) {
        color = color.toLowerCase().slice(0, -2);
        // Set background color
        canvas_content.background_color = spglobal_colors[color];
        // Select the correct color scheme
        canvas_content.color_font = spglobal_colors.black;
        canvas_content.color_wordmark = spglobal_colors.red;

        if (color.includes("yellow") || color.includes("blue")) {
          canvas_content.color_wordmark = spglobal_colors.black;
        }
        if (color.includes("black")) {
          canvas_content.color_font = spglobal_colors.white;
        }
        if (color.includes("red")) {
          canvas_content.color_font = spglobal_colors.white;
          canvas_content.color_wordmark = spglobal_colors.white;
        }
      }

      function get_image(image_number) {
        // Default
        if (image_number == undefined) {
          image_number = 0;
        }

        if (temp_portal_image.length == 0) {
          return null;
        }

        // Default loads the primary image if there is one
        let img = null;

        // Looks for the image ID
        img = temp_portal_image[image_number];

        return img;
      }

      // Add image to the canvas
      function add_image_to_canvas(
        img,
        pos_x,
        pos_y,
        maskRectWidth,
        maskRectHeight,
        image_flip,
        image_number
      ) {
        if (!img) {
          return;
        }

        // Load image and draw it on the canvas
        const image = new Image();
        image.src = img.src;

        image.onload = function () {
          // To scaling proportionally to fit to frame
          // Divide the image dimensions by the mask dimensions
          const width_scale = image.width / maskRectWidth;
          const height_scale = image.height / maskRectHeight;

          // One side it rescaled to 100% the width/height of the Canvas.
          // The other side rescaled larger or equal to the canvas width/height
          // The side that is a smaller scale is set to 100%
          const scaleFactor = Math.min(width_scale, height_scale); // Smallest scale wins

          let scale = 1 + canvas_content.portal_image_scale[image_number] * 0.2;

          // Calculate the scale of the change
          let scaledWidth = (image.width / scaleFactor) * scale;
          let scaledHeight = (image.height / scaleFactor) * scale;

          // Calculate the focal point of the image -- Currently not quite centering it
          let canvas_margin_x = Math.abs(maskRectWidth - scaledWidth);
          let canvas_margin_y = Math.abs(maskRectHeight - scaledHeight);

          let relative_x =
            canvas_content.portal_focal_point[image_number].relative_x;
          let relative_y =
            canvas_content.portal_focal_point[image_number].relative_y;

          // Flip relative coordinates if image is mirrored
          if (image_flip) {
            relative_x = 1 - relative_x;
          }

          // Center image exactly in canvas mask
          let img_x_position = scaledWidth * relative_x - maskRectWidth * 0.5;
          // Constraints where the image can't be positioned so that the edge is visible
          img_x_position = Math.max(0, img_x_position);
          img_x_position = Math.min(canvas_margin_x, img_x_position);

          let img_y_position = scaledHeight * relative_y - maskRectHeight * 0.5;
          // Constraints where the image can't be positioned so that the edge is visible
          img_y_position = Math.max(0, img_y_position);
          img_y_position = Math.min(canvas_margin_y, img_y_position);

          // Draw the clipping mask in the center of the canvas
          ctx.save();
          ctx.beginPath();
          ctx.rect(pos_x, pos_y, maskRectWidth, maskRectHeight);
          ctx.clip();

          // Flip the image horizontally
          let transformed_image = flip_image_horizontally(image, image_flip);

          // Downscale image
          let downscale_ratio = 1 / scaleFactor;
          let downscaled_image = transformed_image;
          // Only downscale if the image is larger than the canvas
          if (downscale_ratio < 1) {
            // Render using the pre-downscaled image
            if (temp_portal_downscaled_image[image_number]) {
              //Use pre-downscaled image
              downscaled_image = temp_portal_downscaled_image[image_number];
              console.log("Reuse downscaled image");
            } else {
              console.log("Expensive downscale of the high res image");
              // Expensive high resolution downscale
              downscaled_image = high_resolution_image_downscale(
                transformed_image,
                1 / scaleFactor,
                image_number
              );
            }
          }

          // Draw the image in the center of the mask (Constrained by the edges of the image)
          ctx.drawImage(
            downscaled_image,
            pos_x - img_x_position,
            pos_y - img_y_position,
            scaledWidth,
            scaledHeight
          );
          ctx.restore();

          // Draw portal divider line
          if (canvas_content.portal_count > 1) {
            draw_divider(
              canvas_content.portal_divider_x,
              canvas_content.portal_divider_y,
              canvas_content.portal_divider_height
            );
          }

          // Render text over image if there is one full screen image
          if (is_fullscreen_image()) {
            // Render transparent overlay
            if (canvas_content.portal_color_overlay && is_fullscreen_image()) {
              let color =
                canvas_content.color_font != spglobal_colors.black
                  ? "#000000"
                  : "#ffffff";
              render_background(color, 0.4);
            }
            // Render text overlay
            render_text();
          }
        };
      }

      function flip_image_horizontally(img, flip) {
        // Create an offscreen canvas
        const offscreenCanvas = document.createElement("canvas");
        offscreenCanvas.width = img.width;
        offscreenCanvas.height = img.height;
        const offscreenCtx = offscreenCanvas.getContext("2d");

        // Flip the offscreen canvas horizontally
        if (flip) {
          offscreenCtx.translate(img.width, 0);
          offscreenCtx.scale(-1, 1);
        }
        offscreenCtx.drawImage(img, 0, 0, img.width, img.height);

        // Draw the flipped image from the offscreen canvas to the main canvas
        return offscreenCanvas;
      }

      function is_fullscreen_image() {
        return (
          canvas_content.portal_size_percent >= 100 &&
          canvas_content.portal_count == 1
        );
      }

      function render_logo() {
        // Make logos visible
        let logo_container = document.getElementById("svg-container");
        logo_container.style.display = "inline";

        // Get original size
        let logo_name = canvas_content.logo.name;
        let svgElement = document.getElementById(logo_name);
        let { width, height } = svgElement.getBBox();

        // Market Intelligence logo should fit in all circumstances
        let reference = { width: 285.9903259277344, height: 78.15953063964844 };

        // Update SVG logo colors
        svgElement.getElementById("Bar").style.fill = canvas_content.color_font;

        svgElement.getElementById("Wordmark").style.fill =
          canvas_content.color_wordmark;

        // Set to solid color if the canvas image fills the entire screen
        if (is_fullscreen_image()) {
          svgElement.getElementById("Wordmark").style.fill =
            canvas_content.color_font;
        }

        let name = svgElement.getElementById("Name");
        if (name != null) {
          name.style.fill = canvas_content.color_font;
        }

        // Hide all SVGs
        logo_container.style.display = "none";

        // Clone the SVG
        let clonedSvgElement = svgElement.cloneNode(true);
        let outerHTML = clonedSvgElement.outerHTML,
          blob = new Blob([outerHTML], { type: "image/svg+xml;charset=utf-8" });

        let URL = window.URL || window.webkitURL || window;
        let blobURL = URL.createObjectURL(blob);

        // Logo scale
        let rescaled = false;
        // Default is based on the margins. Scale is 1 if the margins are 40px
        let logo_scale = Math.max(0.65, canvas_content.margin / 40); // 1

        // Then we have to check if the logo will fit in the space provided which is the margins
        if (reference.width * logo_scale > canvas_content.marginWidth) {
          logo_scale = canvas_content.marginWidth / reference.width; // Modify the logo scale to fit
        }

        if (reference.height * logo_scale > canvas_content.marginHeight) {
          logo_scale = canvas_content.marginHeight / reference.height; // Check if the modified logo scale fits
        }

        // Update the logo size
        let logo_width = width * logo_scale;
        let logo_height = height * logo_scale;

        // If corproate logo is smaller than minimum requirements, rescale it
        if (logo_name.includes("corporate")) {
          let min_height = 18;
          // Rescale logo to minimum specs
          if (logo_height < min_height) {
            logo_scale = min_height / height;
            logo_width = width * logo_scale;
            logo_height = height * logo_scale;
            console.log("Rescaled corproate logo");
          }
        }

        // Logo does not fit in the available space
        if (
          logo_width > canvas_content.marginWidth ||
          logo_height > canvas_content.marginHeight
        ) {
          console.log(
            `ERROR: Logo too large for available space ${logo_width} x ${logo_height}`
          );
        }

        // Default bottom left
        var position = {
          x: canvas_content.marginLeft,
          y: canvas_content.marginBottom - logo_height,
        };

        let logo_position = canvas_content.logo.corner;

        // Move logo to position
        if (logo_position == "top") {
          position.x = canvas_content.marginLeft;
          position.y = canvas_content.marginTop;
        }

        // Shift the logo down -- If it has descenders
        let logo_shift_percent = 0.08974358974;
        if (
          logo_name != "spg_corporate" &&
          logo_name != "spg_dow_jones_indices"
        ) {
          if (logo_position == "bottom" || logo_position == "bottom") {
            position.y += logo_height * logo_shift_percent;
          }
        }

        let sp_ratio =
          logo_name == "spg_corporate" ? 0.6857142857 : 0.2948717949;

        // Store dynamic information about the logo
        canvas_content.logo = {
          x: position.x,
          y: position.y,
          width: logo_width,
          height: logo_height,
          min_padding: logo_height * sp_ratio, // The size of the S&P Global text
          name: logo_name,
          corner: logo_position,
        };

        // Load as an image
        let image = new Image();
        image.onload = () => {
          // Draw logo
          ctx.drawImage(image, position.x, position.y, logo_width, logo_height);
        };
        image.src = blobURL;
      }

      // Margins
      function calculate_grid(show_guides) {
        const width = canvas.width;
        const height = canvas.height;

        // Determine the shortest side of the canvas
        const shortestSide = Math.min(width, height);
        const longestSide = Math.max(width, height);
        canvas_content.shortestSide = "height";
        if (shortestSide == width) {
          canvas_content.shortestSide = "width";
        }

        canvas_content.margin = calculate_canvas_margin(
          canvas.width,
          canvas.height
        );

        // Margins at 100% of the Canvas
        canvas_content.marginTop = canvas_content.margin;
        canvas_content.marginLeft = canvas_content.margin;
        canvas_content.marginBottom = height - canvas_content.margin;
        canvas_content.marginRight = width - canvas_content.margin;

        // Update margins if there are PORTALS
        if (
          canvas_content.portal_count > 0 &&
          canvas_content.portal_size_percent < 100 &&
          canvas_content.portal_size_percent != 0
        ) {
          if (canvas_content.portal_side == "right") {
            canvas_content.marginRight -= canvas_content.portal_width;
          }
          if (canvas_content.portal_side == "left") {
            canvas_content.marginLeft += canvas_content.portal_width;
          }
          if (canvas_content.portal_side == "top") {
            canvas_content.marginTop += canvas_content.portal_height;
          }
          if (canvas_content.portal_side == "bottom") {
            canvas_content.marginBottom -= canvas_content.portal_height;
          }
        }

        // Margin update
        canvas_content.marginWidth =
          canvas_content.marginRight - canvas_content.marginLeft;
        canvas_content.marginHeight =
          canvas_content.marginBottom - canvas_content.marginTop;

        // Draw guides
        draw_guides(show_guides, "Margins");
      }

      function draw_guides(
        show_guides,
        name = "",
        position = {
          x: canvas_content.marginLeft,
          y: canvas_content.marginTop,
          width: canvas_content.marginWidth,
          height: canvas_content.marginHeight,
        },
        color = "#92BFF5"
      ) {
        if (show_guides) {
          // Draw the blue rectangle outline
          setTimeout(function () {
            // Set the stroke color and style
            ctx.strokeStyle = color;
            ctx.lineWidth = 1;
            ctx.strokeRect(
              position.x,
              position.y,
              position.width,
              position.height
            );
          }, 100);
        }
      }

      function update_canvas() {
        clear_canvas();

        // Text
        text_has_been_rendered = false;

        // Update color scheme
        render_background(canvas_content.background_color);

        // Portals
        canvas_content.portal_margins = false;
        canvas_content.portal_count = temp_portal_image.length;

        // If the Canvas is vertical do not show the margins
        if (canvas_content.orientation == "vertical") {
          canvas_content.portal_override_margins = false;
        }

        // No full screen double portals
        if (
          canvas_content.portal_size_percent == 100 &&
          canvas_content.portal_count == 2
        ) {
          canvas_content.portal_size_percent = 70;
        }

        // Create ONE Portal image on the canvas
        if (
          canvas_content.portal_count == 1 &&
          canvas_content.portal_size_percent > 0
        ) {
          var portal_full = get_portal_specs(0);
          let img = get_image(0);
          add_image_to_canvas(
            img,
            portal_full.x,
            portal_full.y,
            portal_full.width,
            portal_full.height,
            canvas_content.portal_image_flip[0],
            0
          );
        }

        // Create TWO Portal images on the canvas
        if (
          canvas_content.portal_count == 2 &&
          canvas_content.portal_size_percent > 0
        ) {
          canvas_content.portal_margins = true;

          // Override LARGE on LEFT
          var portal_large = get_portal_specs("big", "left");
          var portal_small = get_portal_specs("small", "right");

          // Default LARGE on RIGHT
          if (canvas_content.portal_primary_image_side) {
            var portal_large = get_portal_specs("big", "right");
            var portal_small = get_portal_specs("small", "left");
          }

          let img_a = get_image(0);
          add_image_to_canvas(
            img_a,
            portal_large.x,
            portal_large.y,
            portal_large.width,
            portal_large.height,
            canvas_content.portal_image_flip[0],
            0
          );

          let img_b = get_image(1);
          add_image_to_canvas(
            img_b,
            portal_small.x,
            portal_small.y,
            portal_small.width,
            portal_small.height,
            canvas_content.portal_image_flip[1],
            1
          );
        }

        // Grid system
        calculate_grid(canvas_content.show_guides);

        // Add logo
        render_logo();

        // Render Text
        render_text();
      }

      function render_text() {
        // Text and button alignment have to follow strict rules -- Updating to follow those rules
        if_logo_top_aligned_set_text_bottom_aligned();

        let logo_padding = canvas_content.logo.min_padding * 1.5;

        function estimate_button_text_size(button_font_size) {
          ctx.font = "bold " + button_font_size + "px Akkurat LL"; // Measure button inner text width
          return ctx.measureText(canvas_content.cta).width;
        }

        // Position starts top left corner
        let position = {
          x: canvas_content.marginLeft,
          y: canvas_content.marginTop,
        };

        // Default text area available
        let text_area = {
          width: canvas_content.marginWidth,
          height:
            canvas_content.marginHeight -
            canvas_content.logo.height -
            logo_padding,
        };

        // Dynamic font size
        let estimate_headline_size = estimate_typescale(
          canvas.width,
          canvas.height
        );

        // Headline
        let headline_unformatted = remove_new_lines_and_return_lines(
          canvas_content.headline,
          canvas_content.ignore_line_breaks.headline
        );

        // Downscale the font if the user picks a smaller font
        if (canvas_content.font_size.small) {
          // Precalculate the size of the text then downscale
          headline_properties = add_text_to_canvas(
            headline_unformatted,
            position.x,
            position.y,
            text_area.width,
            text_area.height,
            estimate_headline_size,
            canvas_content.color_font,
            0,
            1.05,
            700,
            false
          );

          estimate_headline_size = round_to_nearest_typescale(
            headline_properties.font_size - 1
          );
        }

        // Initial guess at largest font size
        font_size = estimate_headline_size;

        // Calculate the position
        var headline_position_y = position.y;

        // Remove line breaks if user has turned off formating
        let headline_text = canvas_content.headline_visibility
          ? headline_unformatted
          : "";

        // Content showing
        let show_body =
          canvas_content.body.length > 0 &&
          canvas_content.description_visibility;
        let show_button =
          canvas_content.cta.length > 0 && canvas_content.cta_visibility;

        // Limit text area size to 80% max when in Landscape mode and the portal is 0% or 100% of the canvas
        if (
          canvas_content.portal_size_percent == 100 ||
          canvas_content.portal_size_percent == 0 ||
          canvas_content.portal_count == 0
        ) {
          // Limit the width if it's a Landscape canvas
          if (canvas_content.shortestSide == "height") {
            text_area.width = text_area.width * 0.8;
          }
        }

        // ----------------------- CALCULATE HEADLINE --------------------------//
        // Calculate the initial headline size  -- Do not render
        headline_properties = add_text_to_canvas(
          headline_text,
          position.x,
          headline_position_y,
          text_area.width,
          text_area.height,
          font_size,
          canvas_content.color_font,
          0,
          1.05,
          700,
          false
        );

        // Constrain headline font size to specific sizes
        let headline_fixed_font_size = round_to_nearest_typescale(
          headline_properties.font_size
        );

        // Calculate the margins between text
        let minimum_margin = 8;
        let content_margin =
          headline_properties.font_size == 16
            ? 4
            : Math.max(headline_fixed_font_size * 0.5, minimum_margin);
        headline_margin = show_body || show_button ? content_margin : 0; // Collapse margin if there is no content below the headline
        headline_margin = headline_text == "" ? 0 : headline_margin; // Collapse headline margin if there is no text

        // Precalculate BUTTON size so that it can removed from the available space
        let button_padding = calculate_button_padding(canvas.height);
        let button_font_size = typescale[headline_fixed_font_size].cta;

        let button_height = show_button
          ? button_padding * 2 + button_font_size
          : 0;
        // Only used to check how much space the body copy would have with the button below it
        let button_margin_above = show_button ? content_margin : 0;

        let button_width =
          button_padding * 2 + estimate_button_text_size(button_font_size);

        // ----------------------- CALCULATE BODY --------------------------//
        // Figure out how much area the BODY has left to be rendered in. The headline and button take up X amount of the available space.
        let body_area_available_height =
          text_area.height -
          headline_properties.height -
          headline_margin -
          button_height -
          button_margin_above;

        // Fix the font size to a specific typescale
        let body_font_size = typescale[headline_fixed_font_size].body;

        // First available position below the headline
        let body_position_y =
          headline_text == ""
            ? position.y
            : position.y + headline_properties.height + headline_margin;

        let body_text = canvas_content.description_visibility
          ? canvas_content.body
          : "";

        // Calculate the body size -- Do not render
        var body_properties = add_text_to_canvas(
          body_text,
          position.x,
          body_position_y,
          text_area.width,
          body_area_available_height,
          body_font_size,
          canvas_content.color_font,
          0,
          1.2, // Line height
          400, // Regular
          false // Do not render
        );

        // ----------------------- CALCULATE BUTTON --------------------------//
        // Buttons are positioned under the body unless there is no body then they are below the headline
        let cta_text = canvas_content.cta_visibility ? canvas_content.cta : "";
        let body_margin = show_body && show_button ? content_margin : 0;
        let button_position_y = show_body
          ? body_position_y + body_properties.height + body_margin
          : body_position_y;
        let button_position_x = position.x;

        // Calculate the button size
        let button_properties = add_to_canvas_cta_button(
          cta_text,
          button_font_size,
          "bold",
          canvas_content.button_style,
          button_padding,
          button_position_x,
          button_position_y,
          false // do not render
        );

        // Text boxe sizes
        let body_height = show_body ? body_properties.height : 0;
        let headline_height = headline_properties.height;

        // If the text position needs to be moved, we have pre-caculated the headline and body copy size and delayed rendering the text
        if (canvas_content.text_bottom_aligned) {
          // Move button to the bottom -- If shifted
          button_position_y = show_button
            ? canvas_content.marginBottom - button_height
            : 0;

          // Body posiiton
          body_position_y =
            canvas_content.marginBottom -
            body_height -
            body_margin -
            button_height;

          // Headline position
          headline_position_y =
            body_position_y - headline_height - headline_margin;

          // Update headline properties
          headline_properties.y = headline_position_y;
        }

        // Identify where the text bounding box Y position
        text_area.y = position.y;
        if (canvas_content.text_bottom_aligned) {
          text_area.y = canvas_content.marginBottom - text_area.height;
        }

        // RECALCULATE HEADLINE
        headline_properties = add_text_to_canvas(
          headline_text,
          position.x,
          headline_position_y,
          text_area.width,
          headline_height + 1,
          font_size,
          canvas_content.color_font,
          0,
          1.05,
          700,
          false // Render text
        );

        // RECALCULATE BODY
        body_properties = add_text_to_canvas(
          body_text,
          position.x,
          body_position_y,
          text_area.width,
          body_height + 1,
          body_font_size,
          canvas_content.color_font,
          0,
          1.2, // Line height
          400, // Regular
          false // Render text
        );

        // Calculate total height of the container
        let total_content_height =
          headline_properties.height +
          body_properties.height +
          button_properties.height +
          headline_margin +
          body_margin;

        // Determine the starting location of the container
        let text_initial_position_y = canvas_content.text_bottom_aligned
          ? canvas_content.marginBottom - total_content_height
          : canvas_content.marginTop;

        // Recalculate y positions
        headline_position_y = text_initial_position_y;

        body_position_y =
          text_initial_position_y +
          headline_properties.height +
          headline_margin;

        button_position_y =
          text_initial_position_y +
          headline_properties.height +
          headline_margin +
          body_properties.height +
          body_margin;

        // COLLISION DETECTION
        // Check if text is exceeding the boundary
        function is_outside_boundingbox(
          name,
          position_x,
          position_y,
          area_height,
          area_width,
          safe_area_position_x,
          safe_area_position_y,
          safe_area_height,
          safe_area_width
        ) {
          // Wiggle room
          let padding = 4;
          // Exceeds the bottom
          if (
            position_y + area_height >
            safe_area_position_y + safe_area_height + padding
          ) {
            return true;
          }
          // Exceeds the top
          if (position_y < safe_area_position_y - padding) {
            return true;
          }
          // Exceeds the width
          if (
            position_x + area_width >
            safe_area_position_x + safe_area_width + padding
          ) {
            console.log(name + " exceeds width");
            return true;
          }
          return false;
        }

        var headline_outside_bounds = is_outside_boundingbox(
          "Headline",
          position.x,
          headline_position_y,
          headline_height + 1,
          headline_properties.width,
          position.x,
          text_area.y,
          text_area.height,
          text_area.width
        );

        var body_outside_bounds = is_outside_boundingbox(
          "Body",
          position.x,
          body_position_y,
          body_height + 1,
          body_properties.width,
          position.x,
          text_area.y,
          text_area.height,
          text_area.width
        );

        var button_outside_bounds = is_outside_boundingbox(
          "Button",
          position.x,
          button_position_y,
          button_properties.height,
          button_properties.width,
          position.x,
          text_area.y,
          text_area.height,
          text_area.width
        );

        // Check if button is out of bounds
        var button_overlapping_logo = false;
        var button_bottom_right = false;
        // Check if the button is outside of the bounds
        if (button_outside_bounds == true) {
          // Render the button in the bottom right hand corner
          button_position_y =
            canvas_content.marginBottom - button_properties.height;
          button_position_x =
            canvas_content.marginRight - button_properties.width;
          // Set button to bottom right
          button_bottom_right = true;

          if (
            button_position_x <
            canvas_content.marginLeft + canvas_content.logo.width + logo_padding
          ) {
            console.log("Button is overlapping logo");
            button_overlapping_logo = true;
          }
        }

        // RENDER THE HEADLINE
        headline_properties = add_text_to_canvas(
          headline_text,
          position.x,
          headline_position_y,
          text_area.width,
          headline_properties.height + 1,
          headline_properties.font_size,
          canvas_content.color_font,
          0,
          1.05,
          700,
          true // Render text
        );

        // Body area changes if the button is bottom right
        body_area_available_height = button_bottom_right
          ? text_area.height - headline_properties.height - headline_margin
          : body_properties.height + 1;

        // Reset to original estimated body text size
        body_font_size = button_bottom_right
          ? body_font_size
          : body_properties.font_size;

        // If top aligned recalculate all the positions to prevent a coding glitch
        if (canvas_content.text_bottom_aligned == false) {
          body_position_y =
            text_initial_position_y +
            headline_properties.height +
            headline_margin;

          button_position_y =
            text_initial_position_y +
            headline_properties.height +
            headline_margin +
            body_properties.height +
            body_margin;

          body_outside_bounds = is_outside_boundingbox(
            "Body",
            position.x,
            body_position_y,
            body_height + 1,
            body_properties.width,
            position.x,
            text_area.y,
            text_area.height,
            text_area.width
          );

          var button_outside_bounds = is_outside_boundingbox(
            "Button",
            position.x,
            button_position_y,
            button_properties.height,
            button_properties.width,
            position.x,
            text_area.y,
            text_area.height,
            text_area.width
          );

          // Recalculate
          button_overlapping_logo = false;
          button_bottom_right = false;
          // Check if the button is outside of the bounds
          if (button_outside_bounds == true) {
            // Render the button in the bottom right hand corner
            button_position_y =
              canvas_content.marginBottom - button_properties.height;
            button_position_x =
              canvas_content.marginRight - button_properties.width;
            // Set button to bottom right
            button_bottom_right = true;

            if (
              button_position_x <
              canvas_content.marginLeft +
                canvas_content.logo.width +
                logo_padding
            ) {
              console.log("Button is overlapping logo");
              button_overlapping_logo = true;
            }
          }
        }

        // RENDER THE BODY
        body_properties = add_text_to_canvas(
          body_text,
          position.x,
          body_position_y,
          text_area.width,
          body_area_available_height,
          body_font_size,
          canvas_content.color_font,
          0,
          1.2, // Line height
          400, // Regular
          true // Render text
        );

        // Check body collision again
        if (button_bottom_right) {
          body_outside_bounds = is_outside_boundingbox(
            "Body",
            position.x,
            body_position_y,
            body_properties.height,
            body_properties.width,
            position.x,
            text_area.y,
            text_area.height,
            text_area.width
          );
        }

        // RENDER THE BUTTON
        let button;
        if (show_button) {
          button_properties = add_to_canvas_cta_button(
            cta_text,
            button_font_size,
            "bold",
            canvas_content.button_style,
            button_padding,
            button_position_x,
            button_position_y,
            true
          );
        }

        // Store font sizes
        canvas_content.font_size.headline = headline_properties.font_size;
        canvas_content.font_size.body = body_properties.font_size;
        canvas_content.font_size.cta = button_font_size;
        update_font_size_label();

        // Create error messages
        canvas_content.error.text_outside_bounds =
          headline_outside_bounds +
          body_outside_bounds +
          button_overlapping_logo;

        // Text errors
        // Headline
        canvas_content.error.headline_outside_bounds = headline_outside_bounds;
        canvas_content.error.headline_widow = headline_properties.widow;
        canvas_content.error.headline_special_characters =
          headline_properties.special_characters;

        // Body
        canvas_content.error.body_outside_bounds = body_outside_bounds;
        canvas_content.error.body_widow = body_properties.widow;
        canvas_content.error.body_special_characters =
          body_properties.special_characters;

        // Button
        canvas_content.error.button_overlapping_logo = button_overlapping_logo;

        function log_dictionary_keys_and_values(dictionary) {
          for (const key in dictionary) {
            if (dictionary.hasOwnProperty(key)) {
              console.log(`${key}: ${dictionary[key]}`);
            }
          }
        }
        // Call the function to print the errors
        //log_dictionary_keys_and_values(canvas_content.error);

        let show_boundingboxes = false;
        if (
          canvas_content.error.text_outside_bounds > 0 ||
          show_boundingboxes
        ) {
          const delayInSeconds = 0.2; // Replace x with the number of seconds you want to delay
          setTimeout(() => {
            show_errors(
              position,
              text_area,
              headline_properties,
              body_properties,
              button_properties,
              show_boundingboxes // show all
            );
          }, delayInSeconds * 1000); // Convert seconds to milliseconds
        }

        function show_errors(
          position,
          text_area,
          headline_properties,
          body_properties,
          button_properties,
          show_boundingboxes
        ) {
          // Draw guides around total available text area
          ctx.strokeStyle = "blue"; // Set stroke color to blue
          ctx.lineWidth = 1;
          ctx.setLineDash([4, 4]); // Set the line to be dashed with a pattern of 5 pixels on and 5 pixels off
          ctx.strokeRect(
            position.x,
            text_area.y,
            text_area.width,
            text_area.height
          );

          function drawVerticalTextInBlueLabel(ctx, text, boundingBox) {
            // Set the font and text style
            ctx.font = "12px Arial";
            ctx.fillStyle = "white";

            // Calculate the position of the blue label inside the bounding box
            const labelWidth = 12 + 6; // 12px font size
            const textWidth = ctx.measureText(text).width;
            const labelHeight = textWidth + 12; // 6px padding on both sides
            const labelX = boundingBox.x + boundingBox.width - 6; // 6px padding from right
            const labelY =
              boundingBox.y + (boundingBox.height - labelHeight) / 2; // Vertically centered

            // Draw the blue label background
            ctx.fillStyle = "blue";
            ctx.fillRect(labelX, labelY, labelWidth, labelHeight);

            // Rotate the canvas 90 degrees counter-clockwise for vertical text
            ctx.save();
            ctx.translate(labelX + labelWidth / 2, labelY + labelHeight / 2); // Move the origin to the label's center
            ctx.rotate(-Math.PI / 2); // Rotate 90 degrees counter-clockwise

            // Draw the vertically centered white text inside the blue label
            ctx.fillStyle = "white";
            ctx.fillText(text, -textWidth / 2, 6); // Adjust for padding on the right side

            // Restore the canvas to its original state
            ctx.restore();
          }

          drawVerticalTextInBlueLabel(ctx, "Text safe area", {
            x: position.x,
            y: text_area.y,
            width: text_area.width,
            height: text_area.height,
          });

          var error_color = "red";
          var error_text_color = "white";

          if (canvas_content.background_color == spglobal_colors.red) {
            var error_color = "white";
            var error_text_color = "red";
          }

          // Error message
          function drawTextInRedRectangle(ctx, text, boundingBox) {
            // Set the font and text style
            ctx.font = "12px Arial";

            // Calculate the width and height of the text
            const textWidth = ctx.measureText(text).width;
            const textHeight = 12; // 12px font size

            // Calculate the position of the red rectangle inside the bounding box
            const rectX = boundingBox.x; //+ boundingBox.width - textWidth - 6; // 6px padding from right
            const rectY = boundingBox.y; //+ boundingBox.height - textHeight - 6; // 6px padding from bottom
            const rectWidth = textWidth + 12; // 6px padding on both sides
            const rectHeight = textHeight + 12; // 6px padding on both sides

            // Draw the red rectangle
            ctx.fillStyle = error_color;
            ctx.fillRect(rectX, rectY, rectWidth, rectHeight);

            // Draw the white text inside the red rectangle
            ctx.fillStyle = error_text_color;
            ctx.fillText(text, rectX + 6, rectY + 6 + 12); // 6px padding on both sides
          }

          // Draw guides around headline
          if (
            (headline_text.length > 0 &&
              canvas_content.error.headline_outside_bounds) ||
            show_boundingboxes
          ) {
            ctx.strokeStyle = error_color;
            ctx.lineWidth = 2;
            ctx.strokeRect(
              headline_properties.x,
              headline_properties.y,
              headline_properties.width,
              headline_properties.height
            );
            drawTextInRedRectangle(
              ctx,
              "Text exceeds safe area",
              headline_properties
            );
          }

          // Draw guides around body
          if (
            (body_text.length > 0 &&
              canvas_content.error.body_outside_bounds) ||
            show_boundingboxes
          ) {
            ctx.strokeStyle = error_color;
            ctx.lineWidth = 2;
            ctx.strokeRect(
              body_properties.x,
              body_properties.y,
              body_properties.width,
              body_properties.height
            );
            drawTextInRedRectangle(
              ctx,
              "Text exceeds safe area",
              body_properties
            );
          }

          // Draw guides around button
          if (
            canvas_content.cta.length > 0 &&
            canvas_content.error.button_overlapping_logo
          ) {
            ctx.strokeStyle = error_color;
            ctx.lineWidth = 3;
            ctx.strokeRect(
              button_properties.x,
              button_properties.y,
              button_properties.width,
              button_properties.height
            );
            drawTextInRedRectangle(
              ctx,
              "Button overlaps logo",
              button_properties
            );
          }
        }
        // To turn off dashed lines and revert to a solid line
        ctx.setLineDash([]); // Reset the line dash pattern to an empty array
      }

      //function show_error_state()

      // Wraps an input text into a specified number of lines, balancing text content and ensuring certain phrases are not split across lines.
      function balance_text_wrap(text, numberOfLines) {
        let split_words = text.split(" ");
        const words = merge_spglobal_and_dow_strings(split_words); // Merges S&P Global into one word
        const avgCharsPerLine = text.length / numberOfLines;
        //console.log(`number of lines: ${numberOfLines}`);

        let lines = [];
        let currentLine = "";

        words.forEach((word, index) => {
          let potentialLine =
            currentLine + (currentLine.length ? " " : "") + word;

          if (potentialLine.length <= avgCharsPerLine || !currentLine) {
            currentLine = potentialLine;
          } else {
            let diff1 = Math.abs(currentLine.length - avgCharsPerLine);
            let diff2 = Math.abs(potentialLine.length - avgCharsPerLine);

            if (diff1 < diff2) {
              lines.push(currentLine);
              currentLine = word;
            } else {
              lines.push(potentialLine);
              currentLine = "";
            }
          }

          if (index === words.length - 1 && currentLine) {
            lines.push(currentLine);
          }
        });

        // Distribute remaining words if numberOfLines is greater than the lines generated
        while (lines.length < numberOfLines) {
          let longestLineIndex = lines.reduce(
            (maxIndex, currentLine, currentIndex, array) => {
              return currentLine.length > array[maxIndex].length
                ? currentIndex
                : maxIndex;
            },
            0
          );
          let longestLineWords = lines[longestLineIndex].split(" ");
          longestLineWords = merge_spglobal_and_dow_strings(longestLineWords);

          let wordToMove = longestLineWords.pop();
          lines[longestLineIndex] = longestLineWords.join(" ");

          if (longestLineIndex < lines.length - 1) {
            lines[longestLineIndex + 1] =
              wordToMove + " " + lines[longestLineIndex + 1];
          } else {
            lines.push(wordToMove);
          }
        }

        // Remove any lines that don't have words
        lines = lines.filter((line) => line.trim().length > 0);
        let joined_string = lines.join("\n");
        let add_spaces = joined_string.replace(/(\S)(\r?\n)/g, "$1 $2");

        // Redo the text balance wrap if the number of requested lines was more than the final output
        // It prevents weird text balances that get caused by overshooting
        let final_line_count = add_spaces.split(/\r?\n/).length;
        console.log(
          `number of lines: ${numberOfLines} final line count ${final_line_count}`
        );
        if (numberOfLines > final_line_count) {
          return balance_text_wrap(text, final_line_count);
        }

        return add_spaces;
      }

      // Find and return the longest line in a text, with a flag if the text is only one line.
      function find_longest_line(text) {
        const lines = text.split(/\r?\n/);
        const result = {
          oneLine: lines.length <= 1,
          longestLine: lines[0] || "",
        };

        for (let i = 1; i < lines.length; i++) {
          if (lines[i].length > result.longestLine.length) {
            result.longestLine = lines[i];
          }
        }
        // Additional space to protect against too small text
        result.longestLine += " ";
        return result;
      }

      function get_portal_specs(portal_size, portal_side) {
        // portal_large: true / false
        // portal_right: true / false
        let canvas_side = canvas_content.portal_side; // top, bottom, left, right
        let canvas_size = canvas_content.portal_size_percent; // 100%, 66%, 33%, 50%, 0%
        let fit_margins = canvas_content.portal_margins; // true || false

        // Track that we are using portals
        canvas_content.portal = true;

        // Always show margins if it is Double Portal or the margins have been overrided
        if (portal_size || canvas_content.portal_override_margins) {
          fit_margins = true;
        }
        // Ignore margins if the image is 100 of the screen
        if (canvas_content.portal_size_percent == 100) {
          fit_margins = false;
        }
        // Max 100%
        canvas_size = Math.min(100, canvas_size);
        // Minimum 0%
        canvas_size = Math.max(0, canvas_size);
        // Convert to a percent of canvas
        let canvas_percent = canvas_size / 100;

        // Portal top left corner
        let pos_x = 0;
        let pos_y = 0;

        // Portal size
        let content_width = canvas.width; // Set to 100%
        let content_height = canvas.height; // Set to 100%

        // Portal height -- Vertical aligned
        if (canvas_side == "top" || canvas_side == "bottom") {
          content_height =
            canvas.height * canvas_percent -
            canvas_content.margin * fit_margins;
          pos_y = canvas_content.margin * fit_margins;
          // Remove bottom margins too
          if (canvas_content.portal_size_percent >= 100) {
            content_height =
              canvas.height * canvas_percent -
              canvas_content.margin * (fit_margins * 2);
          }
        }
        //Portal position
        if (canvas_side == "bottom") {
          pos_y =
            canvas.height -
            content_height -
            canvas_content.margin * fit_margins;
        }

        // Portal width -- Horizontal aligned
        if (canvas_side == "left" || canvas_side == "right") {
          content_width = canvas.width * canvas_percent;
          content_height =
            content_height - canvas_content.margin * 2 * fit_margins;
          pos_y = pos_y + canvas_content.margin * fit_margins;
        }

        //Portal position
        if (canvas_side == "right") {
          pos_x = canvas.width - content_width;
        }

        // Store portal count and side
        canvas_content.portal_count = 1;
        // Store portal total RECT size
        canvas_content.portal_width = canvas.width * canvas_percent;
        canvas_content.portal_height = canvas.height * canvas_percent;
        // Store portal TOP LEFT Corner
        canvas_content.portal_x = 0;
        canvas_content.portal_y = 0;
        if (canvas_side == "right") {
          canvas_content.portal_x = canvas.width - canvas_content.portal_width;
        }
        if (canvas_side == "bottom") {
          canvas_content.portal_y =
            canvas.height - canvas_content.portal_height;
        }

        // If we are using TWO portals
        if (portal_size) {
          // Two Portals
          canvas_content.portal_count = 2;
          // Default left aligned large PORTAL
          let portal_width = content_width * 0.65; // 65%

          // Small portal
          if (portal_size == "small") {
            portal_width = content_width * 0.35; // 35%
          }

          // If portal is on the right side
          if (portal_side == "right") {
            pos_x = pos_x + content_width - portal_width;
          } else {
            // Portal divider position is the RIGHT SIDE of the LEFT PORTAL
            canvas_content.portal_divider_x = pos_x + portal_width;
            canvas_content.portal_divider_y = pos_y;
            canvas_content.portal_divider_height = content_height;
          }

          content_width = portal_width;
        }

        return {
          x: pos_x,
          y: pos_y,
          width: content_width,
          height: content_height,
        };
      }

      // Merge S&P Global and S&P Dow
      function merge_spglobal_and_dow_strings(words) {
        const mergedWords = [];
        let i = 0;

        while (i < words.length) {
          if (
            words[i] === "S&P" &&
            (words[i + 1] === "Global" || words[i + 1] === "Dow")
          ) {
            mergedWords.push(words[i] + " " + words[i + 1]);
            i += 2;
          } else {
            mergedWords.push(words[i]);
            i++;
          }
        }

        return mergedWords;
      }

      // Replace footnotes and quotations
      function replace_footnotes_and_quotations(string) {
        // Replace single quotes with single quotation marks
        var modifiedString = string.replace(/'/g, "\u2019");
        // Replace double footnotes with left and right quotations
        modifiedString = modifiedString.replace(/"([^"]+)"/g, "“$1”");
        return modifiedString;
      }

      // Draw CTA Button
      function add_to_canvas_cta_button(
        text,
        fontSize,
        fontWeight,
        backgroundColor,
        padding,
        x,
        y,
        render = true
      ) {
        if (text == "") {
          return { x: x, y: y, width: 0, height: 0 };
        }

        ctx.save();

        fontFamily = "Akkurat LL";
        fontColor = canvas_content.color_font;

        // Set font style
        var font = fontWeight + " " + fontSize + "px " + fontFamily;
        ctx.font = font;

        // Calculate text dimensions
        var textMetrics = ctx.measureText(text);
        var textHeight = fontSize;
        var textWidth = textMetrics.width;

        // Set icon dimensions
        var iconHeight = 0.7 * fontSize;
        var iconWidth = iconHeight; // For right angle chevron, height = width

        // Set padding
        var hPadding = padding;
        var vPadding = padding;

        if (backgroundColor == "none") {
          hPadding = 0;
          vPadding = 0;
        }

        // Draw background
        ctx.fillStyle = canvas_content.color_font;
        ctx.strokeStyle = canvas_content.color_font;

        let rectangle_width = textWidth + 2 * hPadding;
        let rectangle_height = textHeight + 2 * vPadding;

        if (render) {
          if (backgroundColor != "none") {
            ctx.beginPath();
            if (backgroundColor === "outline") {
              ctx.rect(x, y, rectangle_width, rectangle_height);
              ctx.stroke();
            } else {
              ctx.rect(x, y, rectangle_width, rectangle_height);
              ctx.fill();

              // Font color setting the inverse
              fontColor =
                canvas_content.color_font == spglobal_colors.black
                  ? spglobal_colors.white
                  : spglobal_colors.black;

              // Red is a special exemption
              if (canvas_content.background_color == spglobal_colors.red) {
                if (canvas_content.portal_size_percent < 100) {
                  fontColor = spglobal_colors.red;
                }
              }
            }

            ctx.closePath();
          }

          // Draw text
          ctx.fillStyle = fontColor;
          ctx.textBaseline = "top"; // Vertically align text to top
          ctx.fillText(text, x + hPadding, y + vPadding + fontSize * 0.1); // 0.1 Centers the text more
          ctx.textBaseline = "alphabetic"; // Set back to default text vertical alignment

          ctx.restore();
        }

        return {
          x: x,
          y: y,
          width: rectangle_width,
          height: rectangle_height,
        };
      }

      function get_canvas_type() {
        // Get ratio of canvas
        const shortestCanvasSide = Math.min(canvas.width, canvas.height);
        canvas_content.orientation = "horizontal";
        // Vertical Canvas
        if (shortestCanvasSide == canvas.width) {
          canvas_content.orientation = "vertical";
          // Square Canvas
          if (canvas.width == canvas.height) {
            canvas_content.orientation = "square";
          }
        }
      }

      // Clear canvas
      function clear_canvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }

      // Set the background color
      function render_background(color = "#ffffff", opacity = 1) {
        // Opacity ranges from 0.0 — 1.0
        const width = canvas.width;
        const height = canvas.height;

        ctx.globalAlpha = opacity;
        ctx.fillStyle = color;
        ctx.fillRect(0, 0, width, height);
        ctx.globalAlpha = 1; // Reset the globalAlpha to 1 after drawing
      }

      // Draw portal line
      function draw_divider(pos_x, pos_y, height) {
        let width = Math.max(4, canvas.width * 0.004);
        // Default is bwhite
        let fill_color = "#ffffff";
        if (canvas_content.background_color == spglobal_colors.black) {
          fill_color = "#000000";
        }
        ctx.fillStyle = fill_color;
        ctx.fillRect(pos_x - width * 0.5, pos_y, width, height);
      }

      // ------------
      // Portal Image Focal Point Setter
      function create_image_preview_with_focal_point(image, img_number) {
        const insideToolsContainer = document.querySelector(
          ".inside_tools_container"
        );

        // Find portal canvas
        let portal_canvas_id = "portal_" + img_number;
        let portal_canvas = document.getElementById(portal_canvas_id);
        let portal_exists = true;

        // Create one if it doesnt exist
        if (!portal_canvas) {
          portal_exists = false;

          // Add
          portal_canvas = document.createElement("canvas");
          portal_canvas.id = portal_canvas_id;
          portal_canvas.classList.add("focal_point_canvas");
        }

        let n = img_number;
        // Update portal canvas
        let portal_ctx = portal_canvas.getContext("2d");

        function draw_focal_point() {
          portal_ctx.beginPath();
          // Draw circle
          portal_ctx.arc(
            canvas_content.portal_focal_point[n].x,
            canvas_content.portal_focal_point[n].y,
            canvas_content.portal_focal_point[n].size / 2,
            0,
            2 * Math.PI
          );
          portal_ctx.fillStyle = canvas_content.portal_focal_point[n].dragging
            ? "rgba(44, 146, 229, 0.8)"
            : "rgba(44, 146, 229, 0.5)";
          portal_ctx.fill();
          portal_ctx.beginPath();
          portal_ctx.arc(
            canvas_content.portal_focal_point[n].x,
            canvas_content.portal_focal_point[n].y,
            canvas_content.portal_focal_point[n].size / 8,
            0,
            2 * Math.PI
          );
          portal_ctx.fillStyle = "rgba(255, 255, 255, 1.0)";
          portal_ctx.fill();
        }

        function draw_image_and_focal_point() {
          portal_ctx.fillStyle = "#E7F0F5"; // Canvas color
          portal_ctx.fillRect(0, 0, portal_canvas.width, portal_canvas.height);

          const scaleFactor = Math.min(
            portal_canvas.width / img.width,
            portal_canvas.height / img.height
          );
          const width = img.width * scaleFactor;
          const height = img.height * scaleFactor;

          portal_ctx.drawImage(
            img,
            (portal_canvas.width - width) / 2,
            (portal_canvas.height - height) / 2,
            width,
            height
          );
          draw_focal_point();
        }

        const img = new Image();
        img.src = image.src;
        img.onload = function () {
          portal_canvas.width = insideToolsContainer.clientWidth;
          portal_canvas.height = portal_canvas.width * 0.66;

          // Reset image
          if (resetFocalPoint[n]) {
            // Reset focal point to center
            canvas_content.portal_focal_point[n].x = portal_canvas.width / 2;
            canvas_content.portal_focal_point[n].y = portal_canvas.height / 2;
            canvas_content.portal_focal_point[n].relative_x = 0.5;
            canvas_content.portal_focal_point[n].relative_y = 0.5;
            resetFocalPoint[n] = false;

            // Reset mirror image
            canvas_content.portal_image_flip[n] = false;

            // Reset scale
            canvas_content.portal_image_scale[n] = 0;
            let slider_range = document.getElementsByName(
              "image_scale_" + n
            )[0];
            if (slider_range) {
              slider_range.value = 0;
            }
          }

          // Clear the canvas
          portal_ctx.clearRect(0, 0, portal_canvas.width, portal_canvas.height);

          // Draw image & focal point
          draw_image_and_focal_point();

          // Update canvas
          update_canvas();
        };

        // Focal point position
        portal_canvas.addEventListener("mousedown", (event) => {
          calculate_focal_point_within_image_boundary();
        });

        portal_canvas.addEventListener("mousemove", (event) => {
          if (canvas_content.portal_focal_point[n].dragging) {
            calculate_focal_point_within_image_boundary();
          }
        });

        function calculate_focal_point_within_image_boundary() {
          const rect = portal_canvas.getBoundingClientRect();

          // Move focal point to mouse but constrain inside the image
          const x = event.clientX - rect.left;
          const y = event.clientY - rect.top;

          const scaleFactor = Math.min(
            portal_canvas.width / img.width,
            portal_canvas.height / img.height
          );
          const width = img.width * scaleFactor;
          const height = img.height * scaleFactor;
          const imgX = (portal_canvas.width - width) / 2;
          const imgY = (portal_canvas.height - height) / 2;

          canvas_content.portal_focal_point[n].x = Math.max(
            imgX,
            Math.min(x, imgX + width)
          );
          canvas_content.portal_focal_point[n].y = Math.max(
            imgY,
            Math.min(y, imgY + height)
          );

          draw_image_and_focal_point();
          canvas_content.portal_focal_point[n].dragging = true;
        }

        // Relative focal points
        portal_canvas.addEventListener("mouseup", () => {
          caclulate_relative_focal_point();
        });

        // End dragging if mouse is released outside the canvas
        document.addEventListener("mouseup", () => {
          caclulate_relative_focal_point();
        });

        function caclulate_relative_focal_point() {
          if (canvas_content.portal_focal_point[n].dragging) {
            canvas_content.portal_focal_point[n].dragging = false;
            draw_image_and_focal_point();

            // Calculate the relative position of the focal point within the image
            const scaleFactor = Math.min(
              portal_canvas.width / img.width,
              portal_canvas.height / img.height
            );
            const width = img.width * scaleFactor;
            const height = img.height * scaleFactor;
            const imgX = (portal_canvas.width - width) / 2;
            const imgY = (portal_canvas.height - height) / 2;

            const focal_point_size =
              canvas_content.portal_focal_point[n].size / 2;

            const relativeX =
              (canvas_content.portal_focal_point[n].x - imgX) / width;
            const relativeY =
              (canvas_content.portal_focal_point[n].y - imgY) / height;

            canvas_content.portal_focal_point[n].relative_x = relativeX;
            canvas_content.portal_focal_point[n].relative_y = relativeY;

            // Update canvas
            update_canvas();
          }
        }

        if (!portal_exists) {
          // Add to canvas
          insideToolsContainer.appendChild(portal_canvas);
        }
      }

      // Remove line breaks
      function remove_new_lines_and_return_lines(str, remove = true) {
        if (remove) {
          return str.replace(/[\n\r]/g, " ").replace(/\s+/g, " "); // Remove new lines && consecutive spaces
        }
        return str;
      }

      // Remove line breaks
      function clear_formatting(str) {
        function capitalize_after_period(str) {
          return str.replace(/\.(\s+)?(\w)/g, (match, space, letter) => {
            return `.${space || ""}${letter.toUpperCase()}`;
          });
        }

        str = remove_new_lines_and_return_lines(str); // Remove new lines
        str = str.replace(/\s+/g, " "); // Remove double spaces
        return capitalize_after_period(str);
      }

      // Add text to canvas
      function add_text_to_canvas(
        text,
        position_x,
        position_y,
        rectWidth,
        rectHeight,
        fontSize,
        fontColor,
        letterSpacing,
        defaultLineHeight,
        fontWeight,
        renderText
      ) {
        // Get the width of the text
        function get_text_width(text, fontSize, letterSpacing) {
          // Start the width as 0
          let width = 0;
          ctx.font = `${fontWeight} ${fontSize}px Akkurat LL`;
          // Measure all the words combined with spaces
          for (let i = 0; i < text.length; i++) {
            width += ctx.measureText(text[i]).width + letterSpacing;
          }
          return width;
        }

        // Check if ONE word is wider than the container, and if custom string is wider than the container
        function check_if_any_word_exceeds_rect_width(words, customString) {
          return (
            words.some(
              (word) =>
                get_text_width(word, fontSize, letterSpacing) > rectWidth
            ) ||
            get_text_width(customString, fontSize, letterSpacing) > rectWidth
          );
        }

        function calculate_line_height(fontSize) {
          // set the minimum and maximum font sizes and line height values
          const minFontSize = 16;
          const maxFontSize = 48;
          const minLineHeight = defaultLineHeight;
          const maxLineHeight = defaultLineHeight * 1.095;

          // calculate the line height using linear interpolation
          let lineHeight =
            ((maxLineHeight - minLineHeight) * (maxFontSize - fontSize)) /
              (maxFontSize - minFontSize) +
            minLineHeight;

          // enforce the minimum and maximum line height values
          lineHeight = Math.max(minLineHeight, lineHeight);
          lineHeight = Math.min(maxLineHeight, lineHeight);

          // return the line height with two decimal places
          return lineHeight; //.toFixed(2);
        }

        function fit_text(customString = "") {
          let lines = [];

          //let words = text.split(" ");
          let words = text.split(/( |\n|\r)/);
          words = merge_spglobal_and_dow_strings(text.split(/( |\n|\r)/)); // Merges "S&P Global" into one word when found in text

          lineHeight = calculate_line_height(fontSize);

          // If ONE word is wider than the container (with custom string) shrink the font size until it fits
          while (check_if_any_word_exceeds_rect_width(words, customString)) {
            fontSize -= 1;
          }

          // Set a universal minimum font size
          fontSize = Math.max(minimum_font_size, fontSize);

          // First word in current line
          let currentLine = words[0];
          for (let i = 1; i < words.length; i++) {
            const word = words[i];
            if (word === "\n" || word === "\r") {
              lines.push(currentLine);
              currentLine = "";
            } else if (word === " ") {
              currentLine += word;
            } else {
              const newLine = currentLine + word;
              if (
                get_text_width(newLine, fontSize, letterSpacing) <= rectWidth
              ) {
                currentLine = newLine;
              } else {
                lines.push(currentLine);
                currentLine = word;
              }
            }
          }

          // Create an array where the lines are sorted by whether they fit horizontally in the available space. Text wrap.
          lines.push(currentLine);
          // Check if the resulting lines fit in the container vertically, if not make the font smaller and recursively start the process again.
          // Unless the font already is the minimum font size
          if (
            lines.length * fontSize * lineHeight > rectHeight &&
            fontSize != minimum_font_size
          ) {
            fontSize -= 1;
            return fit_text(customString);
          }
          return lines;
        }

        function draw_text_with_superscript(text, x, y) {
          const specialChars = ["™", "®", "©"];
          const originalFontSize = parseInt(ctx.font.match(/\d+/)[0]);
          const superscriptFontSize = Math.floor(originalFontSize * 0.6);
          const superscriptYOffset = -Math.floor(originalFontSize * 0.3);
          const spacingFactor = 0.6; // Adjust this value to change the spacing after special characters

          let currentPositionX = x;
          for (let i = 0; i < text.length; i++) {
            let char = text.charAt(i);
            let isSpecialChar = specialChars.includes(char);

            if (isSpecialChar) {
              ctx.font = ctx.font.replace(/\d+/, superscriptFontSize);
              ctx.fillText(char, currentPositionX, y + superscriptYOffset);
              ctx.font = ctx.font.replace(/\d+/, originalFontSize);
              currentPositionX += ctx.measureText(char).width * spacingFactor; // Apply the spacing factor
            } else {
              ctx.fillText(char, currentPositionX, y);
              currentPositionX += ctx.measureText(char).width;
            }
          }
        }

        const original_text = text;

        // Text processing
        // Clean up input text -- Remove multiple new lines and replace return lines with new lines
        text = remove_duplicate_new_lines(text);
        text = replace_footnotes_and_quotations(text); // Fix footnotes and quotations

        // Fit text in the available text space
        let fit_textInArea = fit_text(
          canvas_content.text_container_minimum_character_width
        );

        // Remove unwanted text new lines -- Sometimes the text breaks onto a new line then it registers the new line
        let removeEmptyTextLines = remove_added_empty_lines(
          text,
          fit_textInArea
        );
        let cleanedUpLineBreaks = add_new_lines_and_remove_duplicates(
          text,
          removeEmptyTextLines
        );

        let textForRendering = cleanedUpLineBreaks;

        // CANVAS RENDERING
        // Snap down fonts above 24px (24, 28, 32)
        if (fontSize > 24) {
          fontSize = Math.floor(fontSize / 4) * 4;
        }

        // Get text area size
        var text_width_max = 1;
        for (var i = 0; i < textForRendering.length; i++) {
          var calculate_width = get_text_width(
            textForRendering[i],
            fontSize,
            letterSpacing
          );
          if (calculate_width > text_width_max) {
            text_width_max = calculate_width;
          }
        }
        let textWidth = text_width_max;
        // Render nothing if there is no text
        let textHeight =
          text == "" ? 0 : textForRendering.length * fontSize * lineHeight;

        // Align text vertically to bottom -- If setting is on
        let snap_y = 0;
        if (canvas_content.text_bottom_aligned) {
          snap_y = rectHeight - textHeight;
        }

        // Render font
        ctx.fillStyle = fontColor;
        ctx.font = `${fontWeight} ${fontSize}px Akkurat LL`;

        let offset_y = 0.75; // First line has too much padding
        var widow_result = false;
        var isSingleWord = false;

        for (let i = 0; i < textForRendering.length; i++) {
          const line = textForRendering[i];
          let calculated_position_y =
            snap_y +
            position_y +
            i * fontSize * lineHeight +
            fontSize * offset_y;

          // Check if the last line is a widow (contains no whitespace)
          if (i === textForRendering.length - 1 && !/\s/.test(line)) {
            widow_result = true;
          }

          // Add superscript, trademark and copywriting
          if (renderText) {
            draw_text_with_superscript(line, position_x, calculated_position_y);
          }
        }

        // Count special characters (\r and \n)
        const special_characters_count =
          (text.match(/\r/g) || []).length + (text.match(/\n/g) || []).length;

        // Return results
        return {
          font_size: fontSize,
          x: position_x,
          y: position_y,
          width: textWidth,
          height: textHeight,
          text: original_text,
          widow: widow_result,
          special_characters: special_characters_count,
        };
      }

      // Remove empty strings
      function remove_added_empty_lines(originalString, modifiedArray) {
        const result = [];
        const originalLines = originalString.split(/\r?\n/);

        let originalLineIndex = 0;
        let originalLine = originalLines[originalLineIndex];
        let originalLinePos = 0;

        for (let i = 0; i < modifiedArray.length; i++) {
          const modifiedLine = modifiedArray[i];

          if (modifiedLine === "") {
            // Check if the original string has a newline character at the current position
            if (originalLinePos === originalLine.length) {
              // Newline found in the original string, keep the empty line in the result
              result.push(modifiedLine);

              // Move to the next line in the original string
              originalLineIndex++;
              originalLine = originalLines[originalLineIndex];
              originalLinePos = 0;
            }
            // If no newline found in the original string, ignore the empty line in the modified array
          } else {
            // Add the non-empty line to the result array
            result.push(modifiedLine);

            // Update the position in the original line
            originalLinePos += modifiedLine.length;
          }
        }

        return result;
      }

      function add_new_lines_and_remove_duplicates(inputString, inputArray) {
        let outputArray = [];
        let stringIndex = 0;

        for (let i = 0; i < inputArray.length; i++) {
          let currentWord = inputArray[i];

          // Check for two or more new line characters before the current word
          let newLineCount = 0;
          while (
            stringIndex < inputString.length &&
            inputString[stringIndex] === "\n"
          ) {
            newLineCount++;
            stringIndex++;
          }

          // Add an empty string to the output array if two or more new line characters were found
          if (newLineCount >= 2) {
            outputArray.push("");
          }

          // Add the current word to the output array and update the string index
          outputArray.push(currentWord.trim());
          stringIndex += currentWord.length;
        }

        // Merge consecutive blank strings in the output array
        let mergedOutputArray = [];
        for (let i = 0; i < outputArray.length; i++) {
          if (
            outputArray[i] === "" &&
            mergedOutputArray[mergedOutputArray.length - 1] !== ""
          ) {
            mergedOutputArray.push("");
          } else if (outputArray[i] !== "") {
            mergedOutputArray.push(outputArray[i]);
          }
        }

        return mergedOutputArray;
      }

      function remove_duplicate_new_lines(inputString) {
        // Replace all \r with \n
        let stringWithReplacedLines = inputString.replace(/\r/g, "\n");

        // Replace any consecutive new lines above 3 instances with 2 instances
        let outputString = stringWithReplacedLines.replace(/(\n){3,}/g, "\n\n");

        return outputString;
      }

      function escape_reg_exp(string) {
        return string.replace(/[.*+\-?^${}()|[\]\\]/g, "\\$&");
      }

      function capitalize_first_letter_of_sentence(match) {
        return match.charAt(0).toUpperCase() + match.slice(1);
      }

      function replace_with_capitalized(string, capitalizationArray) {
        // Add an additional space before string to prevent a bug where the first word is not capitalized
        const lowercaseString = " " + string.toLowerCase();

        // Capitalize the first letter of the first word in every sentence
        let modifiedString = lowercaseString.replace(
          /(^\w)|(\.\s*\w)/g,
          capitalize_first_letter_of_sentence
        );

        // Sort capitalizationArray in descending order of length
        const sortedCapitalizationArray = capitalizationArray
          .slice()
          .sort((a, b) => b.length - a.length);

        sortedCapitalizationArray.forEach((element) => {
          const lowercaseElement = element.toLowerCase();
          const escapedLowercaseElement = escape_reg_exp(lowercaseElement);
          const regex = new RegExp(
            "(?<=^|\\s|[^\\w])" +
              escapedLowercaseElement.split(" ").join("\\s+") +
              "(?=$|\\s|[^\\w])",
            "g"
          );
          modifiedString = modifiedString.replace(regex, element);
        });
        // Remove the additional space
        return modifiedString.slice(1);
      }

      function capitalize_after_period(text) {
        // Step 2: Split the input string into sentences using the period as the delimiter
        const sentences = text.split(". ");

        // Step 3: Iterate through each sentence, capitalize the first letter, and then add it back to the original string
        const capitalizedSentences = sentences.map((sentence) => {
          return sentence.charAt(0).toUpperCase() + sentence.slice(1);
        });

        // Step 4: Combine the sentences back into a single string, adding a period and a space between them
        const result = capitalizedSentences.join(". ");

        return result;
      }

      // SLider
      function create_range_slider(incrementCount, initial_value = 0, name) {
        const container = document.querySelector(".inside_tools_container");
        const sliderWrapper = document.createElement("div");
        const slider = document.createElement("input");
        const stepSize = 100 / (incrementCount - 1);

        sliderWrapper.classList.add("range-slider");
        slider.type = "range";
        slider.min = "0";
        slider.max = "100.1";
        slider.step = stepSize;
        slider.value = initial_value * stepSize;
        slider.name = name;

        slider.addEventListener("mouseup", (event) => {
          const value = parseFloat(event.target.value);
          const incrementPosition = Math.round(value / stepSize);
          report_slider_value(event.target, incrementPosition);
        });

        sliderWrapper.appendChild(slider);
        container.appendChild(sliderWrapper);
      }

      function report_slider_value(slider, incrementPosition) {
        if (slider.name.includes("image_scale")) {
          let i = parseInt(slider.name.replace("image_scale_", ""));
          canvas_content.portal_image_scale[i] = incrementPosition;
          document.getElementById("zoom-scale-label").innerText =
            zoom_label_generate(incrementPosition);
        }

        if (slider.name.includes("portal_size_slider")) {
          canvas_content.portal_size_percent =
            canvas_content.portal_size_values[incrementPosition];
          canvas_content.portal_size_slider = incrementPosition;
          // Clear portal downscaled image
          temp_portal_downscaled_image = [null, null];
          update_toolbox_panel("layout_button");
        }

        // Clear portal downscaled image
        temp_portal_downscaled_image[i] = null;

        // Update canvas
        update_canvas();
      }

      //---------------- IMAGE DOWNSCALING -----------------//
      // scales the image by (float) scale < 1
      // returns a canvas containing the scaled image.
      function high_resolution_image_downscale(img, scale, img_number) {
        var image_canvas = document.createElement("canvas");
        // Offsets added to prevent images from having pixels cut off
        image_canvas.width = img.width;
        image_canvas.height = img.height;

        // Set background color
        var image_canvas_context = image_canvas.getContext("2d");
        image_canvas_context.fillStyle = canvas_content.background_color;
        image_canvas_context.fillRect(
          0,
          0,
          image_canvas.width,
          image_canvas.height
        );

        image_canvas_context.drawImage(img, 0, 0);
        // Store downscaled image
        temp_portal_downscaled_image[img_number] = reduce_canvas_size(
          image_canvas,
          scale
        );
        return temp_portal_downscaled_image[img_number];
      }

      // scales the canvas by (float) scale < 1
      // returns a new canvas containing the scaled image.
      function reduce_canvas_size(cv, scale) {
        if (!(scale < 1) || !(scale > 0))
          throw "scale must be a positive number <1 ";
        var sqScale = scale * scale; // square scale = area of source pixel within target
        var sw = cv.width; // source image width
        var sh = cv.height; // source image height
        var tw = Math.floor(sw * scale); // target image width
        var th = Math.floor(sh * scale); // target image height
        var sx = 0,
          sy = 0,
          sIndex = 0; // source x,y, index within source array
        var tx = 0,
          ty = 0,
          yIndex = 0,
          tIndex = 0; // target x,y, x,y index within target array
        var tX = 0,
          tY = 0; // rounded tx, ty
        var w = 0,
          nw = 0,
          wx = 0,
          nwx = 0,
          wy = 0,
          nwy = 0; // weight / next weight x / y
        // weight is weight of current source point within target.
        // next weight is weight of current source point within next target's point.
        var crossX = false; // does scaled px cross its current px right border ?
        var crossY = false; // does scaled px cross its current px bottom border ?
        var sBuffer = cv.getContext("2d").getImageData(0, 0, sw, sh).data; // source buffer 8 bit rgba
        var tBuffer = new Float32Array(3 * tw * th); // target buffer Float32 rgb
        var sR = 0,
          sG = 0,
          sB = 0; // source's current point r,g,b
        /* untested !
            var sA = 0;  //source alpha  */

        for (sy = 0; sy < sh; sy++) {
          ty = sy * scale; // y src position within target
          tY = 0 | ty; // rounded : target pixel's y
          yIndex = 3 * tY * tw; // line index within target array
          crossY = tY != (0 | (ty + scale));
          if (crossY) {
            // if pixel is crossing botton target pixel
            wy = tY + 1 - ty; // weight of point within target pixel
            nwy = ty + scale - tY - 1; // ... within y+1 target pixel
          }
          for (sx = 0; sx < sw; sx++, sIndex += 4) {
            tx = sx * scale; // x src position within target
            tX = 0 | tx; // rounded : target pixel's x
            tIndex = yIndex + tX * 3; // target pixel index within target array
            crossX = tX != (0 | (tx + scale));
            if (crossX) {
              // if pixel is crossing target pixel's right
              wx = tX + 1 - tx; // weight of point within target pixel
              nwx = tx + scale - tX - 1; // ... within x+1 target pixel
            }
            sR = sBuffer[sIndex]; // retrieving r,g,b for curr src px.
            sG = sBuffer[sIndex + 1];
            sB = sBuffer[sIndex + 2];

            // Handling alpha

            sA = sBuffer[sIndex + 3];
            if (!sA) continue;
            if (sA != 0xff) {
              sR = (sR * sA) >> 8; // or use /256 instead ??
              sG = (sG * sA) >> 8;
              sB = (sB * sA) >> 8;
            }

            /* !! untested : handling alpha !!
                       sA = sBuffer[sIndex + 3];
                       if (!sA) continue;
                       if (sA != 0xFF) {
                           sR = (sR * sA) >> 8;  // or use /256 instead ??
                           sG = (sG * sA) >> 8;
                           sB = (sB * sA) >> 8;
                       }
                    */

            if (!crossX && !crossY) {
              // pixel does not cross
              // just add components weighted by squared scale.
              tBuffer[tIndex] += sR * sqScale;
              tBuffer[tIndex + 1] += sG * sqScale;
              tBuffer[tIndex + 2] += sB * sqScale;
            } else if (crossX && !crossY) {
              // cross on X only
              w = wx * scale;
              // add weighted component for current px
              tBuffer[tIndex] += sR * w;
              tBuffer[tIndex + 1] += sG * w;
              tBuffer[tIndex + 2] += sB * w;
              // add weighted component for next (tX+1) px
              nw = nwx * scale;
              tBuffer[tIndex + 3] += sR * nw;
              tBuffer[tIndex + 4] += sG * nw;
              tBuffer[tIndex + 5] += sB * nw;
            } else if (crossY && !crossX) {
              // cross on Y only
              w = wy * scale;
              // add weighted component for current px
              tBuffer[tIndex] += sR * w;
              tBuffer[tIndex + 1] += sG * w;
              tBuffer[tIndex + 2] += sB * w;
              // add weighted component for next (tY+1) px
              nw = nwy * scale;
              tBuffer[tIndex + 3 * tw] += sR * nw;
              tBuffer[tIndex + 3 * tw + 1] += sG * nw;
              tBuffer[tIndex + 3 * tw + 2] += sB * nw;
            } else {
              // crosses both x and y : four target points involved
              // add weighted component for current px
              w = wx * wy;
              tBuffer[tIndex] += sR * w;
              tBuffer[tIndex + 1] += sG * w;
              tBuffer[tIndex + 2] += sB * w;
              // for tX + 1; tY px
              nw = nwx * wy;
              tBuffer[tIndex + 3] += sR * nw;
              tBuffer[tIndex + 4] += sG * nw;
              tBuffer[tIndex + 5] += sB * nw;
              // for tX ; tY + 1 px
              nw = wx * nwy;
              tBuffer[tIndex + 3 * tw] += sR * nw;
              tBuffer[tIndex + 3 * tw + 1] += sG * nw;
              tBuffer[tIndex + 3 * tw + 2] += sB * nw;
              // for tX + 1 ; tY +1 px
              nw = nwx * nwy;
              tBuffer[tIndex + 3 * tw + 3] += sR * nw;
              tBuffer[tIndex + 3 * tw + 4] += sG * nw;
              tBuffer[tIndex + 3 * tw + 5] += sB * nw;
            }
          } // end for sx
        } // end for sy

        // create result canvas
        var resCV = document.createElement("canvas");
        resCV.width = tw;
        resCV.height = th;
        var resCtx = resCV.getContext("2d");
        var imgRes = resCtx.getImageData(0, 0, tw, th);
        var tByteBuffer = imgRes.data;
        // convert float32 array into a UInt8Clamped Array
        var pxIndex = 0; //
        for (
          sIndex = 0, tIndex = 0;
          pxIndex < tw * th;
          sIndex += 3, tIndex += 4, pxIndex++
        ) {
          tByteBuffer[tIndex] = Math.ceil(tBuffer[sIndex]);
          tByteBuffer[tIndex + 1] = Math.ceil(tBuffer[sIndex + 1]);
          tByteBuffer[tIndex + 2] = Math.ceil(tBuffer[sIndex + 2]);
          tByteBuffer[tIndex + 3] = 255;
        }
        // writing result to canvas.
        resCtx.putImageData(imgRes, 0, 0);
        return resCV;
      }

      function showLoadingBar() {
        // Create loading bar element
        const loadingBar = document.createElement("div");
        loadingBar.style.position = "fixed";
        loadingBar.style.top = "0";
        loadingBar.style.left = "0";
        loadingBar.style.height = "8px";
        loadingBar.style.width = "100%";
        loadingBar.style.background = "#ccc";

        // Create progress bar element
        const progressBar = document.createElement("div");
        progressBar.style.height = "100%";
        progressBar.style.width = "0%";
        progressBar.style.background = "#4390df";

        // Add progress bar to loading bar
        loadingBar.appendChild(progressBar);

        // Add loading bar to body
        document.body.appendChild(loadingBar);

        // Loading bar animation
        let loadProgress = 0;
        let loadingInterval;

        function updateProgress() {
          loadProgress += 10;
          progressBar.style.width = `${loadProgress}%`;
          if (loadProgress >= 100) {
            loadProgress = 0;
            //clearInterval(loadingInterval);
          }
        }

        loadingInterval = setInterval(updateProgress, 200);

        // Assign stop function to global variable
        image_stop_loading_animation = () => {
          clearInterval(loadingInterval);
        };

        return {
          loadingBar,
          progressBar,
        };
      }

      /* Check if running chrome */
      function isChromeBrowser() {
        const isChrome =
          /Chrome/.test(navigator.userAgent) &&
          /Google Inc/.test(navigator.vendor);
        return isChrome;
      }

      if (!isChromeBrowser()) {
        const messageContainer = document.createElement("div");
        messageContainer.style.fontFamily = "sans-serif";
        messageContainer.style.display = "flex";
        messageContainer.style.justifyContent = "center";
        messageContainer.style.alignItems = "center";
        messageContainer.style.height = "100vh";
        messageContainer.style.margin = "0";

        const message = document.createElement("div");
        message.style.textAlign = "center";

        const messageText = document.createElement("p");
        messageText.textContent =
          "Sorry! This application will only work in the Chrome browser. Please download and use the latest version.";
        message.appendChild(messageText);

        const downloadButton = document.createElement("a");
        downloadButton.href = "https://www.google.com/chrome/";
        downloadButton.textContent = "Download Chrome";
        downloadButton.style.display = "inline-block";
        downloadButton.style.marginTop = "20px";
        downloadButton.style.padding = "10px 20px";
        downloadButton.style.backgroundColor = "#4390df";
        downloadButton.style.color = "white";
        downloadButton.style.textDecoration = "none";
        downloadButton.style.border = "none";
        downloadButton.style.borderRadius = "5px";

        message.appendChild(downloadButton);
        messageContainer.appendChild(message);
        document.body.innerHTML = "";
        document.body.appendChild(messageContainer);
      }
    </script>

    <!-- Baked SVGs -->
    <div id="svg-container">
      <!-- Corporate -->
      <svg
        id="spg_corporate"
        xmlns="http://www.w3.org/2000/svg"
        width="163.787"
        height="35.446"
        viewBox="0 0 163.787 35.446"
      >
        <path
          id="Wordmark"
          d="M65.924,86.532a6.734,6.734,0,0,1-1.936,4.856,10.005,10.005,0,0,1-6.958,2.489,10.405,10.405,0,0,1-7.348-2.391,7.36,7.36,0,0,1-2.428-5.414h4.331A4.086,4.086,0,0,0,52.8,88.928,5.482,5.482,0,0,0,56.8,90.174a5.449,5.449,0,0,0,3.935-1.246c1.052-1.138,1.4-3.152.017-4.2-1.447-1.092-3.513-1.018-5.232-1.181a10.277,10.277,0,0,1-5.127-1.54,6.114,6.114,0,0,1-2.51-4.35,6.566,6.566,0,0,1,1.991-5.432,9.574,9.574,0,0,1,6.531-2.457,9.593,9.593,0,0,1,6.791,2.26,7.07,7.07,0,0,1,2.362,4.955H61.232a3.765,3.765,0,0,0-1.017-2.3,5.061,5.061,0,0,0-3.633-1.246A5.063,5.063,0,0,0,52.9,74.72a2.638,2.638,0,0,0,.484,4.153,7.532,7.532,0,0,0,2.641.54c.971.107,1.944.188,2.914.313A8.8,8.8,0,0,1,63.975,81.8,6.427,6.427,0,0,1,65.924,86.532Zm18.319,6.956L82.6,91.651A9.784,9.784,0,0,1,72.332,93.3a6.91,6.91,0,0,1-3.651-8.587,8.645,8.645,0,0,1,3.749-4.084c-1.572-1.663-2.73-3.477-2.448-5.853a5.674,5.674,0,0,1,3.6-4.591,7.649,7.649,0,0,1,6.55.529A5.576,5.576,0,0,1,82.713,76c-.2,2.662-2.213,4.407-4.377,5.675l4.036,4.4a7.326,7.326,0,0,0,.591-2.855c.077-.951.066-1.9.066-2.855h6v3.249H86.343a10.283,10.283,0,0,1-1.411,5.217l4.3,4.659Zm-9.418-10.3c-1.1.671-2.272,1.37-2.636,2.694a3.6,3.6,0,0,0,.843,3.431c1.744,1.783,5.479,1.591,7.109-.252Zm4.069-7.58a2.38,2.38,0,0,0-1.362-2.278,3.019,3.019,0,0,0-2.969.31,2.415,2.415,0,0,0-.733,2.669,7.26,7.26,0,0,0,2.077,2.777C77.325,78.287,78.895,77.452,78.895,75.606ZM109.65,77.64a7.276,7.276,0,0,1-2.319,5.627,8.946,8.946,0,0,1-5.883,1.854H96.526v8.334h-4.2V70.192h9.121a9.035,9.035,0,0,1,5.883,1.841A7.194,7.194,0,0,1,109.65,77.64Zm-4.265.033a3.818,3.818,0,0,0-1.164-2.9,4.381,4.381,0,0,0-2.937-.875H96.526v7.514h4.757a4.42,4.42,0,0,0,2.937-.862A3.763,3.763,0,0,0,105.385,77.673ZM134.49,93.456,134,90.9c-1.153,2.155-3.934,3.041-6.226,2.981a8.938,8.938,0,0,1-6.539-2.587c-2.459-2.547-3.017-6.04-3.019-9.45s.5-6.833,3.019-9.352c3.559-3.559,10.255-3.723,13.814-.066a7.368,7.368,0,0,1,2.133,4.692h-4.331a4.082,4.082,0,0,0-1.017-2.133c-1.806-2.1-5.731-1.787-7.514.164-1.666,1.758-1.814,4.487-1.8,6.773.01,2.245.207,4.994,1.837,6.713a5.3,5.3,0,0,0,7.252.131,6.16,6.16,0,0,0,1.509-4.528h-5.545V80.725h9.647V93.456Zm12.99-.033a6.408,6.408,0,0,1-4.589-.433,4.233,4.233,0,0,1-1.875-3.931V69.732h4.135V88.37a1.574,1.574,0,0,0,.61,1.461,3.568,3.568,0,0,0,1.719.147v3.445Zm17.41-8.5a9.9,9.9,0,0,1-2,6.3,8.037,8.037,0,0,1-11.944,0,10.667,10.667,0,0,1,0-12.6,8.037,8.037,0,0,1,11.944,0A9.9,9.9,0,0,1,164.89,84.925Zm-4.167,0a6.2,6.2,0,0,0-1.214-4.3,3.643,3.643,0,0,0-5.184,0,6.19,6.19,0,0,0-1.214,4.3,6.193,6.193,0,0,0,1.214,4.3,3.642,3.642,0,0,0,5.184,0A6.2,6.2,0,0,0,160.723,84.925Zm23.093.033a9.3,9.3,0,0,1-3.052,7.449c-2.453,2.047-7.074,2.078-8.925-.82l-.263,1.87h-3.543V69.765h4.1V77.64a5.566,5.566,0,0,1,4.083-1.666,6.585,6.585,0,0,1,4.547,1.371Q183.816,79.872,183.816,84.958Zm-4.167-.066a6.687,6.687,0,0,0-1.083-4.134,3.644,3.644,0,0,0-3.46-1.3,3.471,3.471,0,0,0-2.689,2.3,9.246,9.246,0,0,0-.426,4.194,5.39,5.39,0,0,0,1.423,3.6,3.619,3.619,0,0,0,5.152-.492A6.75,6.75,0,0,0,179.649,84.892Zm22.378,8.367c-1.865.815-4.663.584-4.922-1.936-1.516,2.695-5.6,3.138-8.2,1.984a5.193,5.193,0,0,1-2.08-7.959,6.584,6.584,0,0,1,4.7-2.162l5.02-.361v-1.05a2.815,2.815,0,0,0-.785-2.167,3.131,3.131,0,0,0-1.923-.522c-1.609-.039-3.2.613-3.3,2.426h-3.97a5.53,5.53,0,0,1,1.934-4.017A7.6,7.6,0,0,1,192.719,76c2.876-.227,6.187.485,7.339,3.442a9.234,9.234,0,0,1,.493,3.445v6.333c0,.751.489,1.326,1.313,1.05a.363.363,0,0,0,.164-.033Zm-5.48-7.383-4.331.328a2.43,2.43,0,0,0-2.45,2,2.2,2.2,0,0,0,2.078,2.349,4.834,4.834,0,0,0,3.372-.889,3.636,3.636,0,0,0,1.331-3Zm14.493,7.547a6.36,6.36,0,0,1-4.652-.471,4.249,4.249,0,0,1-1.813-3.893V69.732h4.135V88.37a1.574,1.574,0,0,0,.61,1.461,3.57,3.57,0,0,0,1.72.147Z"
          transform="translate(-47.255 -58.643)"
          fill="#d6002a"
        />
        <rect
          id="Bar"
          width="163.787"
          height="4.2"
          transform="translate(-0.001 0)"
        />
      </svg>
      <!-- Ratings -->
      <svg
        id="spg_ratings"
        xmlns="http://www.w3.org/2000/svg"
        width="163.037"
        height="78.161"
        viewBox="0 0 163.037 78.161"
      >
        <path
          id="Name"
          d="M19.563,105.612a6.293,6.293,0,0,1-1.323,4.018,6.444,6.444,0,0,1-3.577,2.3l4.8,10.487H17.554l-4.606-10.046H4.715V122.42H3V98.8h8.625a10.543,10.543,0,0,1,3.43.49,7.662,7.662,0,0,1,2.5,1.372,5.58,5.58,0,0,1,1.519,2.156A7.272,7.272,0,0,1,19.563,105.612Zm-1.764,0a4.755,4.755,0,0,0-1.617-3.871,7.014,7.014,0,0,0-4.557-1.323H4.715v10.34h6.91a7.015,7.015,0,0,0,4.557-1.323A4.654,4.654,0,0,0,17.8,105.612ZM38.332,122.42c-.2.049-.343.049-.392.1h-.392a3.278,3.278,0,0,1-1.274-.245,2.021,2.021,0,0,1-.833-.735,2.377,2.377,0,0,1-.392-1.029,4.972,4.972,0,0,1-.1-1.225,5.538,5.538,0,0,1-.931,1.568,5.348,5.348,0,0,1-1.421,1.127,7.381,7.381,0,0,1-1.715.686,8.513,8.513,0,0,1-1.911.245,6.789,6.789,0,0,1-2.254-.343,5.468,5.468,0,0,1-1.813-1.029,4.433,4.433,0,0,1-1.225-1.617,5.14,5.14,0,0,1-.441-2.156,4.433,4.433,0,0,1,1.568-3.528,7.369,7.369,0,0,1,4.067-1.47L35,112.325v-1.617a3.335,3.335,0,0,0-1.225-2.94,5.272,5.272,0,0,0-3.136-.882,5.921,5.921,0,0,0-3.332.882,3.437,3.437,0,0,0-1.47,2.744H24.072a5.722,5.722,0,0,1,.637-2.254,4.839,4.839,0,0,1,1.372-1.617,6.8,6.8,0,0,1,1.96-1.029,7.907,7.907,0,0,1,2.5-.343,10.579,10.579,0,0,1,1.715.147,5.711,5.711,0,0,1,1.617.539,5.221,5.221,0,0,1,1.372.931,4.443,4.443,0,0,1,.931,1.47,4.291,4.291,0,0,1,.343,1.568c.049.539.049,1.078.049,1.617v7.6a3.128,3.128,0,0,0,.2,1.323,1.1,1.1,0,0,0,1.078.49,1.511,1.511,0,0,0,.49-.049Zm-3.43-8.576-5.978.343a5.136,5.136,0,0,0-2.94,1.029,2.966,2.966,0,0,0-1.078,2.45,3.192,3.192,0,0,0,1.176,2.7,4.813,4.813,0,0,0,2.989.882,5.758,5.758,0,0,0,2.7-.588,5.02,5.02,0,0,0,1.813-1.519,5.638,5.638,0,0,0,1.029-2.107,7.907,7.907,0,0,0,.343-2.4l-.049-.784Zm16.22,8.429c-.49.1-.931.2-1.372.294a6.471,6.471,0,0,1-1.372.1,3.812,3.812,0,0,1-3.332-1.372,5.9,5.9,0,0,1-.98-3.528V107.278H40.733v-1.519h3.332v-4.606l1.666-.392v5h5.145v1.519H45.732v10.438a12.047,12.047,0,0,0,.1,1.372,3.558,3.558,0,0,0,.441,1.078,1.914,1.914,0,0,0,.833.686,3.619,3.619,0,0,0,1.372.245A12.015,12.015,0,0,0,49.8,121c.441-.049.882-.147,1.323-.2C51.122,120.8,51.122,122.273,51.122,122.273Zm4.312-21.121V98.8h2.352v2.352Zm.294,21.268V105.759h1.764V122.42Zm19.994,0V111.541a5.245,5.245,0,0,0-.98-3.381,4.124,4.124,0,0,0-3.283-1.176,4.751,4.751,0,0,0-2.6.637,4.534,4.534,0,0,0-1.715,1.617,6.894,6.894,0,0,0-.931,2.3,11.407,11.407,0,0,0-.294,2.6v8.331H64.255V105.808h1.47l.2,3.038a4.764,4.764,0,0,1,.931-1.421,4.955,4.955,0,0,1,1.372-1.078,5.956,5.956,0,0,1,1.617-.686,7.238,7.238,0,0,1,1.715-.245,5.623,5.623,0,0,1,4.361,1.617,6.44,6.44,0,0,1,1.47,4.459V122.42Zm21.758,2.5a4.2,4.2,0,0,1-.343,1.764,4.525,4.525,0,0,1-.931,1.372,5.9,5.9,0,0,1-2.842,1.519,15.614,15.614,0,0,1-3.773.441,13.379,13.379,0,0,1-3.528-.441,5.875,5.875,0,0,1-2.7-1.519,3.916,3.916,0,0,1-.882-1.323,4.66,4.66,0,0,1-.294-1.715,4.192,4.192,0,0,1,.686-2.254,4.121,4.121,0,0,1,1.813-1.617,2.9,2.9,0,0,1-1.47-1.078,2.832,2.832,0,0,1-.637-1.666,3.058,3.058,0,0,1,.539-1.813,4.872,4.872,0,0,1,1.47-1.323,6.326,6.326,0,0,1-1.225-1.764,5.848,5.848,0,0,1-.441-2.3,5.4,5.4,0,0,1,.49-2.4,6.414,6.414,0,0,1,1.323-1.862,6.524,6.524,0,0,1,1.96-1.176,8.018,8.018,0,0,1,2.45-.392,7.188,7.188,0,0,1,3.92,1.127,3.085,3.085,0,0,1,1.274-1.666,3.857,3.857,0,0,1,2.058-.588.622.622,0,0,1,.294.049.622.622,0,0,0,.294.049v1.421a.622.622,0,0,1-.294-.049c-.1,0-.2-.049-.294-.049a2.266,2.266,0,0,0-1.519.49,2.028,2.028,0,0,0-.784,1.323,5.16,5.16,0,0,1,.98,1.666,5.675,5.675,0,0,1,.343,2.058,5.615,5.615,0,0,1-.49,2.45,5.084,5.084,0,0,1-1.372,1.813,5.77,5.77,0,0,1-2.009,1.127,8.019,8.019,0,0,1-2.45.392,6.83,6.83,0,0,1-3.332-.784,3.8,3.8,0,0,0-1.176.784,1.735,1.735,0,0,0-.49,1.274,1.335,1.335,0,0,0,.343.98,2.562,2.562,0,0,0,.833.588,3.581,3.581,0,0,0,1.127.2,9.457,9.457,0,0,0,1.127.049h3.626A9.957,9.957,0,0,1,94,120.46a4.816,4.816,0,0,1,2.058,1.225,4.659,4.659,0,0,1,.98,1.372A3.612,3.612,0,0,1,97.48,124.919Zm-1.666,0a2.677,2.677,0,0,0-.2-1.176,2.781,2.781,0,0,0-.588-.882c-.784-.833-2.107-1.225-4.018-1.225H86.6a3.834,3.834,0,0,0-1.911,1.127,3.035,3.035,0,0,0-.833,2.3,2.961,2.961,0,0,0,.245,1.176,3.271,3.271,0,0,0,1.666,1.568,11.82,11.82,0,0,0,1.225.392,12.306,12.306,0,0,0,1.323.2,11.943,11.943,0,0,0,1.323.049,13.307,13.307,0,0,0,1.372-.049c.49-.049.98-.1,1.47-.2a6.413,6.413,0,0,0,1.372-.441,3.59,3.59,0,0,0,1.127-.784,4.077,4.077,0,0,0,.637-.882A4.212,4.212,0,0,0,95.814,124.919Zm-1.96-13.77a4.278,4.278,0,0,0-.343-1.813,4.659,4.659,0,0,0-.98-1.372,3.691,3.691,0,0,0-1.47-.882,5.737,5.737,0,0,0-3.626,0,3.691,3.691,0,0,0-1.47.882,4.659,4.659,0,0,0-.98,1.372,4.963,4.963,0,0,0,0,3.626,3.915,3.915,0,0,0,.98,1.372,4.273,4.273,0,0,0,1.47.833,5.737,5.737,0,0,0,3.626,0,4.273,4.273,0,0,0,1.47-.833,4.1,4.1,0,0,0,.98-1.372A5.192,5.192,0,0,0,93.854,111.149Zm19.406,6.665a4.7,4.7,0,0,1-1.127,3.087,5.425,5.425,0,0,1-2.3,1.519,9.52,9.52,0,0,1-6.175-.049,5.639,5.639,0,0,1-2.352-1.617,6.591,6.591,0,0,1-1.029-1.568,6.206,6.206,0,0,1-.392-1.813H101.6a4.044,4.044,0,0,0,1.225,2.548,4.72,4.72,0,0,0,1.715,1.029,8,8,0,0,0,2.205.294,8.213,8.213,0,0,0,2.3-.294,3.291,3.291,0,0,0,1.617-.931,3.777,3.777,0,0,0,.686-.931,2.817,2.817,0,0,0,.2-1.176,2.7,2.7,0,0,0-.784-1.96,3.382,3.382,0,0,0-2.3-1.029l-3.234-.441a10.458,10.458,0,0,1-2.058-.49,4.146,4.146,0,0,1-1.715-1.176,3.885,3.885,0,0,1-.931-2.646,4.285,4.285,0,0,1,.392-1.813,4.235,4.235,0,0,1,1.029-1.421A5.379,5.379,0,0,1,104,105.759a8.329,8.329,0,0,1,2.5-.343,7.883,7.883,0,0,1,2.842.49,5.816,5.816,0,0,1,2.205,1.47,4.525,4.525,0,0,1,.882,1.47,3.843,3.843,0,0,1,.343,1.617H111.1c-.049-.245-.147-.588-.245-.98a2.181,2.181,0,0,0-.588-1.029,4.46,4.46,0,0,0-1.519-1.078,6.382,6.382,0,0,0-2.254-.392,4.823,4.823,0,0,0-2.989.784,2.745,2.745,0,0,0-1.323,2.3,2.6,2.6,0,0,0,.686,1.813,4.134,4.134,0,0,0,2.548.98l3.185.441a4.857,4.857,0,0,1,2.009.637,4.041,4.041,0,0,1,1.421,1.078,4.483,4.483,0,0,1,.833,1.372A2.027,2.027,0,0,1,113.259,117.814Z"
          transform="translate(-3 -51.854)"
        />
        <path
          id="Wordmark"
          d="M21.573,42.21a6.9,6.9,0,0,1-1.911,4.851c-1.813,1.813-4.459,2.4-6.91,2.5A10.774,10.774,0,0,1,5.4,47.111,7.276,7.276,0,0,1,3,41.72H7.312a3.892,3.892,0,0,0,1.225,2.842,5.3,5.3,0,0,0,3.969,1.225,5.388,5.388,0,0,0,3.92-1.225c1.029-1.127,1.421-3.136,0-4.165-1.421-1.078-3.479-1.029-5.194-1.176a10.318,10.318,0,0,1-5.1-1.519,6.161,6.161,0,0,1-2.5-4.312A6.637,6.637,0,0,1,5.6,28a9.536,9.536,0,0,1,6.518-2.45A9.605,9.605,0,0,1,18.877,27.8a7.092,7.092,0,0,1,2.352,4.949H16.917a3.814,3.814,0,0,0-1.029-2.3,4.9,4.9,0,0,0-3.626-1.225A4.981,4.981,0,0,0,8.586,30.5a2.61,2.61,0,0,0,.49,4.116,7.958,7.958,0,0,0,2.646.539c.98.1,1.911.2,2.891.294a8.91,8.91,0,0,1,5,2.058A6.179,6.179,0,0,1,21.573,42.21ZM39.8,49.12l-1.617-1.862a9.668,9.668,0,0,1-10.242,1.617,6.876,6.876,0,0,1-3.626-8.527,8.563,8.563,0,0,1,3.724-4.067c-1.568-1.666-2.7-3.479-2.45-5.831a5.658,5.658,0,0,1,3.577-4.557,7.621,7.621,0,0,1,6.518.539,5.4,5.4,0,0,1,2.548,5.243c-.2,2.646-2.205,4.41-4.361,5.635l4.018,4.361a7.959,7.959,0,0,0,.588-2.842,27.506,27.506,0,0,0,.049-2.842h5.978v3.234h-2.7a10.091,10.091,0,0,1-1.421,5.194l4.263,4.655L39.8,49.12Zm-9.36-10.242c-1.078.686-2.254,1.372-2.646,2.7A3.533,3.533,0,0,0,28.629,45c1.715,1.764,5.439,1.568,7.057-.245Zm4.067-7.547a2.315,2.315,0,0,0-1.372-2.254,3.009,3.009,0,0,0-2.94.294,2.355,2.355,0,0,0-.735,2.646,7.126,7.126,0,0,0,2.058,2.744C32.941,33.978,34.51,33.145,34.51,31.331Zm30.579,2.009a7.189,7.189,0,0,1-2.3,5.586,8.983,8.983,0,0,1-5.88,1.862H52v8.282H47.839V25.941H56.9a9.314,9.314,0,0,1,5.88,1.813A7.027,7.027,0,0,1,65.088,33.341Zm-4.214.049A3.774,3.774,0,0,0,59.7,30.5a4.453,4.453,0,0,0-2.94-.882H52v7.5h4.753a4.2,4.2,0,0,0,2.94-.882A3.74,3.74,0,0,0,60.874,33.39ZM89.835,49.071l-.49-2.548c-1.127,2.156-3.92,3.038-6.175,2.989a8.753,8.753,0,0,1-6.518-2.6c-2.45-2.548-2.989-6.028-2.989-9.409s.49-6.812,2.989-9.311c3.528-3.528,10.193-3.724,13.77-.049A7.313,7.313,0,0,1,92.53,32.8H88.218a3.891,3.891,0,0,0-1.029-2.107c-1.813-2.107-5.684-1.764-7.5.147-1.666,1.764-1.813,4.459-1.813,6.763,0,2.254.2,4.949,1.813,6.665a5.294,5.294,0,0,0,7.2.147,6.039,6.039,0,0,0,1.519-4.508H82.877V36.428h9.6V49.12l-2.646-.049Zm12.937-.049a6.12,6.12,0,0,1-4.557-.441,4.226,4.226,0,0,1-1.862-3.92V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.38,3.38,0,0,0,1.715.147v3.381Zm17.3-8.429a9.623,9.623,0,0,1-2.009,6.273,8.021,8.021,0,0,1-11.908,0,10.587,10.587,0,0,1,0-12.545,8.021,8.021,0,0,1,11.908,0A9.622,9.622,0,0,1,120.071,40.593Zm-4.116,0a6.012,6.012,0,0,0-1.225-4.263,3.638,3.638,0,0,0-5.145,0,6.255,6.255,0,0,0-1.225,4.263,6.012,6.012,0,0,0,1.225,4.263,3.638,3.638,0,0,0,5.145,0A6.012,6.012,0,0,0,115.954,40.593Zm22.983.049c0,2.793-.833,5.635-3.038,7.4-2.45,2.058-7.057,2.058-8.87-.833l-.245,1.862h-3.528V25.5h4.067v7.841a5.471,5.471,0,0,1,4.067-1.666,6.432,6.432,0,0,1,4.508,1.372C137.908,34.713,138.937,37.261,138.937,40.642Zm-4.165-.1a6.765,6.765,0,0,0-1.078-4.116,3.672,3.672,0,0,0-3.43-1.274,3.575,3.575,0,0,0-2.7,2.3,9.938,9.938,0,0,0-.441,4.165,5.3,5.3,0,0,0,1.421,3.577,3.617,3.617,0,0,0,5.145-.49A6.59,6.59,0,0,0,134.772,40.544Zm22.3,8.331c-1.862.833-4.655.588-4.9-1.911-1.519,2.7-5.586,3.136-8.135,1.96a5.206,5.206,0,0,1-2.058-7.939,6.516,6.516,0,0,1,4.655-2.156l5-.343V37.457a2.876,2.876,0,0,0-.784-2.156,3.33,3.33,0,0,0-1.911-.539c-1.617-.049-3.185.588-3.283,2.4h-3.969a5.6,5.6,0,0,1,1.911-4.018,7.55,7.55,0,0,1,4.214-1.47c2.842-.245,6.175.49,7.3,3.43a8.969,8.969,0,0,1,.49,3.43v6.322c0,.735.49,1.323,1.323,1.029a.18.18,0,0,0,.147-.049Zm-5.439-7.351-4.312.343a2.473,2.473,0,0,0-2.45,2.009,2.2,2.2,0,0,0,2.058,2.352,4.725,4.725,0,0,0,3.332-.882,3.652,3.652,0,0,0,1.323-2.989l.049-.833Zm14.407,7.5a6,6,0,0,1-4.606-.49,4.26,4.26,0,0,1-1.813-3.871V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.426,3.426,0,0,0,1.715.147Z"
          transform="translate(-3 -14.425)"
          fill="#d6002a"
        />
        <rect
          id="Bar"
          width="163.037"
          height="4.165"
          transform="translate(0 0)"
        />
      </svg>
      <!-- Commodity Insights -->
      <svg
        id="spg_commodity_insights"
        xmlns="http://www.w3.org/2000/svg"
        width="291.084"
        height="78.161"
        viewBox="0 0 291.084 78.161"
      >
        <path
          id="Wordmark"
          d="M22.622,42.161a6.9,6.9,0,0,1-1.911,4.851c-1.813,1.813-4.459,2.4-6.91,2.5a10.348,10.348,0,0,1-7.351-2.4A7.324,7.324,0,0,1,4,41.72H8.312a3.892,3.892,0,0,0,1.225,2.842,5.3,5.3,0,0,0,3.969,1.225,5.388,5.388,0,0,0,3.92-1.225c1.029-1.127,1.421-3.136,0-4.165-1.421-1.078-3.479-1.029-5.194-1.176a10.318,10.318,0,0,1-5.1-1.519,6.161,6.161,0,0,1-2.5-4.312A6.637,6.637,0,0,1,6.6,28a9.536,9.536,0,0,1,6.518-2.45A9.605,9.605,0,0,1,19.877,27.8a7.092,7.092,0,0,1,2.352,4.949H17.917a3.814,3.814,0,0,0-1.029-2.3,4.9,4.9,0,0,0-3.626-1.225A4.981,4.981,0,0,0,9.586,30.5a2.61,2.61,0,0,0,.49,4.116,7.958,7.958,0,0,0,2.646.539c.98.1,1.911.2,2.891.294a8.91,8.91,0,0,1,5,2.058A6.021,6.021,0,0,1,22.622,42.161Zm18.23,6.959-1.666-1.862a9.668,9.668,0,0,1-10.242,1.617,6.876,6.876,0,0,1-3.626-8.527,8.563,8.563,0,0,1,3.724-4.067c-1.568-1.666-2.7-3.479-2.45-5.831a5.658,5.658,0,0,1,3.577-4.557,7.621,7.621,0,0,1,6.518.539,5.4,5.4,0,0,1,2.548,5.243c-.2,2.646-2.205,4.41-4.361,5.635l4.018,4.361a7.959,7.959,0,0,0,.588-2.842,27.506,27.506,0,0,0,.049-2.842h5.978v3.234h-2.7a10.091,10.091,0,0,1-1.421,5.194l4.263,4.655-4.8.049ZM31.442,38.878c-1.078.686-2.254,1.372-2.646,2.7A3.533,3.533,0,0,0,29.629,45c1.715,1.764,5.439,1.568,7.057-.245Zm4.067-7.547a2.315,2.315,0,0,0-1.372-2.254,3.009,3.009,0,0,0-2.94.294,2.355,2.355,0,0,0-.735,2.646,7.126,7.126,0,0,0,2.058,2.744C33.941,33.978,35.51,33.145,35.51,31.331Zm30.628,2.009a7.189,7.189,0,0,1-2.3,5.586A8.937,8.937,0,0,1,58,40.789H53.1v8.282H48.937V25.941H58a9.087,9.087,0,0,1,5.831,1.813A7.189,7.189,0,0,1,66.137,33.341Zm-4.263.049A3.774,3.774,0,0,0,60.7,30.5a4.453,4.453,0,0,0-2.94-.882H53v7.5h4.753a4.2,4.2,0,0,0,2.94-.882A3.74,3.74,0,0,0,61.874,33.39ZM90.835,49.071l-.49-2.548c-1.127,2.156-3.92,3.038-6.175,2.989a8.753,8.753,0,0,1-6.518-2.6c-2.45-2.548-2.989-6.028-2.989-9.409s.49-6.812,2.989-9.311c3.528-3.528,10.193-3.724,13.77-.049A7.313,7.313,0,0,1,93.53,32.8H89.218a3.891,3.891,0,0,0-1.029-2.107c-1.813-2.107-5.684-1.764-7.5.147-1.666,1.764-1.813,4.459-1.813,6.763,0,2.254.2,4.949,1.813,6.665a5.294,5.294,0,0,0,7.2.147,6.039,6.039,0,0,0,1.519-4.508H83.877V36.428h9.6V49.12C93.579,49.071,90.835,49.071,90.835,49.071Zm12.937-.049a6.12,6.12,0,0,1-4.557-.441,4.226,4.226,0,0,1-1.862-3.92V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.426,3.426,0,0,0,1.715.147v3.381Zm17.347-8.429a9.623,9.623,0,0,1-2.009,6.273,8.021,8.021,0,0,1-11.908,0,10.587,10.587,0,0,1,0-12.545,8.021,8.021,0,0,1,11.908,0A9.9,9.9,0,0,1,121.12,40.593Zm-4.165,0a6.012,6.012,0,0,0-1.225-4.263,3.638,3.638,0,0,0-5.145,0,6.255,6.255,0,0,0-1.225,4.263,6.012,6.012,0,0,0,1.225,4.263,3.638,3.638,0,0,0,5.145,0A6.012,6.012,0,0,0,116.954,40.593Zm22.983.049c0,2.793-.784,5.635-3.038,7.4-2.45,2.058-7.057,2.058-8.87-.833l-.245,1.862h-3.528V25.5h4.067v7.841a5.471,5.471,0,0,1,4.067-1.666,6.5,6.5,0,0,1,4.508,1.372C138.957,34.713,139.937,37.261,139.937,40.642Zm-4.116-.1a6.765,6.765,0,0,0-1.078-4.116,3.672,3.672,0,0,0-3.43-1.274,3.575,3.575,0,0,0-2.7,2.3,9.939,9.939,0,0,0-.441,4.165A5.3,5.3,0,0,0,129.6,45.2a3.617,3.617,0,0,0,5.145-.49A6.913,6.913,0,0,0,135.821,40.544Zm22.248,8.331c-1.862.833-4.655.588-4.9-1.911-1.519,2.7-5.586,3.136-8.135,1.96a5.206,5.206,0,0,1-2.058-7.939,6.516,6.516,0,0,1,4.655-2.156l5-.343V37.457a2.876,2.876,0,0,0-.784-2.156,3.33,3.33,0,0,0-1.911-.539c-1.617-.049-3.185.588-3.283,2.4h-3.969a5.6,5.6,0,0,1,1.911-4.018,7.55,7.55,0,0,1,4.214-1.47c2.842-.245,6.175.49,7.3,3.43a8.969,8.969,0,0,1,.49,3.43v6.322c0,.735.49,1.323,1.323,1.029a.18.18,0,0,0,.147-.049v3.038Zm-5.439-7.351-4.312.343a2.473,2.473,0,0,0-2.45,2.009,2.2,2.2,0,0,0,2.058,2.352,4.918,4.918,0,0,0,3.381-.882,3.652,3.652,0,0,0,1.323-2.989v-.833Zm14.407,7.5a6.005,6.005,0,0,1-4.606-.49,4.26,4.26,0,0,1-1.813-3.871V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.426,3.426,0,0,0,1.715.147v3.381Z"
          transform="translate(-3.51 -14.425)"
          fill="#d6002a"
        />
        <rect
          id="Bar"
          width="163.037"
          height="4.165"
          transform="translate(0.49 0)"
        />
        <g id="Name" data-name="Group 19187" transform="translate(0 46.505)">
          <path
            id="Path_1"
            data-name="Path 1"
            d="M20.4,114.708a8.965,8.965,0,0,1-.784,3.038,8.03,8.03,0,0,1-1.764,2.45,8.3,8.3,0,0,1-2.6,1.617,8.633,8.633,0,0,1-3.234.588,8.814,8.814,0,0,1-3.332-.686A8.75,8.75,0,0,1,5.793,119.8a8.19,8.19,0,0,1-1.519-2.156,13.925,13.925,0,0,1-.833-2.4A14.5,14.5,0,0,1,3.1,112.7c-.049-.882-.1-1.715-.1-2.6s.049-1.715.1-2.548a21.274,21.274,0,0,1,.343-2.548,9.948,9.948,0,0,1,.833-2.4A8.829,8.829,0,0,1,5.793,100.5a8.276,8.276,0,0,1,2.891-1.911,8.814,8.814,0,0,1,3.332-.686,8.633,8.633,0,0,1,3.234.588,8.3,8.3,0,0,1,2.6,1.617,8.03,8.03,0,0,1,1.764,2.45,8.964,8.964,0,0,1,.784,3.038H18.583a6.449,6.449,0,0,0-.637-2.4,6.8,6.8,0,0,0-1.372-1.911,5.988,5.988,0,0,0-2.009-1.225,7.136,7.136,0,0,0-2.548-.441,6.923,6.923,0,0,0-2.793.539,6.417,6.417,0,0,0-2.156,1.519,5.855,5.855,0,0,0-1.225,1.862,11.043,11.043,0,0,0-.686,2.156,11.753,11.753,0,0,0-.245,2.254c-.049.784-.049,1.519-.049,2.205,0,.735,0,1.47.049,2.205a18.5,18.5,0,0,0,.294,2.3,11.043,11.043,0,0,0,.686,2.156,6.818,6.818,0,0,0,1.225,1.862,6.5,6.5,0,0,0,4.949,2.009,7.136,7.136,0,0,0,2.548-.441,5.541,5.541,0,0,0,2.009-1.225A6.8,6.8,0,0,0,18,117.11a6.449,6.449,0,0,0,.637-2.4Z"
            transform="translate(-3 -97.9)"
          />
          <path
            id="Path_2"
            data-name="Path 2"
            d="M60.607,120.821a13.088,13.088,0,0,1-.539,3.822,7.563,7.563,0,0,1-1.813,2.989,6.721,6.721,0,0,1-2.058,1.421,6.928,6.928,0,0,1-5.586,0,6.4,6.4,0,0,1-2.058-1.421,7.038,7.038,0,0,1-1.813-2.989,13.821,13.821,0,0,1,0-7.645,7.563,7.563,0,0,1,1.813-2.989,6.721,6.721,0,0,1,2.058-1.421,6.928,6.928,0,0,1,5.586,0,6.4,6.4,0,0,1,2.058,1.421A7.038,7.038,0,0,1,60.068,117,13.089,13.089,0,0,1,60.607,120.821Zm-1.715,0a12.689,12.689,0,0,0-.343-3.087,5.451,5.451,0,0,0-1.519-2.6,5.941,5.941,0,0,0-1.568-1.078,4.763,4.763,0,0,0-2.107-.392,5.571,5.571,0,0,0-2.107.392,4.976,4.976,0,0,0-1.568,1.078,6.157,6.157,0,0,0-1.519,2.6,12.159,12.159,0,0,0-.343,3.087,12.69,12.69,0,0,0,.343,3.087,5.687,5.687,0,0,0,1.519,2.6,5.942,5.942,0,0,0,1.568,1.078,5.859,5.859,0,0,0,4.214,0,4.977,4.977,0,0,0,1.568-1.078,6.157,6.157,0,0,0,1.519-2.6A15.674,15.674,0,0,0,58.892,120.821Z"
            transform="translate(-25.03 -105.09)"
          />
          <path
            id="Path_3"
            data-name="Path 3"
            d="M105.319,129.151V118.273a5.661,5.661,0,0,0-.882-3.381,3.511,3.511,0,0,0-3.087-1.225,4.224,4.224,0,0,0-1.666.294,4.405,4.405,0,0,0-1.274.833A6.692,6.692,0,0,0,96.939,117a7.19,7.19,0,0,0-.49,2.744v9.409H94.734V118.273a5.336,5.336,0,0,0-.931-3.381,3.511,3.511,0,0,0-3.087-1.225,4.224,4.224,0,0,0-1.666.294,4.4,4.4,0,0,0-1.274.833,6.057,6.057,0,0,0-1.568,2.646,12.8,12.8,0,0,0-.441,3.381v8.331H84.1V112.49h1.47l.2,2.842a5.7,5.7,0,0,1,1.96-2.352,5.116,5.116,0,0,1,3.087-.931,5.645,5.645,0,0,1,3.479.98,4.866,4.866,0,0,1,1.764,2.6,6.89,6.89,0,0,1,1.96-2.6A5.345,5.345,0,0,1,101.4,112a6.336,6.336,0,0,1,2.5.441,4.5,4.5,0,0,1,1.715,1.274,5.056,5.056,0,0,1,.98,1.911,9.6,9.6,0,0,1,.294,2.45v11.075Z"
            transform="translate(-44.358 -105.09)"
          />
          <path
            id="Path_4"
            data-name="Path 4"
            d="M162.519,129.151V118.273a5.661,5.661,0,0,0-.882-3.381,3.511,3.511,0,0,0-3.087-1.225,4.224,4.224,0,0,0-1.666.294,4.405,4.405,0,0,0-1.274.833,6.692,6.692,0,0,0-1.47,2.205,7.19,7.19,0,0,0-.49,2.744v9.409h-1.715V118.273a5.336,5.336,0,0,0-.931-3.381,3.511,3.511,0,0,0-3.087-1.225,4.224,4.224,0,0,0-1.666.294,4.405,4.405,0,0,0-1.274.833,6.057,6.057,0,0,0-1.568,2.646,12.8,12.8,0,0,0-.441,3.381v8.331H141.3V112.49h1.47l.2,2.842a5.7,5.7,0,0,1,1.96-2.352,5.116,5.116,0,0,1,3.087-.931,5.645,5.645,0,0,1,3.479.98,4.866,4.866,0,0,1,1.764,2.6,6.89,6.89,0,0,1,1.96-2.6A5.345,5.345,0,0,1,158.6,112a6.336,6.336,0,0,1,2.5.441,4.5,4.5,0,0,1,1.715,1.274,5.057,5.057,0,0,1,.98,1.911,9.6,9.6,0,0,1,.294,2.45v11.075Z"
            transform="translate(-73.527 -105.09)"
          />
          <path
            id="Path_5"
            data-name="Path 5"
            d="M210.807,120.821a13.089,13.089,0,0,1-.539,3.822,7.563,7.563,0,0,1-1.813,2.989,6.721,6.721,0,0,1-2.058,1.421,6.327,6.327,0,0,1-2.793.588,6.48,6.48,0,0,1-2.793-.588,6.4,6.4,0,0,1-2.058-1.421,7.038,7.038,0,0,1-1.813-2.989,13.821,13.821,0,0,1,0-7.645,7.563,7.563,0,0,1,1.813-2.989,6.721,6.721,0,0,1,2.058-1.421A6.327,6.327,0,0,1,203.6,112a6.48,6.48,0,0,1,2.793.588,6.4,6.4,0,0,1,2.058,1.421A7.039,7.039,0,0,1,210.268,117,11.627,11.627,0,0,1,210.807,120.821Zm-1.666,0a12.691,12.691,0,0,0-.343-3.087,5.688,5.688,0,0,0-1.519-2.6,5.941,5.941,0,0,0-1.568-1.078,4.763,4.763,0,0,0-2.107-.392,5.57,5.57,0,0,0-2.107.392,4.976,4.976,0,0,0-1.568,1.078,6.157,6.157,0,0,0-1.519,2.6,12.16,12.16,0,0,0-.343,3.087,12.69,12.69,0,0,0,.343,3.087,5.688,5.688,0,0,0,1.519,2.6,5.942,5.942,0,0,0,1.568,1.078,5.859,5.859,0,0,0,4.214,0,4.977,4.977,0,0,0,1.568-1.078,6.157,6.157,0,0,0,1.519-2.6A15.674,15.674,0,0,0,209.141,120.821Z"
            transform="translate(-101.626 -105.09)"
          />
          <path
            id="Path_6"
            data-name="Path 6"
            d="M246.039,121.961l-.2-2.94a6.449,6.449,0,0,1-.931,1.421,5.553,5.553,0,0,1-1.323,1.078,8.943,8.943,0,0,1-1.568.686,6.853,6.853,0,0,1-1.666.245,6.506,6.506,0,0,1-2.5-.441,6.161,6.161,0,0,1-1.911-1.127,7.318,7.318,0,0,1-2.058-3.136,12.214,12.214,0,0,1-.686-4.067,11.542,11.542,0,0,1,.637-3.92,7.943,7.943,0,0,1,1.96-3.136,6.767,6.767,0,0,1,1.96-1.274,7.008,7.008,0,0,1,2.6-.49,7.289,7.289,0,0,1,1.764.245,5.645,5.645,0,0,1,1.568.686,6.835,6.835,0,0,1,1.323,1.029,4.973,4.973,0,0,1,.931,1.323V97.9h1.666v24.061Zm-.147-8.331a10.136,10.136,0,0,0-.49-3.332,5.279,5.279,0,0,0-1.617-2.5,4.67,4.67,0,0,0-1.47-.931,5.08,5.08,0,0,0-2.009-.343,4.89,4.89,0,0,0-2.009.392,4.768,4.768,0,0,0-1.519,1.078,6.852,6.852,0,0,0-1.421,2.548,10.688,10.688,0,0,0-.441,3.087,11.1,11.1,0,0,0,.539,3.381,5.807,5.807,0,0,0,1.666,2.6,4.313,4.313,0,0,0,1.421.882,5.5,5.5,0,0,0,1.862.294,4.594,4.594,0,0,0,1.911-.343,5.922,5.922,0,0,0,1.47-.98,6.286,6.286,0,0,0,1.617-2.6A11.458,11.458,0,0,0,245.892,113.63Z"
            transform="translate(-120.393 -97.9)"
          />
          <path
            id="Path_7"
            data-name="Path 7"
            d="M273.8,101.152V98.8h2.352v2.352Zm.294,21.268V105.759h1.764V122.42Z"
            transform="translate(-141.097 -98.359)"
          />
          <path
            id="Path_8"
            data-name="Path 8"
            d="M296.289,124.313c-.49.1-.931.2-1.372.294a6.471,6.471,0,0,1-1.372.1,3.812,3.812,0,0,1-3.332-1.372,5.9,5.9,0,0,1-.98-3.528V109.318H285.9V107.8h3.332v-4.606l1.666-.392v5h5.145v1.519H290.9v10.438a12.045,12.045,0,0,0,.1,1.372,3.558,3.558,0,0,0,.441,1.078,1.914,1.914,0,0,0,.833.686,3.619,3.619,0,0,0,1.372.245,12.016,12.016,0,0,0,1.323-.1c.441-.049.882-.147,1.323-.2v1.47Z"
            transform="translate(-147.268 -100.399)"
          />
          <path
            id="Path_9"
            data-name="Path 9"
            d="M320.1,133.239a5.971,5.971,0,0,1-1.715,2.5,4.33,4.33,0,0,1-2.793.882,4.765,4.765,0,0,1-.882-.049c-.245-.049-.49-.049-.686-.1a3.974,3.974,0,0,1-.539-.147V134.9a3.309,3.309,0,0,0,.686.1,10.436,10.436,0,0,0,1.323.1,2.763,2.763,0,0,0,1.911-.686,5.444,5.444,0,0,0,1.127-1.764l1.078-2.744L312.8,113h1.813l5.831,14.8,5.586-14.8h1.813Z"
            transform="translate(-160.985 -105.6)"
          />
          <path
            id="Path_10"
            data-name="Path 10"
            d="M369,122.42V98.8h1.764v23.62H369Z"
            transform="translate(-189.645 -98.359)"
          />
          <path
            id="Path_11"
            data-name="Path 11"
            d="M396.367,129.3V118.426a5.245,5.245,0,0,0-.98-3.381,4.124,4.124,0,0,0-3.283-1.176,4.751,4.751,0,0,0-2.6.637,4.534,4.534,0,0,0-1.715,1.617,6.894,6.894,0,0,0-.931,2.3,11.4,11.4,0,0,0-.294,2.6v8.331H384.9V112.692h1.47l.2,3.038a4.763,4.763,0,0,1,.931-1.421,4.954,4.954,0,0,1,1.372-1.078,5.956,5.956,0,0,1,1.617-.686,7.239,7.239,0,0,1,1.715-.245,5.623,5.623,0,0,1,4.361,1.617,6.44,6.44,0,0,1,1.47,4.459V129.3Z"
            transform="translate(-197.753 -105.243)"
          />
          <path
            id="Path_12"
            data-name="Path 12"
            d="M434.078,124.7a4.7,4.7,0,0,1-1.127,3.087,5.425,5.425,0,0,1-2.3,1.519,9.52,9.52,0,0,1-6.175-.049,5.639,5.639,0,0,1-2.352-1.617,6.59,6.59,0,0,1-1.029-1.568,6.2,6.2,0,0,1-.392-1.813h1.715a4.044,4.044,0,0,0,1.225,2.548,4.72,4.72,0,0,0,1.715,1.029,7.994,7.994,0,0,0,2.205.294,8.213,8.213,0,0,0,2.3-.294,3.291,3.291,0,0,0,1.617-.931,3.777,3.777,0,0,0,.686-.931,3.074,3.074,0,0,0-.588-3.136,3.382,3.382,0,0,0-2.3-1.029l-3.234-.441a10.458,10.458,0,0,1-2.058-.49,4.147,4.147,0,0,1-1.715-1.176,3.885,3.885,0,0,1-.931-2.646,4.284,4.284,0,0,1,.392-1.813,4.235,4.235,0,0,1,1.029-1.421,5.379,5.379,0,0,1,2.058-1.176,8.33,8.33,0,0,1,2.5-.343,7.883,7.883,0,0,1,2.842.49,5.816,5.816,0,0,1,2.205,1.47,4.525,4.525,0,0,1,.882,1.47,3.844,3.844,0,0,1,.343,1.617h-1.666c-.049-.245-.147-.588-.245-.98a2.181,2.181,0,0,0-.588-1.029,4.46,4.46,0,0,0-1.519-1.078,6.382,6.382,0,0,0-2.254-.392,4.823,4.823,0,0,0-2.989.784,2.745,2.745,0,0,0-1.323,2.3,2.6,2.6,0,0,0,.686,1.813,4.134,4.134,0,0,0,2.548.98l3.185.441a4.856,4.856,0,0,1,2.009.637,4.716,4.716,0,0,1,1.421,1.078,4.485,4.485,0,0,1,.833,1.372A2.3,2.3,0,0,1,434.078,124.7Z"
            transform="translate(-216.01 -105.243)"
          />
          <path
            id="Path_13"
            data-name="Path 13"
            d="M456.8,101.152V98.8h2.352v2.352Zm.294,21.268V105.759h1.764V122.42Z"
            transform="translate(-234.419 -98.359)"
          />
          <path
            id="Path_14"
            data-name="Path 14"
            d="M485.689,130.58a4.2,4.2,0,0,1-.343,1.764,4.525,4.525,0,0,1-.931,1.372,5.9,5.9,0,0,1-2.842,1.519,15.615,15.615,0,0,1-3.773.441,13.38,13.38,0,0,1-3.528-.441,5.875,5.875,0,0,1-2.7-1.519,3.916,3.916,0,0,1-.882-1.323,4.66,4.66,0,0,1-.294-1.715,4.192,4.192,0,0,1,.686-2.254,4.44,4.44,0,0,1,1.813-1.617,2.9,2.9,0,0,1-1.47-1.078,2.832,2.832,0,0,1-.637-1.666,3.169,3.169,0,0,1,.539-1.813,4.874,4.874,0,0,1,1.47-1.323,6.327,6.327,0,0,1-1.225-1.764,5.68,5.68,0,0,1-.441-2.3,5.4,5.4,0,0,1,.49-2.4,6.412,6.412,0,0,1,1.323-1.862,6.523,6.523,0,0,1,1.96-1.176,6.6,6.6,0,0,1,2.45-.392,7.188,7.188,0,0,1,3.92,1.127,3.085,3.085,0,0,1,1.274-1.666,3.857,3.857,0,0,1,2.058-.588.622.622,0,0,1,.294.049c.1,0,.2.049.294.049v1.421a.622.622,0,0,1-.294-.049c-.1,0-.2-.049-.294-.049a2.266,2.266,0,0,0-1.519.49,2.028,2.028,0,0,0-.784,1.323,5.159,5.159,0,0,1,.98,1.666,5.675,5.675,0,0,1,.343,2.058,5.615,5.615,0,0,1-.49,2.45,5.083,5.083,0,0,1-1.372,1.813,5.77,5.77,0,0,1-2.009,1.127,8.018,8.018,0,0,1-2.45.392,6.83,6.83,0,0,1-3.332-.784,3.8,3.8,0,0,0-1.176.784,1.735,1.735,0,0,0-.49,1.274,1.335,1.335,0,0,0,.343.98,2.562,2.562,0,0,0,.833.588,3.581,3.581,0,0,0,1.127.2,9.457,9.457,0,0,0,1.127.049h3.626a9.957,9.957,0,0,1,2.842.392,4.815,4.815,0,0,1,2.058,1.225,4.658,4.658,0,0,1,.98,1.372A3.19,3.19,0,0,1,485.689,130.58Zm-1.666,0a2.677,2.677,0,0,0-.2-1.176,2.78,2.78,0,0,0-.588-.882c-.784-.833-2.107-1.225-4.018-1.225h-4.41a3.835,3.835,0,0,0-1.911,1.127,3.035,3.035,0,0,0-.833,2.3,2.961,2.961,0,0,0,.245,1.176,3.271,3.271,0,0,0,1.666,1.568,9.684,9.684,0,0,0,1.274.392,12.306,12.306,0,0,0,1.323.2,11.936,11.936,0,0,0,1.323.049,13.3,13.3,0,0,0,1.372-.049c.49-.049.98-.1,1.47-.2a6.413,6.413,0,0,0,1.372-.441,3.59,3.59,0,0,0,1.127-.784,4.08,4.08,0,0,0,.637-.882A7.69,7.69,0,0,0,484.023,130.58Zm-1.96-13.77A4.278,4.278,0,0,0,481.72,115a4.658,4.658,0,0,0-.98-1.372,3.69,3.69,0,0,0-1.47-.882,5.738,5.738,0,0,0-3.626,0,3.69,3.69,0,0,0-1.47.882,4.659,4.659,0,0,0-.98,1.372,4.963,4.963,0,0,0,0,3.626,3.915,3.915,0,0,0,.98,1.372,3.96,3.96,0,0,0,1.47.833,5.738,5.738,0,0,0,3.626,0,4.273,4.273,0,0,0,1.47-.833,4.1,4.1,0,0,0,.98-1.372A4.278,4.278,0,0,0,482.063,116.81Z"
            transform="translate(-241.355 -104.02)"
          />
          <path
            id="Path_15"
            data-name="Path 15"
            d="M520.667,121.961V111.082a5.491,5.491,0,0,0-.98-3.43,3.983,3.983,0,0,0-3.283-1.225,4.751,4.751,0,0,0-2.6.637,4.534,4.534,0,0,0-1.715,1.617,7.339,7.339,0,0,0-.931,2.3,12.162,12.162,0,0,0-.294,2.646v8.331H509.2V97.9h1.666v10.487a5.746,5.746,0,0,1,.931-1.47,4.957,4.957,0,0,1,1.372-1.078,5.957,5.957,0,0,1,1.617-.686,7.238,7.238,0,0,1,1.715-.245,5.623,5.623,0,0,1,4.361,1.617,6.44,6.44,0,0,1,1.47,4.459v10.977Z"
            transform="translate(-261.141 -97.9)"
          />
          <path
            id="Path_16"
            data-name="Path 16"
            d="M553.389,124.313c-.49.1-.931.2-1.372.294a6.471,6.471,0,0,1-1.372.1,3.812,3.812,0,0,1-3.332-1.372,5.9,5.9,0,0,1-.98-3.528V109.318H543V107.8h3.332v-4.606L548,102.8v5h5.145v1.519H548v10.438a12.046,12.046,0,0,0,.1,1.372,3.559,3.559,0,0,0,.441,1.078,1.915,1.915,0,0,0,.833.686,3.619,3.619,0,0,0,1.372.245,12.013,12.013,0,0,0,1.323-.1c.441-.049.882-.147,1.323-.2v1.47Z"
            transform="translate(-278.378 -100.399)"
          />
          <path
            id="Path_17"
            data-name="Path 17"
            d="M583.078,124.7a4.7,4.7,0,0,1-1.127,3.087,5.425,5.425,0,0,1-2.3,1.519,9.52,9.52,0,0,1-6.175-.049,5.639,5.639,0,0,1-2.352-1.617,6.586,6.586,0,0,1-1.029-1.568,6.2,6.2,0,0,1-.392-1.813h1.715a4.043,4.043,0,0,0,1.225,2.548,4.72,4.72,0,0,0,1.715,1.029,8,8,0,0,0,2.205.294,8.213,8.213,0,0,0,2.3-.294,3.291,3.291,0,0,0,1.617-.931,3.78,3.78,0,0,0,.686-.931,3.074,3.074,0,0,0-.588-3.136,3.382,3.382,0,0,0-2.3-1.029l-3.234-.441a10.458,10.458,0,0,1-2.058-.49,4.147,4.147,0,0,1-1.715-1.176,3.885,3.885,0,0,1-.931-2.646,4.285,4.285,0,0,1,.392-1.813,4.234,4.234,0,0,1,1.029-1.421,5.379,5.379,0,0,1,2.058-1.176,8.329,8.329,0,0,1,2.5-.343,7.883,7.883,0,0,1,2.842.49,5.816,5.816,0,0,1,2.205,1.47,4.524,4.524,0,0,1,.882,1.47,3.842,3.842,0,0,1,.343,1.617h-1.666c-.049-.245-.147-.588-.245-.98a2.181,2.181,0,0,0-.588-1.029,4.46,4.46,0,0,0-1.519-1.078,6.382,6.382,0,0,0-2.254-.392,4.823,4.823,0,0,0-2.989.784,2.745,2.745,0,0,0-1.323,2.3,2.6,2.6,0,0,0,.686,1.813,4.133,4.133,0,0,0,2.548.98l3.185.441a4.856,4.856,0,0,1,2.009.637,4.718,4.718,0,0,1,1.421,1.078,4.482,4.482,0,0,1,.833,1.372A2.3,2.3,0,0,1,583.078,124.7Z"
            transform="translate(-291.994 -105.243)"
          />
        </g>
      </svg>
      <!-- Dow Jones Indices -->
      <svg
        id="spg_dow_jones_indices"
        xmlns="http://www.w3.org/2000/svg"
        width="199.006"
        height="78.406"
        viewBox="0 0 199.006 78.406"
      >
        <g id="Name" data-name="Group 19201">
          <path
            id="Path_38"
            data-name="Path 38"
            d="M17.358,21.673a8.865,8.865,0,0,1-6.322,2.156,8.649,8.649,0,0,1-5.978-2.058A6.418,6.418,0,0,1,3,17.115H6.724a3.489,3.489,0,0,0,1.029,2.45,4.843,4.843,0,0,0,3.381,1.078,4.944,4.944,0,0,0,3.479-1.078,2.482,2.482,0,0,0,.784-1.911c0-1.47-1.127-2.156-2.352-2.352-1.372-.245-3.087-.294-4.41-.539C5.842,14.322,3.49,12.509,3.49,9.177A5.533,5.533,0,0,1,5.254,5.207,8.667,8.667,0,0,1,11.135,3.1a8.254,8.254,0,0,1,5.586,1.96,6.214,6.214,0,0,1,2.058,4.263H15.055a3.019,3.019,0,0,0-.882-1.96,4.5,4.5,0,0,0-3.038-1.078A4.552,4.552,0,0,0,7.9,7.363a2.42,2.42,0,0,0-.686,1.666,2.122,2.122,0,0,0,2.058,2.156c1.274.2,3.038.343,4.361.49,2.989.441,5.488,2.352,5.488,5.782A5.9,5.9,0,0,1,17.358,21.673Z"
            transform="translate(-3 -3.051)"
          />
          <path
            id="Path_39"
            data-name="Path 39"
            d="M55.121,23.435,53.7,21.867a8.588,8.588,0,0,1-5.684,2.107c-3.528,0-6.616-2.3-6.616-6.077,0-2.5,1.421-4.214,3.528-5.488-1.274-1.372-2.156-2.5-2.156-4.361C42.772,4.911,45.222,3,48.261,3,51.152,3,53.8,4.813,53.8,7.949c0,2.6-1.568,4.067-3.773,5.341L53.5,17.064a6.052,6.052,0,0,0,.49-2.45c.049-.931.049-1.813.049-2.45h5.145v2.793h-2.3a9.155,9.155,0,0,1-1.225,4.508c1.274,1.372,2.45,2.7,3.675,4.018l-4.214-.049Zm-8.086-8.821c-1.323.784-2.352,1.47-2.352,3.136,0,2.058,1.666,3.136,3.577,3.136a4.6,4.6,0,0,0,3.381-1.225C50.025,17.946,48.6,16.28,47.035,14.614ZM48.31,5.891A2.029,2.029,0,0,0,46.1,8c0,1.274,1.078,2.205,1.911,3.087,1.225-.686,2.548-1.323,2.548-2.989A2.12,2.12,0,0,0,48.31,5.891Z"
            transform="translate(-22.583 -3)"
          />
          <path
            id="Path_40"
            data-name="Path 40"
            d="M92.941,16.739H88.726v7.155H85.1V3.9h7.841C97.547,3.9,100,6.448,100,10.32S97.547,16.739,92.941,16.739Zm-.147-9.654H88.726v6.469h4.067c2.4,0,3.528-1.323,3.528-3.234s-1.078-3.234-3.528-3.234Z"
            transform="translate(-44.868 -3.459)"
          />
          <path
            id="Path_41"
            data-name="Path 41"
            d="M145.578,21.737a7.687,7.687,0,0,1-5.586,2.156H132.2V3.9h7.792a7.607,7.607,0,0,1,5.586,2.156c2.058,2.107,2.352,5.1,2.352,7.841S147.636,19.63,145.578,21.737ZM142.785,8.261a4,4,0,0,0-2.842-1.127h-4.116V20.61h4.116a4.173,4.173,0,0,0,2.842-1.127c1.421-1.421,1.421-3.773,1.421-5.586s0-4.214-1.421-5.635Z"
            transform="translate(-68.887 -3.459)"
          />
          <path
            id="Path_42"
            data-name="Path 42"
            d="M181.206,27.184a6.779,6.779,0,0,1-5.145,2.254,6.861,6.861,0,0,1-5.145-2.254,8.067,8.067,0,0,1-1.715-5.39,8.067,8.067,0,0,1,1.715-5.39,6.949,6.949,0,0,1,10.291-.049,8.067,8.067,0,0,1,1.715,5.39A8.207,8.207,0,0,1,181.206,27.184Zm-2.891-9.115a3.151,3.151,0,0,0-4.41-.049l-.049.049a5.436,5.436,0,0,0-1.029,3.675,5.36,5.36,0,0,0,1.029,3.675,3.151,3.151,0,0,0,4.41.049l.049-.049a5.436,5.436,0,0,0,1.029-3.675A5.436,5.436,0,0,0,178.315,18.069Z"
            transform="translate(-87.755 -8.66)"
          />
          <path
            id="Path_43"
            data-name="Path 43"
            d="M217.506,29.4h-3.283l-3.332-9.9-3.283,9.9h-3.283L200.6,14.749h3.43l2.352,9.6,3.087-9.507h2.891l3.087,9.458,2.254-9.6h3.381Z"
            transform="translate(-103.768 -8.967)"
          />
          <path
            id="Path_44"
            data-name="Path 44"
            d="M260.228,24.286a5.756,5.756,0,0,1-4.263-1.617,6.838,6.838,0,0,1-1.764-5h3.528a3.886,3.886,0,0,0,.735,2.7,2.329,2.329,0,0,0,1.764.735c1.617,0,2.4-1.078,2.4-2.7V3.9h3.626V18.062C266.3,21.835,264.05,24.286,260.228,24.286Z"
            transform="translate(-131.102 -3.459)"
          />
          <path
            id="Path_45"
            data-name="Path 45"
            d="M296.906,27.235a6.779,6.779,0,0,1-5.145,2.254,6.861,6.861,0,0,1-5.145-2.254,8.066,8.066,0,0,1-1.715-5.39,8.066,8.066,0,0,1,1.715-5.39,6.779,6.779,0,0,1,5.145-2.254,6.861,6.861,0,0,1,5.145,2.254,8.067,8.067,0,0,1,1.715,5.39A8.067,8.067,0,0,1,296.906,27.235Zm-2.891-9.115a3.151,3.151,0,0,0-4.41-.049l-.049.049a5.436,5.436,0,0,0-1.029,3.675,5.36,5.36,0,0,0,1.029,3.675,3.151,3.151,0,0,0,4.41.049l.049-.049a5.436,5.436,0,0,0,1.029-3.675A5.436,5.436,0,0,0,294.015,18.12Z"
            transform="translate(-146.757 -8.711)"
          />
          <path
            id="Path_46"
            data-name="Path 46"
            d="M328.768,28.993V19.977c0-1.715-.539-2.793-2.4-2.793a2.79,2.79,0,0,0-2.548,1.862,10.66,10.66,0,0,0-.49,3.92v5.978H319.8v-14.7h2.94l.245,1.911A4.831,4.831,0,0,1,327.3,13.9c3.136,0,4.949,2.205,4.949,5.243V28.9l-3.479.1Z"
            transform="translate(-164.555 -8.559)"
          />
          <path
            id="Path_47"
            data-name="Path 47"
            d="M365.127,22.772h-9.8a3.734,3.734,0,0,0,1.078,2.891,3.318,3.318,0,0,0,2.156.931,2.859,2.859,0,0,0,2.156-.686,2.559,2.559,0,0,0,.686-1.225h3.381a5.9,5.9,0,0,1-1.225,2.7,6.279,6.279,0,0,1-4.949,2.058,6.388,6.388,0,0,1-4.655-1.813,7.979,7.979,0,0,1-2.254-5.88,8.247,8.247,0,0,1,2.107-5.88,6.371,6.371,0,0,1,4.7-1.862,6.236,6.236,0,0,1,5.341,2.7,8.276,8.276,0,0,1,1.274,5.1Zm-4.41-5.1a3.029,3.029,0,0,0-2.205-.833,2.941,2.941,0,0,0-2.45,1.127,3.79,3.79,0,0,0-.784,2.254H361.6a3.581,3.581,0,0,0-.882-2.548Z"
            transform="translate(-180.823 -8.609)"
          />
          <path
            id="Path_48"
            data-name="Path 48"
            d="M394.82,27.721a7.024,7.024,0,0,1-5,1.666,6.868,6.868,0,0,1-4.753-1.666,5.01,5.01,0,0,1-1.568-3.43h3.283a2.347,2.347,0,0,0,.784,1.715,3.289,3.289,0,0,0,2.205.637c1.176,0,2.989-.245,2.989-1.862a1.554,1.554,0,0,0-1.47-1.568c-1.323-.2-2.793-.294-4.067-.539a4.1,4.1,0,0,1-3.381-3.92,4.041,4.041,0,0,1,1.519-3.283A6.777,6.777,0,0,1,389.822,14a6.248,6.248,0,0,1,4.606,1.715,4.633,4.633,0,0,1,1.323,3.038H392.37a1.965,1.965,0,0,0-.588-1.372,2.762,2.762,0,0,0-1.911-.686,3.409,3.409,0,0,0-1.519.245,1.65,1.65,0,0,0-1.127,1.568c0,1.029.931,1.372,1.666,1.47,1.323.2,1.666.2,3.136.441,2.3.343,4.018,1.813,4.018,4.116A4.48,4.48,0,0,1,394.82,27.721Z"
            transform="translate(-197.04 -8.609)"
          />
          <path
            id="Path_49"
            data-name="Path 49"
            d="M4.8,81.494V61.5H8.475V81.494Z"
            transform="translate(-3.918 -32.832)"
          />
          <path
            id="Path_50"
            data-name="Path 50"
            d="M30.568,86.7V77.678c0-1.715-.539-2.793-2.4-2.793a2.79,2.79,0,0,0-2.548,1.862,10.66,10.66,0,0,0-.49,3.92v5.978H21.6v-14.6h2.94l.245,1.911A4.831,4.831,0,0,1,29.1,71.7c3.136,0,4.949,2.205,4.949,5.243v9.8Z"
            transform="translate(-12.485 -38.033)"
          />
          <path
            id="Path_51"
            data-name="Path 51"
            d="M64.036,81.086l-.245-1.617a4.747,4.747,0,0,1-4.116,1.96A5.851,5.851,0,0,1,56.1,80.2c-1.764-1.421-2.6-3.626-2.6-6.42,0-2.891.882-5.1,2.646-6.567a5.6,5.6,0,0,1,3.577-1.176,4.971,4.971,0,0,1,3.822,1.372V60.7h3.528V81.086ZM60.41,69.031a2.794,2.794,0,0,0-2.352,1.176,5.705,5.705,0,0,0-.931,3.528,5.854,5.854,0,0,0,.931,3.577,2.924,2.924,0,0,0,2.352,1.176c2.793,0,3.332-2.646,3.332-4.753s-.588-4.7-3.332-4.7Z"
            transform="translate(-28.753 -32.424)"
          />
          <path
            id="Path_52"
            data-name="Path 52"
            d="M90.1,64.426V60.8h3.773v3.626Zm.1,16.71V66.484h3.577V81.137Z"
            transform="translate(-47.417 -32.475)"
          />
          <path
            id="Path_53"
            data-name="Path 53"
            d="M116.312,84.684a6.37,6.37,0,0,1-5,2.3,6.779,6.779,0,0,1-5.1-2.3,8.552,8.552,0,0,1-1.617-5.341A8.26,8.26,0,0,1,106.217,74a6.779,6.779,0,0,1,5.1-2.3,6.3,6.3,0,0,1,5,2.3,5.839,5.839,0,0,1,1.127,3.185H113.96a3.472,3.472,0,0,0-.441-1.372,2.592,2.592,0,0,0-2.254-1.078,2.824,2.824,0,0,0-2.156.931,5.549,5.549,0,0,0-.98,3.724,5.341,5.341,0,0,0,.98,3.675,2.924,2.924,0,0,0,2.156.931,2.592,2.592,0,0,0,2.254-1.078,3.236,3.236,0,0,0,.441-1.372h3.479A5.685,5.685,0,0,1,116.312,84.684Z"
            transform="translate(-54.812 -38.031)"
          />
          <path
            id="Path_54"
            data-name="Path 54"
            d="M148.478,80.472h-9.8a3.734,3.734,0,0,0,1.078,2.891,3.318,3.318,0,0,0,2.156.931,2.859,2.859,0,0,0,2.156-.686,2.56,2.56,0,0,0,.686-1.225h3.381a5.9,5.9,0,0,1-1.225,2.7,6.279,6.279,0,0,1-4.949,2.058,6.191,6.191,0,0,1-4.606-1.813,7.979,7.979,0,0,1-2.254-5.88,8.247,8.247,0,0,1,2.107-5.88,6.371,6.371,0,0,1,4.7-1.862,6.236,6.236,0,0,1,5.341,2.7,8.275,8.275,0,0,1,1.274,5.1S148.478,80.178,148.478,80.472Zm-4.361-5.145a3.029,3.029,0,0,0-2.205-.833,2.941,2.941,0,0,0-2.45,1.127,3.825,3.825,0,0,0-.784,2.3h6.371a4.45,4.45,0,0,0-.931-2.6Z"
            transform="translate(-70.366 -38.033)"
          />
          <path
            id="Path_55"
            data-name="Path 55"
            d="M178.12,85.321a7.024,7.024,0,0,1-5,1.666,6.868,6.868,0,0,1-4.753-1.666,5.01,5.01,0,0,1-1.568-3.43h3.283a2.347,2.347,0,0,0,.784,1.715,3.289,3.289,0,0,0,2.205.637c1.176,0,2.989-.245,2.989-1.862a1.554,1.554,0,0,0-1.47-1.568c-1.323-.2-2.793-.294-4.067-.539a4.1,4.1,0,0,1-3.381-3.92,4.041,4.041,0,0,1,1.519-3.283,6.777,6.777,0,0,1,4.459-1.47,6.248,6.248,0,0,1,4.606,1.715,4.634,4.634,0,0,1,1.323,3.038h-3.332a1.965,1.965,0,0,0-.588-1.372,2.763,2.763,0,0,0-1.911-.686,3.409,3.409,0,0,0-1.519.245,1.649,1.649,0,0,0-1.127,1.568c0,1.029.931,1.372,1.666,1.47,1.323.2,1.666.2,3.136.441,2.3.343,4.018,1.813,4.018,4.116A4.232,4.232,0,0,1,178.12,85.321Z"
            transform="translate(-86.531 -37.982)"
          />
          <path
            id="Path_56"
            data-name="Path 56"
            d="M10.159,151.6l-.637-1.862H5.65L5.013,151.6H3.2l3.43-9.8H8.59l3.43,9.8Zm-2.6-7.6L6.14,148.122H8.982Z"
            transform="translate(-3.102 -73.781)"
          />
          <path
            id="Path_57"
            data-name="Path 57"
            d="M35.767,150.572a3.658,3.658,0,0,1-2.744,1.029H29.2v-9.8h3.822a3.658,3.658,0,0,1,2.744,1.029,5.365,5.365,0,0,1,1.127,3.822A5.613,5.613,0,0,1,35.767,150.572Zm-1.372-6.567a2.012,2.012,0,0,0-1.372-.539H31.013v6.567h2.009a2.012,2.012,0,0,0,1.372-.539,5.831,5.831,0,0,0,0-5.488Z"
            transform="translate(-16.361 -73.781)"
          />
          <path
            id="Path_58"
            data-name="Path 58"
            d="M48.3,143.364V141.6h1.862v1.764Zm.049,8.135v-7.155h1.764v7.2Z"
            transform="translate(-26.101 -73.68)"
          />
          <path
            id="Path_59"
            data-name="Path 59"
            d="M58.759,154.3H56.946L54.3,147.1h1.813l1.813,5.047,1.715-5.047h1.764Z"
            transform="translate(-29.161 -76.484)"
          />
          <path
            id="Path_60"
            data-name="Path 60"
            d="M70.8,143.364V141.6h1.862v1.764Zm.1,8.135v-7.155h1.764v7.2Z"
            transform="translate(-37.575 -73.68)"
          />
          <path
            id="Path_61"
            data-name="Path 61"
            d="M83.337,153.412a3.389,3.389,0,0,1-2.45.833,3.108,3.108,0,0,1-2.3-.833,2.662,2.662,0,0,1-.784-1.666h1.568a1.122,1.122,0,0,0,.392.833,1.49,1.49,0,0,0,1.078.294c.588,0,1.47-.147,1.47-.931a.832.832,0,0,0-.735-.784c-.637-.1-1.372-.147-2.009-.294a1.937,1.937,0,0,1-1.617-1.911,2.024,2.024,0,0,1,.735-1.617,3.4,3.4,0,0,1,2.205-.735,3.2,3.2,0,0,1,2.254.833,2.124,2.124,0,0,1,.637,1.47H82.161a.968.968,0,0,0-.294-.686,1.294,1.294,0,0,0-.931-.343,1.905,1.905,0,0,0-.735.1.813.813,0,0,0-.539.784c0,.49.441.686.833.735.637.1.833.1,1.519.2a2.084,2.084,0,0,1,1.96,2.058A2.333,2.333,0,0,1,83.337,153.412Z"
            transform="translate(-41.145 -76.23)"
          />
          <path
            id="Path_62"
            data-name="Path 62"
            d="M93.6,143.364V141.6h1.862v1.764Zm.049,8.135v-7.155h1.764v7.2Z"
            transform="translate(-49.202 -73.68)"
          />
          <path
            id="Path_63"
            data-name="Path 63"
            d="M106.531,153.227a3.348,3.348,0,0,1-4.753.245c-.1-.1-.2-.147-.245-.245a4.619,4.619,0,0,1,0-5.292,3.348,3.348,0,0,1,4.753-.245c.1.1.2.147.245.245a4.619,4.619,0,0,1,0,5.292Zm-1.372-4.459a1.538,1.538,0,0,0-2.156,0h0a3.6,3.6,0,0,0,0,3.626,1.538,1.538,0,0,0,2.156,0h0a2.734,2.734,0,0,0,.49-1.813,2.815,2.815,0,0,0-.49-1.813Z"
            transform="translate(-52.823 -76.34)"
          />
          <path
            id="Path_64"
            data-name="Path 64"
            d="M122.161,154.151v-4.41c0-.833-.294-1.372-1.176-1.372a1.358,1.358,0,0,0-1.225.931,5.137,5.137,0,0,0-.245,1.911v2.94H117.8v-7.2h1.47l.147.931a2.3,2.3,0,0,1,2.107-1.078,2.367,2.367,0,0,1,2.45,2.548v4.8Z"
            transform="translate(-61.543 -76.332)"
          />
          <path
            id="Path_65"
            data-name="Path 65"
            d="M146.032,153.227a3.348,3.348,0,0,1-4.753.245c-.1-.1-.2-.147-.245-.245a4.619,4.619,0,0,1,0-5.292,3.348,3.348,0,0,1,4.753-.245c.1.1.2.147.245.245a4.619,4.619,0,0,1,0,5.292Zm-1.421-4.459a1.538,1.538,0,0,0-2.156,0h0a3.6,3.6,0,0,0,0,3.626,1.538,1.538,0,0,0,2.156,0h0a2.734,2.734,0,0,0,.49-1.813,2.815,2.815,0,0,0-.49-1.813Z"
            transform="translate(-72.966 -76.34)"
          />
          <path
            id="Path_66"
            data-name="Path 66"
            d="M159.171,142.723a.815.815,0,0,0-.931.882v.686h1.911v1.421H158.24v5.782h-1.715v-5.733H155.3V144.34h1.225v-.686a2.193,2.193,0,0,1,2.45-2.254,6.53,6.53,0,0,1,1.372.147v1.372A3.294,3.294,0,0,0,159.171,142.723Z"
            transform="translate(-80.667 -73.578)"
          />
        </g>
        <g id="Wordmark" data-name="Group 19199">
          <path
            id="Path_67"
            data-name="Path 67"
            d="M181.357,151.266a4.368,4.368,0,0,1-3.087,1.029,4.625,4.625,0,0,1-2.94-.98,3.132,3.132,0,0,1-1.029-2.254h1.813a1.711,1.711,0,0,0,.49,1.176,2.843,2.843,0,0,0,3.332,0,1.339,1.339,0,0,0,.392-.931c0-.735-.539-1.029-1.176-1.176-.686-.147-1.519-.147-2.156-.245a2.7,2.7,0,0,1-2.5-2.744,2.439,2.439,0,0,1,.882-1.911,4.107,4.107,0,0,1,2.842-1.029,4.316,4.316,0,0,1,2.744.931,2.862,2.862,0,0,1,.98,2.107h-1.813a1.972,1.972,0,0,0-.441-.98,2.208,2.208,0,0,0-1.519-.539,2.268,2.268,0,0,0-1.568.539,1.148,1.148,0,0,0-.343.833,1.037,1.037,0,0,0,.98,1.078c.637.1,1.519.147,2.107.245a2.85,2.85,0,0,1,2.7,2.842A2.242,2.242,0,0,1,181.357,151.266Z"
            transform="translate(-90.356 -73.986)"
          />
          <path
            id="Path_68"
            data-name="Path 68"
            d="M199.914,152.1l-.686-.784a4.191,4.191,0,0,1-2.793,1.029,3.02,3.02,0,0,1-3.234-2.94,3.1,3.1,0,0,1,1.715-2.7,2.923,2.923,0,0,1-1.029-2.156,2.436,2.436,0,0,1,2.7-2.45,2.478,2.478,0,0,1,2.7,2.4,3.029,3.029,0,0,1-1.862,2.646l1.715,1.862a2.785,2.785,0,0,0,.245-1.176,10.69,10.69,0,0,0,.049-1.176h2.548v1.372h-1.127a4.769,4.769,0,0,1-.588,2.205c.637.686,1.176,1.323,1.813,1.96Zm-3.969-4.312c-.637.392-1.176.735-1.176,1.568a1.591,1.591,0,0,0,1.764,1.519,2.14,2.14,0,0,0,1.617-.588C197.414,149.4,196.679,148.618,195.944,147.784Zm.637-4.263a.989.989,0,0,0-1.078,1.029c0,.637.539,1.078.931,1.519.588-.343,1.274-.637,1.274-1.47a1.1,1.1,0,0,0-1.127-1.078Z"
            transform="translate(-99.994 -73.936)"
          />
          <path
            id="Path_69"
            data-name="Path 69"
            d="M218.422,148.722h-2.058V152.2H214.6v-9.8h3.822c2.254,0,3.43,1.274,3.43,3.136S220.676,148.722,218.422,148.722Zm-.049-4.7h-2.009V147.2h2.009c1.176,0,1.715-.637,1.715-1.568a1.5,1.5,0,0,0-1.715-1.617Z"
            transform="translate(-110.907 -74.088)"
          />
          <path
            id="Path_70"
            data-name="Path 70"
            d="M241.812,151.5l-.2-1.078a2.91,2.91,0,0,1-2.45,1.274,3.8,3.8,0,0,1-2.891-1.078A5.27,5.27,0,0,1,235,146.647a4.971,4.971,0,0,1,1.274-3.92,4.2,4.2,0,0,1,2.891-1.127,4.072,4.072,0,0,1,2.891,1.127,2.8,2.8,0,0,1,.882,1.96h-1.813a1.52,1.52,0,0,0-.441-.882,2,2,0,0,0-1.568-.588,2.306,2.306,0,0,0-1.617.686,5.544,5.544,0,0,0,0,5.684,2.36,2.36,0,0,0,1.568.637,2.075,2.075,0,0,0,1.47-.588,2.467,2.467,0,0,0,.637-1.911h-2.352v-1.47h4.067V151.6Z"
            transform="translate(-121.311 -73.68)"
          />
          <path
            id="Path_71"
            data-name="Path 71"
            d="M257.06,151.546a1.744,1.744,0,0,1-1.96-1.911V141.5h1.715v7.841c0,.392.1.686.686.686h.294v1.47A3.71,3.71,0,0,1,257.06,151.546Z"
            transform="translate(-131.561 -73.629)"
          />
          <path
            id="Path_72"
            data-name="Path 72"
            d="M268.431,153.227a3.348,3.348,0,0,1-4.753.245c-.1-.1-.2-.147-.245-.245a4.619,4.619,0,0,1,0-5.292,3.348,3.348,0,0,1,4.753-.245c.1.1.2.147.245.245a4.619,4.619,0,0,1,0,5.292Zm-1.421-4.459a1.538,1.538,0,0,0-2.156,0h0a3.6,3.6,0,0,0,0,3.626,1.538,1.538,0,0,0,2.156,0h0a2.734,2.734,0,0,0,.49-1.813,2.814,2.814,0,0,0-.49-1.813Z"
            transform="translate(-135.385 -76.34)"
          />
          <path
            id="Path_73"
            data-name="Path 73"
            d="M284.941,151.107a2.524,2.524,0,0,1-1.715.588,2.4,2.4,0,0,1-2.009-.931l-.1.784H279.6V141.6h1.715v3.332a2.51,2.51,0,0,1,1.862-.686,2.833,2.833,0,0,1,1.764.588,4.5,4.5,0,0,1,0,6.273Zm-.931-4.949a1.535,1.535,0,0,0-1.176-.588c-1.372,0-1.617,1.274-1.617,2.3a2.713,2.713,0,0,0,.637,1.96,1.545,1.545,0,0,0,2.156-.2v-.049a3.059,3.059,0,0,0,.441-1.764,2.454,2.454,0,0,0-.441-1.666Z"
            transform="translate(-144.055 -73.68)"
          />
          <path
            id="Path_74"
            data-name="Path 74"
            d="M301.228,154.4a1.155,1.155,0,0,1-1.225-.98A2.551,2.551,0,0,1,297.8,154.5a2.27,2.27,0,1,1-.147-4.508l2.107-.147V149.4c0-.686-.245-1.127-1.225-1.127-.784,0-1.274.343-1.323,1.029h-1.617c.1-1.617,1.372-2.3,2.989-2.3a2.621,2.621,0,0,1,2.7,1.47,3.573,3.573,0,0,1,.2,1.47v2.646c0,.343.1.441.392.441a.442.442,0,0,0,.245-.049v1.274A2.562,2.562,0,0,1,301.228,154.4Zm-1.421-3.332-1.813.147c-.539.049-1.029.343-1.029.931a.948.948,0,0,0,1.029.882,1.6,1.6,0,0,0,1.813-1.617v-.343Z"
            transform="translate(-152.01 -76.434)"
          />
          <path
            id="Path_75"
            data-name="Path 75"
            d="M314.26,151.546a1.744,1.744,0,0,1-1.96-1.911V141.5h1.715v7.841c0,.392.1.686.686.686H315v1.47A3.71,3.71,0,0,1,314.26,151.546Z"
            transform="translate(-160.73 -73.629)"
          />
        </g>
        <g id="Bar" data-name="Group 19200">
          <rect
            id="Rectangle_1366"
            data-name="Rectangle 1366"
            width="69.194"
            height="1.666"
            transform="translate(83.944 63.412)"
          />
        </g>
      </svg>
      <!-- Market Intelligence -->
      <svg
        id="spg_market_intelligence"
        xmlns="http://www.w3.org/2000/svg"
        width="285.988"
        height="78.161"
        viewBox="0 0 285.988 78.161"
      >
        <path
          id="Name"
          d="M23.484,121.961V100.84l-8.625,20.778H13.34L4.715,100.987v20.974H3V98.341H5.45l8.723,20.974,8.576-20.974H25.2v23.62Zm22.395,0c-.2.049-.343.049-.392.1h-.392a3.278,3.278,0,0,1-1.274-.245,2.021,2.021,0,0,1-.833-.735,2.377,2.377,0,0,1-.392-1.029,4.971,4.971,0,0,1-.1-1.225,5.538,5.538,0,0,1-.931,1.568,5.348,5.348,0,0,1-1.421,1.127,7.381,7.381,0,0,1-1.715.686,8.513,8.513,0,0,1-1.911.245,6.79,6.79,0,0,1-2.254-.343,5.468,5.468,0,0,1-1.813-1.029,4.433,4.433,0,0,1-1.225-1.617,5.14,5.14,0,0,1-.441-2.156,4.433,4.433,0,0,1,1.568-3.528,7.369,7.369,0,0,1,4.067-1.47l6.126-.441v-1.617a3.335,3.335,0,0,0-1.225-2.94,5.272,5.272,0,0,0-3.136-.882,5.921,5.921,0,0,0-3.332.882,3.437,3.437,0,0,0-1.47,2.744H31.716a5.723,5.723,0,0,1,.637-2.254,4.839,4.839,0,0,1,1.372-1.617,6.8,6.8,0,0,1,1.96-1.029,7.906,7.906,0,0,1,2.5-.343,10.579,10.579,0,0,1,1.715.147,5.711,5.711,0,0,1,1.617.539,5.22,5.22,0,0,1,1.372.931,4.443,4.443,0,0,1,.931,1.47,4.291,4.291,0,0,1,.343,1.568c.049.539.049,1.078.049,1.617v7.6a3.128,3.128,0,0,0,.2,1.323,1.1,1.1,0,0,0,1.078.49,1.511,1.511,0,0,0,.49-.049v1.519h-.1Zm-3.43-8.576-5.979.343a5.136,5.136,0,0,0-2.94,1.029,2.966,2.966,0,0,0-1.078,2.45,3.192,3.192,0,0,0,1.176,2.7,4.813,4.813,0,0,0,2.989.882,5.758,5.758,0,0,0,2.7-.588,5.02,5.02,0,0,0,1.813-1.519,5.638,5.638,0,0,0,1.029-2.107,7.907,7.907,0,0,0,.343-2.4l-.049-.784Zm16.906-6.469c-.245-.049-.539-.1-.833-.147-.294,0-.539-.049-.833-.049a4.522,4.522,0,0,0-4.214,2.3,7.051,7.051,0,0,0-.833,2.352,15.526,15.526,0,0,0-.245,2.6v7.988H50.73V105.3H52.2l.2,3.381a4.86,4.86,0,0,1,2.058-2.646,6.169,6.169,0,0,1,3.234-.882h.833a4.83,4.83,0,0,1,.833.1S59.355,106.917,59.355,106.917Zm16.024,15.044-5.88-8.87-4.361,4.753v4.116H63.422V97.9h1.715v17.543L74.5,105.3H76.6l-5.88,6.42,6.714,10.242Zm18.573-7.939H81.211a8.372,8.372,0,0,0,1.715,5,6.206,6.206,0,0,0,1.666,1.323,5.571,5.571,0,0,0,2.352.49,4.8,4.8,0,0,0,3.626-1.47,4.087,4.087,0,0,0,.784-1.029,5.288,5.288,0,0,0,.49-1.323H93.56a5.188,5.188,0,0,1-.686,1.96A7.715,7.715,0,0,1,91.7,120.54a6.723,6.723,0,0,1-4.753,1.96,6.677,6.677,0,0,1-3.087-.686,7.024,7.024,0,0,1-2.205-1.715,7.8,7.8,0,0,1-1.568-2.793,11.576,11.576,0,0,1-.539-3.528,12.689,12.689,0,0,1,.343-3.087,7.5,7.5,0,0,1,1.323-2.842,7.045,7.045,0,0,1,8.723-2.205,7.211,7.211,0,0,1,2.254,1.764,8.843,8.843,0,0,1,1.421,2.6,9.177,9.177,0,0,1,.49,3.038ZM92.285,112.5a7.331,7.331,0,0,0-.392-2.3,5.239,5.239,0,0,0-1.078-1.911,5.184,5.184,0,0,0-1.715-1.372,4.907,4.907,0,0,0-2.254-.49,5.184,5.184,0,0,0-2.352.49,5.957,5.957,0,0,0-1.764,1.323,6.161,6.161,0,0,0-1.127,1.911,7.4,7.4,0,0,0-.392,2.352Zm14.407,9.311c-.49.1-.931.2-1.372.294a6.471,6.471,0,0,1-1.372.1,3.812,3.812,0,0,1-3.332-1.372,5.9,5.9,0,0,1-.98-3.528V106.819H96.3V105.3h3.332v-4.606l1.666-.392v5h5.145v1.519H101.3v10.438a12.049,12.049,0,0,0,.1,1.372,3.558,3.558,0,0,0,.441,1.078,1.914,1.914,0,0,0,.833.686,3.619,3.619,0,0,0,1.372.245,12.017,12.017,0,0,0,1.323-.1c.441-.049.882-.147,1.323-.2v1.47Zm11.908.147V98.341h1.764v23.62Zm20.19,0V111.082a5.245,5.245,0,0,0-.98-3.381,4.057,4.057,0,0,0-3.283-1.176,4.751,4.751,0,0,0-2.6.637,4.534,4.534,0,0,0-1.715,1.617,6.894,6.894,0,0,0-.931,2.3,11.407,11.407,0,0,0-.294,2.6v8.331h-1.666V105.349h1.47l.2,3.038a4.764,4.764,0,0,1,.931-1.421,4.955,4.955,0,0,1,1.372-1.078,5.956,5.956,0,0,1,1.617-.686,7.238,7.238,0,0,1,1.715-.245,5.623,5.623,0,0,1,4.361,1.617,6.44,6.44,0,0,1,1.47,4.459v10.928Zm15.828-.147c-.49.1-.931.2-1.372.294a6.47,6.47,0,0,1-1.372.1,3.812,3.812,0,0,1-3.332-1.372,5.9,5.9,0,0,1-.98-3.528V106.819H144.23V105.3h3.332v-4.606l1.666-.392v5h5.145v1.519h-5.145v10.438a12.045,12.045,0,0,0,.1,1.372,3.558,3.558,0,0,0,.441,1.078,1.914,1.914,0,0,0,.833.686,3.619,3.619,0,0,0,1.372.245,12.017,12.017,0,0,0,1.323-.1c.441-.049.882-.147,1.323-.2v1.47Zm17.1-7.792H158.98a8.372,8.372,0,0,0,1.715,5,6.207,6.207,0,0,0,1.666,1.323,5.571,5.571,0,0,0,2.352.49,4.8,4.8,0,0,0,3.626-1.47,4.088,4.088,0,0,0,.784-1.029,5.288,5.288,0,0,0,.49-1.323h1.715a5.189,5.189,0,0,1-.686,1.96,7.715,7.715,0,0,1-1.176,1.568,6.723,6.723,0,0,1-4.753,1.96,6.677,6.677,0,0,1-3.087-.686,7.025,7.025,0,0,1-2.205-1.715,7.8,7.8,0,0,1-1.568-2.793,11.576,11.576,0,0,1-.539-3.528,12.689,12.689,0,0,1,.343-3.087,7.5,7.5,0,0,1,1.323-2.842,7.045,7.045,0,0,1,8.723-2.205,7.211,7.211,0,0,1,2.254,1.764,8.842,8.842,0,0,1,1.421,2.6,9.177,9.177,0,0,1,.49,3.038Zm-1.666-1.519a7.332,7.332,0,0,0-.392-2.3,5.239,5.239,0,0,0-1.078-1.911,5.184,5.184,0,0,0-1.715-1.372,4.907,4.907,0,0,0-2.254-.49,5.184,5.184,0,0,0-2.352.49,5.957,5.957,0,0,0-1.764,1.323,6.16,6.16,0,0,0-1.127,1.911,7.4,7.4,0,0,0-.392,2.352Zm11.418,9.458c-.2.049-.392.1-.637.147a4.764,4.764,0,0,1-.882.049,3.364,3.364,0,0,1-2.45-.833,3.642,3.642,0,0,1-.882-2.7V97.9h1.666v20.631a2.445,2.445,0,0,0,.343,1.421,1.511,1.511,0,0,0,1.421.588h.784a3.013,3.013,0,0,0,.637-.049v1.47Zm9.262,0c-.2.049-.392.1-.637.147a4.764,4.764,0,0,1-.882.049,3.364,3.364,0,0,1-2.45-.833,3.642,3.642,0,0,1-.882-2.7V97.9h1.666v20.631a2.445,2.445,0,0,0,.343,1.421,1.511,1.511,0,0,0,1.421.588h.784a3.014,3.014,0,0,0,.637-.049v1.47Zm4.459-21.268V98.341h2.352v2.352Zm.294,21.268V105.3h1.764v16.661Zm22.395,2.5a4.2,4.2,0,0,1-.343,1.764,4.526,4.526,0,0,1-.931,1.372,5.9,5.9,0,0,1-2.842,1.519,15.615,15.615,0,0,1-3.773.441,13.379,13.379,0,0,1-3.528-.441,5.875,5.875,0,0,1-2.7-1.519,3.916,3.916,0,0,1-.882-1.323,4.66,4.66,0,0,1-.294-1.715,4.192,4.192,0,0,1,.686-2.254,4.121,4.121,0,0,1,1.813-1.617,2.9,2.9,0,0,1-1.47-1.078,2.832,2.832,0,0,1-.637-1.666,3.058,3.058,0,0,1,.539-1.813,4.872,4.872,0,0,1,1.47-1.323,6.327,6.327,0,0,1-1.225-1.764,5.848,5.848,0,0,1-.441-2.3,5.4,5.4,0,0,1,.49-2.4,6.413,6.413,0,0,1,1.323-1.862,6.524,6.524,0,0,1,1.96-1.176,8.018,8.018,0,0,1,2.45-.392,7.188,7.188,0,0,1,3.92,1.127,3.085,3.085,0,0,1,1.274-1.666,3.857,3.857,0,0,1,2.058-.588.622.622,0,0,1,.294.049c.1,0,.2.049.294.049V105.3a.621.621,0,0,1-.294-.049.622.622,0,0,0-.294-.049,2.266,2.266,0,0,0-1.519.49,2.028,2.028,0,0,0-.784,1.323,5.16,5.16,0,0,1,.98,1.666,5.675,5.675,0,0,1,.343,2.058,5.615,5.615,0,0,1-.49,2.45A5.084,5.084,0,0,1,213.963,115a5.771,5.771,0,0,1-2.009,1.127,8.018,8.018,0,0,1-2.45.392,6.83,6.83,0,0,1-3.332-.784,3.8,3.8,0,0,0-1.176.784,1.735,1.735,0,0,0-.49,1.274,1.335,1.335,0,0,0,.343.98,2.563,2.563,0,0,0,.833.588,3.581,3.581,0,0,0,1.127.2,9.455,9.455,0,0,0,1.127.049h3.626A9.957,9.957,0,0,1,214.4,120a4.815,4.815,0,0,1,2.058,1.225,4.659,4.659,0,0,1,.98,1.372A3.612,3.612,0,0,1,217.883,124.46Zm-1.666,0a2.677,2.677,0,0,0-.2-1.176,2.781,2.781,0,0,0-.588-.882c-.784-.833-2.107-1.225-4.018-1.225H207a3.834,3.834,0,0,0-1.911,1.127,3.035,3.035,0,0,0-.833,2.3,2.961,2.961,0,0,0,.245,1.176,3.271,3.271,0,0,0,1.666,1.568,11.823,11.823,0,0,0,1.225.392,12.312,12.312,0,0,0,1.323.2,11.94,11.94,0,0,0,1.323.049,13.3,13.3,0,0,0,1.372-.049c.49-.049.98-.1,1.47-.2a6.413,6.413,0,0,0,1.372-.441,3.59,3.59,0,0,0,1.127-.784,4.077,4.077,0,0,0,.637-.882A4.211,4.211,0,0,0,216.217,124.46Zm-1.96-13.77a4.278,4.278,0,0,0-.343-1.813,4.659,4.659,0,0,0-.98-1.372,3.691,3.691,0,0,0-1.47-.882,5.738,5.738,0,0,0-3.626,0,3.691,3.691,0,0,0-1.47.882,4.659,4.659,0,0,0-.98,1.372,4.964,4.964,0,0,0,0,3.626,3.915,3.915,0,0,0,.98,1.372,4.273,4.273,0,0,0,1.47.833,5.737,5.737,0,0,0,3.626,0,4.273,4.273,0,0,0,1.47-.833,4.1,4.1,0,0,0,.98-1.372A5.193,5.193,0,0,0,214.257,110.69Zm20.141,3.332H221.656a8.372,8.372,0,0,0,1.715,5,6.207,6.207,0,0,0,1.666,1.323,5.571,5.571,0,0,0,2.352.49,4.8,4.8,0,0,0,3.626-1.47,4.087,4.087,0,0,0,.784-1.029,5.287,5.287,0,0,0,.49-1.323h1.715a5.188,5.188,0,0,1-.686,1.96,7.715,7.715,0,0,1-1.176,1.568,6.723,6.723,0,0,1-4.753,1.96,6.677,6.677,0,0,1-3.087-.686A7.025,7.025,0,0,1,222.1,120.1a7.8,7.8,0,0,1-1.568-2.793,11.576,11.576,0,0,1-.539-3.528,12.689,12.689,0,0,1,.343-3.087,7.5,7.5,0,0,1,1.323-2.842,7.045,7.045,0,0,1,8.723-2.205,7.211,7.211,0,0,1,2.254,1.764,8.843,8.843,0,0,1,1.421,2.6,9.177,9.177,0,0,1,.49,3.038Zm-1.666-1.519a7.331,7.331,0,0,0-.392-2.3,5.238,5.238,0,0,0-1.078-1.911,5.184,5.184,0,0,0-1.715-1.372,4.907,4.907,0,0,0-2.254-.49,5.184,5.184,0,0,0-2.352.49,5.957,5.957,0,0,0-1.764,1.323,6.16,6.16,0,0,0-1.127,1.911,7.4,7.4,0,0,0-.392,2.352Zm18.181,9.458V111.082a5.245,5.245,0,0,0-.98-3.381,4.057,4.057,0,0,0-3.283-1.176,4.751,4.751,0,0,0-2.6.637,4.534,4.534,0,0,0-1.715,1.617,6.9,6.9,0,0,0-.931,2.3,11.407,11.407,0,0,0-.294,2.6v8.331h-1.666V105.349h1.47l.2,3.038a4.763,4.763,0,0,1,.931-1.421,4.955,4.955,0,0,1,1.372-1.078,5.956,5.956,0,0,1,1.617-.686,7.238,7.238,0,0,1,1.715-.245,5.623,5.623,0,0,1,4.361,1.617,6.44,6.44,0,0,1,1.47,4.459v10.928Zm20.19-5.243a6.1,6.1,0,0,1-.735,2.254,5.7,5.7,0,0,1-1.421,1.813,6.149,6.149,0,0,1-1.96,1.176,6.53,6.53,0,0,1-2.4.441,7.276,7.276,0,0,1-2.793-.539,6.392,6.392,0,0,1-2.107-1.421,7.039,7.039,0,0,1-1.813-2.989,13.822,13.822,0,0,1,0-7.645,7.039,7.039,0,0,1,1.813-2.989,6.734,6.734,0,0,1,4.9-1.96,7.474,7.474,0,0,1,2.4.392,6.019,6.019,0,0,1,1.96,1.127,6.1,6.1,0,0,1,1.372,1.764,7,7,0,0,1,.686,2.3h-1.715a4.565,4.565,0,0,0-4.7-3.969,5.571,5.571,0,0,0-2.107.392,4.841,4.841,0,0,0-1.568,1.029,6.04,6.04,0,0,0-1.47,2.6,14.065,14.065,0,0,0,0,6.175,5.931,5.931,0,0,0,1.47,2.646,4.834,4.834,0,0,0,3.675,1.421,4.489,4.489,0,0,0,3.185-1.176,5.12,5.12,0,0,0,1.568-2.891H271.1Zm17.74-2.7H276.1a8.372,8.372,0,0,0,1.715,5,6.205,6.205,0,0,0,1.666,1.323,5.571,5.571,0,0,0,2.352.49,4.8,4.8,0,0,0,3.626-1.47,4.088,4.088,0,0,0,.784-1.029,5.288,5.288,0,0,0,.49-1.323h1.715a5.189,5.189,0,0,1-.686,1.96,7.717,7.717,0,0,1-1.176,1.568,6.723,6.723,0,0,1-4.753,1.96,6.677,6.677,0,0,1-3.087-.686,7.025,7.025,0,0,1-2.205-1.715,7.8,7.8,0,0,1-1.568-2.793,11.575,11.575,0,0,1-.539-3.528,12.691,12.691,0,0,1,.343-3.087,7.505,7.505,0,0,1,1.323-2.842,7.045,7.045,0,0,1,8.723-2.205,7.212,7.212,0,0,1,2.254,1.764A8.843,8.843,0,0,1,288.5,110a9.177,9.177,0,0,1,.49,3.038Zm-1.666-1.519a7.333,7.333,0,0,0-.392-2.3,5.239,5.239,0,0,0-1.078-1.911,5.184,5.184,0,0,0-1.715-1.372,4.907,4.907,0,0,0-2.254-.49,5.184,5.184,0,0,0-2.352.49,5.957,5.957,0,0,0-1.764,1.323,6.161,6.161,0,0,0-1.127,1.911,7.4,7.4,0,0,0-.392,2.352Z"
          transform="translate(-3 -51.395)"
        />
        <path
          id="Wordmark"
          d="M21.573,42.21a6.9,6.9,0,0,1-1.911,4.851c-1.813,1.813-4.459,2.4-6.91,2.5A10.774,10.774,0,0,1,5.4,47.111,7.276,7.276,0,0,1,3,41.72H7.312a3.892,3.892,0,0,0,1.225,2.842,5.3,5.3,0,0,0,3.969,1.225,5.388,5.388,0,0,0,3.92-1.225c1.029-1.127,1.421-3.136,0-4.165-1.421-1.078-3.479-1.029-5.194-1.176a10.318,10.318,0,0,1-5.1-1.519,6.161,6.161,0,0,1-2.5-4.312A6.637,6.637,0,0,1,5.6,28a9.536,9.536,0,0,1,6.518-2.45A9.605,9.605,0,0,1,18.877,27.8a7.092,7.092,0,0,1,2.352,4.949H16.917a3.814,3.814,0,0,0-1.029-2.3,4.9,4.9,0,0,0-3.626-1.225A4.981,4.981,0,0,0,8.586,30.5a2.61,2.61,0,0,0,.49,4.116,7.958,7.958,0,0,0,2.646.539c.98.1,1.911.2,2.891.294a8.91,8.91,0,0,1,5,2.058A6.179,6.179,0,0,1,21.573,42.21ZM39.8,49.12l-1.617-1.862a9.668,9.668,0,0,1-10.242,1.617,6.876,6.876,0,0,1-3.626-8.527,8.563,8.563,0,0,1,3.724-4.067c-1.568-1.666-2.7-3.479-2.45-5.831a5.658,5.658,0,0,1,3.577-4.557,7.621,7.621,0,0,1,6.518.539,5.4,5.4,0,0,1,2.548,5.243c-.2,2.646-2.205,4.41-4.361,5.635l4.018,4.361a7.959,7.959,0,0,0,.588-2.842,27.506,27.506,0,0,0,.049-2.842h5.978v3.234h-2.7a10.091,10.091,0,0,1-1.421,5.194l4.263,4.655L39.8,49.12Zm-9.36-10.242c-1.078.686-2.254,1.372-2.646,2.7A3.533,3.533,0,0,0,28.629,45c1.715,1.764,5.439,1.568,7.057-.245Zm4.067-7.547a2.315,2.315,0,0,0-1.372-2.254,3.009,3.009,0,0,0-2.94.294,2.355,2.355,0,0,0-.735,2.646,7.126,7.126,0,0,0,2.058,2.744C32.941,33.978,34.51,33.145,34.51,31.331Zm30.579,2.009a7.189,7.189,0,0,1-2.3,5.586,8.983,8.983,0,0,1-5.88,1.862H52v8.282H47.839V25.941H56.9a9.314,9.314,0,0,1,5.88,1.813A7.027,7.027,0,0,1,65.088,33.341Zm-4.214.049A3.774,3.774,0,0,0,59.7,30.5a4.453,4.453,0,0,0-2.94-.882H52v7.5h4.753a4.2,4.2,0,0,0,2.94-.882A3.74,3.74,0,0,0,60.874,33.39ZM89.835,49.071l-.49-2.548c-1.127,2.156-3.92,3.038-6.175,2.989a8.753,8.753,0,0,1-6.518-2.6c-2.45-2.548-2.989-6.028-2.989-9.409s.49-6.812,2.989-9.311c3.528-3.528,10.193-3.724,13.77-.049A7.313,7.313,0,0,1,92.53,32.8H88.218a3.891,3.891,0,0,0-1.029-2.107c-1.813-2.107-5.684-1.764-7.5.147-1.666,1.764-1.813,4.459-1.813,6.763,0,2.254.2,4.949,1.813,6.665a5.294,5.294,0,0,0,7.2.147,6.039,6.039,0,0,0,1.519-4.508H82.877V36.428h9.6V49.12l-2.646-.049Zm12.937-.049a6.12,6.12,0,0,1-4.557-.441,4.226,4.226,0,0,1-1.862-3.92V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.38,3.38,0,0,0,1.715.147v3.381Zm17.3-8.429a9.623,9.623,0,0,1-2.009,6.273,8.021,8.021,0,0,1-11.908,0,10.587,10.587,0,0,1,0-12.545,8.021,8.021,0,0,1,11.908,0A9.622,9.622,0,0,1,120.071,40.593Zm-4.116,0a6.012,6.012,0,0,0-1.225-4.263,3.638,3.638,0,0,0-5.145,0,6.255,6.255,0,0,0-1.225,4.263,6.012,6.012,0,0,0,1.225,4.263,3.638,3.638,0,0,0,5.145,0A6.012,6.012,0,0,0,115.954,40.593Zm22.983.049c0,2.793-.833,5.635-3.038,7.4-2.45,2.058-7.057,2.058-8.87-.833l-.245,1.862h-3.528V25.5h4.067v7.841a5.471,5.471,0,0,1,4.067-1.666,6.432,6.432,0,0,1,4.508,1.372C137.908,34.713,138.937,37.261,138.937,40.642Zm-4.165-.1a6.765,6.765,0,0,0-1.078-4.116,3.672,3.672,0,0,0-3.43-1.274,3.575,3.575,0,0,0-2.7,2.3,9.938,9.938,0,0,0-.441,4.165,5.3,5.3,0,0,0,1.421,3.577,3.617,3.617,0,0,0,5.145-.49A6.59,6.59,0,0,0,134.772,40.544Zm22.3,8.331c-1.862.833-4.655.588-4.9-1.911-1.519,2.7-5.586,3.136-8.135,1.96a5.206,5.206,0,0,1-2.058-7.939,6.516,6.516,0,0,1,4.655-2.156l5-.343V37.457a2.876,2.876,0,0,0-.784-2.156,3.33,3.33,0,0,0-1.911-.539c-1.617-.049-3.185.588-3.283,2.4h-3.969a5.6,5.6,0,0,1,1.911-4.018,7.55,7.55,0,0,1,4.214-1.47c2.842-.245,6.175.49,7.3,3.43a8.969,8.969,0,0,1,.49,3.43v6.322c0,.735.49,1.323,1.323,1.029a.18.18,0,0,0,.147-.049Zm-5.439-7.351-4.312.343a2.473,2.473,0,0,0-2.45,2.009,2.2,2.2,0,0,0,2.058,2.352,4.725,4.725,0,0,0,3.332-.882,3.652,3.652,0,0,0,1.323-2.989l.049-.833Zm14.407,7.5a6,6,0,0,1-4.606-.49,4.26,4.26,0,0,1-1.813-3.871V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.426,3.426,0,0,0,1.715.147Z"
          transform="translate(-3 -14.425)"
          fill="#d6002a"
        />
        <rect
          id="Bar"
          width="163.037"
          height="4.165"
          transform="translate(0 0)"
        />
      </svg>
      <!-- Mobility -->
      <svg
        id="spg_mobility"
        xmlns="http://www.w3.org/2000/svg"
        width="163.086"
        height="77.525"
        viewBox="0 0 163.086 77.525"
      >
        <path
          id="Wordmark"
          d="M21.673,42.161a6.9,6.9,0,0,1-1.911,4.851c-1.813,1.813-4.459,2.4-6.91,2.5a10.422,10.422,0,0,1-7.351-2.4,7.276,7.276,0,0,1-2.4-5.39H7.412a3.892,3.892,0,0,0,1.225,2.842,5.3,5.3,0,0,0,3.969,1.225,5.388,5.388,0,0,0,3.92-1.225c1.029-1.127,1.421-3.136,0-4.165-1.421-1.078-3.479-1.029-5.194-1.176a10.318,10.318,0,0,1-5.1-1.519,6.161,6.161,0,0,1-2.5-4.312A6.637,6.637,0,0,1,5.7,28a9.536,9.536,0,0,1,6.518-2.45A9.605,9.605,0,0,1,18.977,27.8a7.092,7.092,0,0,1,2.352,4.949H17.017a3.814,3.814,0,0,0-1.029-2.3,4.9,4.9,0,0,0-3.626-1.225A4.981,4.981,0,0,0,8.686,30.5a2.61,2.61,0,0,0,.49,4.116,7.958,7.958,0,0,0,2.646.539c.98.1,1.911.2,2.891.294a8.91,8.91,0,0,1,5,2.058A6.146,6.146,0,0,1,21.673,42.161ZM39.9,49.12l-1.617-1.862a9.668,9.668,0,0,1-10.242,1.617,6.876,6.876,0,0,1-3.626-8.527,8.564,8.564,0,0,1,3.724-4.067c-1.568-1.666-2.7-3.479-2.45-5.831a5.658,5.658,0,0,1,3.577-4.557,7.621,7.621,0,0,1,6.518.539,5.4,5.4,0,0,1,2.548,5.243c-.2,2.646-2.205,4.41-4.361,5.635l4.018,4.361a7.959,7.959,0,0,0,.588-2.842,27.506,27.506,0,0,0,.049-2.842h5.978v3.234h-2.7a10.091,10.091,0,0,1-1.421,5.194l4.263,4.655L39.9,49.12Zm-9.36-10.242c-1.078.686-2.254,1.372-2.646,2.7A3.533,3.533,0,0,0,28.729,45c1.715,1.764,5.439,1.568,7.057-.245Zm4.018-7.547a2.315,2.315,0,0,0-1.372-2.254,3.009,3.009,0,0,0-2.94.294,2.355,2.355,0,0,0-.735,2.646,7.126,7.126,0,0,0,2.058,2.744C32.992,33.978,34.561,33.145,34.561,31.331Zm30.628,2.009a7.188,7.188,0,0,1-2.3,5.586,8.937,8.937,0,0,1-5.831,1.862h-4.9v8.282H47.988V25.941h9.066a9.087,9.087,0,0,1,5.831,1.813A7.189,7.189,0,0,1,65.188,33.341Zm-4.263.049A3.774,3.774,0,0,0,59.749,30.5a4.453,4.453,0,0,0-2.94-.882H52.055v7.5h4.753a4.2,4.2,0,0,0,2.94-.882A3.74,3.74,0,0,0,60.925,33.39Zm29.01,15.681-.49-2.548c-1.127,2.156-3.92,3.038-6.175,2.989a8.753,8.753,0,0,1-6.518-2.6c-2.45-2.548-2.989-6.028-2.989-9.409s.49-6.812,2.989-9.311c3.528-3.528,10.193-3.724,13.77-.049A7.313,7.313,0,0,1,92.63,32.8H88.318a3.891,3.891,0,0,0-1.029-2.107c-1.813-2.107-5.684-1.764-7.5.147-1.666,1.764-1.813,4.459-1.813,6.763,0,2.254.2,4.949,1.813,6.665a5.294,5.294,0,0,0,7.2.147,6.245,6.245,0,0,0,1.519-4.508H82.977V36.428h9.6V49.12C92.63,49.071,89.935,49.071,89.935,49.071Zm12.888-.049a6.12,6.12,0,0,1-4.557-.441,4.226,4.226,0,0,1-1.862-3.92V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.426,3.426,0,0,0,1.715.147v3.381Zm17.347-8.429a9.623,9.623,0,0,1-2.009,6.273,8.021,8.021,0,0,1-11.908,0,10.587,10.587,0,0,1,0-12.545,8.021,8.021,0,0,1,11.908,0A9.623,9.623,0,0,1,120.171,40.593Zm-4.165,0a6.012,6.012,0,0,0-1.225-4.263,3.638,3.638,0,0,0-5.145,0,6.255,6.255,0,0,0-1.225,4.263,6.012,6.012,0,0,0,1.225,4.263,3.638,3.638,0,0,0,5.145,0A6.012,6.012,0,0,0,116.005,40.593Zm22.983.049c0,2.793-.784,5.635-3.038,7.4-2.45,2.058-7.057,2.058-8.87-.833l-.245,1.862h-3.528V25.5h4.067v7.841a5.471,5.471,0,0,1,4.067-1.666,6.5,6.5,0,0,1,4.508,1.372C138.008,34.713,138.988,37.261,138.988,40.642Zm-4.116-.1a6.765,6.765,0,0,0-1.078-4.116,3.672,3.672,0,0,0-3.43-1.274,3.575,3.575,0,0,0-2.7,2.3,9.938,9.938,0,0,0-.441,4.165,5.3,5.3,0,0,0,1.421,3.577,3.617,3.617,0,0,0,5.145-.49A6.913,6.913,0,0,0,134.872,40.544Zm22.248,8.331c-1.862.833-4.655.588-4.9-1.911-1.519,2.7-5.586,3.136-8.135,1.96a5.206,5.206,0,0,1-2.058-7.939,6.516,6.516,0,0,1,4.655-2.156l5-.343V37.457A2.876,2.876,0,0,0,150.9,35.3a3.33,3.33,0,0,0-1.911-.539c-1.617-.049-3.185.588-3.283,2.4h-3.969a5.6,5.6,0,0,1,1.911-4.018,7.55,7.55,0,0,1,4.214-1.47c2.842-.245,6.175.49,7.3,3.43a8.969,8.969,0,0,1,.49,3.43v6.322c0,.735.49,1.323,1.323,1.029a.18.18,0,0,0,.147-.049v3.038Zm-5.439-7.351-4.312.343a2.473,2.473,0,0,0-2.45,2.009,2.2,2.2,0,0,0,2.058,2.352,4.918,4.918,0,0,0,3.381-.882,3.652,3.652,0,0,0,1.323-2.989v-.833Zm14.407,7.5a6.005,6.005,0,0,1-4.606-.49,4.26,4.26,0,0,1-1.813-3.871V25.451h4.116V44.024a1.632,1.632,0,0,0,.588,1.47,3.426,3.426,0,0,0,1.715.147v3.381Z"
          transform="translate(-3.051 -14.425)"
          fill="#d6002a"
        />
        <rect
          id="Bar"
          width="163.037"
          height="4.165"
          transform="translate(0.049 0)"
        />
        <g id="Name" data-name="Group 19190" transform="translate(0 46.505)">
          <path
            id="Path_76"
            data-name="Path 76"
            d="M23.484,122.42V101.3l-8.625,20.778H13.34L4.715,101.446V122.42H3V98.8H5.45l8.723,20.974L22.749,98.8H25.2v23.62Z"
            transform="translate(-3 -98.359)"
          />
          <path
            id="Path_77"
            data-name="Path 77"
            d="M73.307,120.821a13.088,13.088,0,0,1-.539,3.822,7.563,7.563,0,0,1-1.813,2.989,6.72,6.72,0,0,1-2.058,1.421,6.327,6.327,0,0,1-2.793.588,6.48,6.48,0,0,1-2.793-.588,6.4,6.4,0,0,1-2.058-1.421,7.038,7.038,0,0,1-1.813-2.989,13.821,13.821,0,0,1,0-7.645,7.563,7.563,0,0,1,1.813-2.989,6.721,6.721,0,0,1,2.058-1.421A6.327,6.327,0,0,1,66.1,112a6.48,6.48,0,0,1,2.793.588,6.4,6.4,0,0,1,2.058,1.421A7.038,7.038,0,0,1,72.768,117,13.088,13.088,0,0,1,73.307,120.821Zm-1.715,0a12.689,12.689,0,0,0-.343-3.087,5.687,5.687,0,0,0-1.519-2.6,5.941,5.941,0,0,0-1.568-1.078,5.859,5.859,0,0,0-4.214,0,4.976,4.976,0,0,0-1.568,1.078,6.157,6.157,0,0,0-1.519,2.6,12.159,12.159,0,0,0-.343,3.087,12.69,12.69,0,0,0,.343,3.087,5.688,5.688,0,0,0,1.519,2.6,5.942,5.942,0,0,0,1.568,1.078,5.859,5.859,0,0,0,4.214,0,4.976,4.976,0,0,0,1.568-1.078,6.157,6.157,0,0,0,1.519-2.6A12.69,12.69,0,0,0,71.592,120.821Z"
            transform="translate(-31.507 -105.09)"
          />
          <path
            id="Path_78"
            data-name="Path 78"
            d="M112.409,113.679a12.431,12.431,0,0,1-.686,4.067,7.317,7.317,0,0,1-2.058,3.136,5.34,5.34,0,0,1-1.911,1.127,6.683,6.683,0,0,1-2.5.441,6.526,6.526,0,0,1-1.666-.245,5.645,5.645,0,0,1-1.568-.686,5.553,5.553,0,0,1-1.323-1.078,4.46,4.46,0,0,1-.931-1.421l-.2,2.94H98.1V97.9h1.666v10.193a5.9,5.9,0,0,1,.931-1.323,6.834,6.834,0,0,1,1.323-1.029,8.944,8.944,0,0,1,1.568-.686,6.968,6.968,0,0,1,1.764-.245,6.144,6.144,0,0,1,2.6.49,7.5,7.5,0,0,1,1.96,1.274,7.943,7.943,0,0,1,1.96,3.136A15.213,15.213,0,0,1,112.409,113.679Zm-1.715-.049a10.687,10.687,0,0,0-.441-3.087,6.488,6.488,0,0,0-1.421-2.548,5.68,5.68,0,0,0-1.519-1.078,5.243,5.243,0,0,0-2.009-.392,4.924,4.924,0,0,0-2.009.343,4.443,4.443,0,0,0-1.47.931,5.8,5.8,0,0,0-1.617,2.5,11.361,11.361,0,0,0-.49,3.332,9.939,9.939,0,0,0,.49,3.234,6.836,6.836,0,0,0,1.617,2.6,5.922,5.922,0,0,0,1.47.98,4.594,4.594,0,0,0,1.911.343,5.5,5.5,0,0,0,1.862-.294,3.866,3.866,0,0,0,1.421-.882,5.808,5.808,0,0,0,1.666-2.6A9.6,9.6,0,0,0,110.694,113.63Z"
            transform="translate(-51.497 -97.9)"
          />
          <path
            id="Path_79"
            data-name="Path 79"
            d="M136.1,101.152V98.8h2.352v2.352Zm.294,21.268V105.759h1.764V122.42Z"
            transform="translate(-70.876 -98.359)"
          />
          <path
            id="Path_80"
            data-name="Path 80"
            d="M157.351,121.961c-.2.049-.392.1-.637.147a4.764,4.764,0,0,1-.882.049,3.364,3.364,0,0,1-2.45-.833,3.642,3.642,0,0,1-.882-2.7V97.9h1.666v20.68a2.445,2.445,0,0,0,.343,1.421,1.511,1.511,0,0,0,1.421.588h.784a3.014,3.014,0,0,0,.637-.049v1.421Z"
            transform="translate(-79.239 -97.9)"
          />
          <path
            id="Path_81"
            data-name="Path 81"
            d="M170,101.152V98.8h2.352v2.352Zm.294,21.268V105.759h1.764V122.42Z"
            transform="translate(-88.163 -98.359)"
          />
          <path
            id="Path_82"
            data-name="Path 82"
            d="M193.289,124.313c-.49.1-.931.2-1.372.294a6.471,6.471,0,0,1-1.372.1,3.812,3.812,0,0,1-3.332-1.372,5.9,5.9,0,0,1-.98-3.528V109.318H182.9V107.8h3.332v-4.606l1.666-.392v5h5.145v1.519H187.9v10.438a12.045,12.045,0,0,0,.1,1.372,3.558,3.558,0,0,0,.441,1.078,1.914,1.914,0,0,0,.833.686,3.619,3.619,0,0,0,1.372.245,12.015,12.015,0,0,0,1.323-.1c.441-.049.882-.147,1.323-.2v1.47Z"
            transform="translate(-94.742 -100.399)"
          />
          <path
            id="Path_83"
            data-name="Path 83"
            d="M217.7,133.239a5.971,5.971,0,0,1-1.715,2.5,4.331,4.331,0,0,1-2.793.882,4.765,4.765,0,0,1-.882-.049c-.245-.049-.49-.049-.686-.1a3.976,3.976,0,0,1-.539-.147V134.9a3.309,3.309,0,0,0,.686.1,10.437,10.437,0,0,0,1.323.1,2.763,2.763,0,0,0,1.911-.686,5.445,5.445,0,0,0,1.127-1.764l1.078-2.744L210.4,113h1.813l5.831,14.8,5.586-14.8h1.813Z"
            transform="translate(-108.766 -105.6)"
          />
        </g>
      </svg>
      <!-- Layout Icons -->
      <!-- 4 Column Assymetrical -->
      <svg
        id="layout_4_split_assymetrical"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 13" transform="translate(-143 -1229)">
          <path
            id="Rectangle_10"
            data-name="Rectangle 10"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(143 1229)"
            fill="#707070"
          />
          <path
            id="Line_5"
            data-name="Line 5"
            d="M1,15H-1V0H1Z"
            transform="translate(155.135 1230.5)"
            fill="#707070"
          />
          <path
            id="Line_6"
            data-name="Line 6"
            d="M14.594,1H0V-1H14.594Z"
            transform="translate(144.906 1239.5)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 4 Column Symmetrical -->
      <svg
        id="layout_4_split_symetrical"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 14" transform="translate(-163 -1229)">
          <path
            id="Rectangle_11"
            data-name="Rectangle 11"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(163 1229)"
            fill="#707070"
          />
          <path
            id="Line_7"
            data-name="Line 7"
            d="M1,15H-1V0H1Z"
            transform="translate(172.116 1230.5)"
            fill="#707070"
          />
          <path
            id="Line_8"
            data-name="Line 8"
            d="M15.232,1H0V-1H15.232Z"
            transform="translate(164.5 1239.5)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 3 Column Horizontal Assymetrical -->
      <svg
        id="layout_bottom_split_assymetrical"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 15" transform="translate(-143 -1250)">
          <path
            id="Rectangle_14"
            data-name="Rectangle 14"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(143 1250)"
            fill="#707070"
          />
          <path
            id="Line_14"
            data-name="Line 14"
            d="M1,7H-1V0H1Z"
            transform="translate(155.135 1259.5)"
            fill="#707070"
          />
          <path
            id="Line_15"
            data-name="Line 15"
            d="M14.594,1H0V-1H14.594Z"
            transform="translate(144.906 1260.5)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 3 Column Horizontal Symetrical -->
      <svg
        id="layout_bottom_split_symetrical"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 19" transform="translate(-163 -1250)">
          <path
            id="Rectangle_17"
            data-name="Rectangle 17"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(163 1250)"
            fill="#707070"
          />
          <path
            id="Line_20"
            data-name="Line 20"
            d="M1,7H-1V0H1Z"
            transform="translate(172.116 1259.5)"
            fill="#707070"
          />
          <path
            id="Line_21"
            data-name="Line 21"
            d="M15.232,1H0V-1H15.232Z"
            transform="translate(164.5 1260.5)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 3 Column Vertical Assymetrical -->
      <svg
        id="layout_side_split_assymetrical"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 17" transform="translate(-143 -1272)">
          <path
            id="Rectangle_16"
            data-name="Rectangle 16"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(143 1272)"
            fill="#707070"
          />
          <path
            id="Line_17"
            data-name="Line 17"
            d="M1,15H-1V0H1Z"
            transform="translate(155.135 1273.5)"
            fill="#707070"
          />
          <path
            id="Line_18"
            data-name="Line 18"
            d="M6,1H0V-1H6Z"
            transform="translate(154.5 1281)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 3 Column Vertical Symetrical -->
      <svg
        id="layout_side_split_symetrical"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 21" transform="translate(-163 -1272)">
          <path
            id="Rectangle_20"
            data-name="Rectangle 20"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(163 1272)"
            fill="#707070"
          />
          <path
            id="Line_25"
            data-name="Line 25"
            d="M1,15H-1V0H1Z"
            transform="translate(172.116 1273.5)"
            fill="#707070"
          />
          <path
            id="Line_26"
            data-name="Line 26"
            d="M9,1H0V-1H9Z"
            transform="translate(172 1281)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 2 Column Vertical -->
      <svg
        id="layout_2_row"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 20" transform="translate(-163 -1293)">
          <path
            id="Rectangle_19"
            data-name="Rectangle 19"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(163 1293)"
            fill="#707070"
          />
          <path
            id="Line_24"
            data-name="Line 24"
            d="M15.232,1H0V-1H15.232Z"
            transform="translate(164.5 1305.5)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 2 Column Horizontal -->
      <svg
        id="layout_2_col"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 16" transform="translate(-143 -1293)">
          <path
            id="Rectangle_15"
            data-name="Rectangle 15"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(143 1293)"
            fill="#707070"
          />
          <path
            id="Line_16"
            data-name="Line 16"
            d="M1,15H-1V0H1Z"
            transform="translate(155.135 1294.5)"
            fill="#707070"
          />
        </g>
      </svg>
      <!-- 1 Column Horizontal -->
      <svg
        id="layout_3_row"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 22" transform="translate(0.406)">
          <path
            id="Rectangle_18"
            data-name="Rectangle 18"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(-0.406)"
            fill="#707070"
          />
          <g data-name="Group 2" transform="translate(0.968 6)">
            <path
              id="Line_29"
              data-name="Line 29"
              d="M1,15.658H-1V0H1Z"
              transform="translate(0) rotate(-90)"
              fill="#707070"
            />
            <path
              id="Line_30"
              data-name="Line 30"
              d="M1,15.658H-1V0H1Z"
              transform="translate(0 6) rotate(-90)"
              fill="#707070"
            />
          </g>
        </g>
      </svg>
      <!-- 1 Column Vertical -->
      <svg
        id="layout_3_col"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
      >
        <g data-name="Group 18" transform="translate(-163 -1314)">
          <path
            id="Rectangle_12"
            data-name="Rectangle 12"
            d="M2,2V16H16V2H2M0,0H18V18H0Z"
            transform="translate(163 1314)"
            fill="#707070"
          />
          <path
            id="Line_9"
            data-name="Line 9"
            d="M1,15H-1V0H1Z"
            transform="translate(175.155 1315.5)"
            fill="#707070"
          />
          <path
            id="Line_19"
            data-name="Line 19"
            d="M1,15H-1V0H1Z"
            transform="translate(169.077 1315.5)"
            fill="#707070"
          />
        </g>
      </svg>
    </div>
  </body>
</html>
